;/*FB_PKG_DELIM*/

__d("PolarisAPILikePost",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("PolarisInstapi").apiPost("/api/v1/web/likes/{media_id}/like/",{path:{media_id:e}})}l.likePost=e}),98);
__d("PolarisAPIPostNotifyGuardianCall",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r="/api/v1/users/notify_guardian_call/",a={guardian_igid:e,reported_category:n,reported_igid:t};return o("PolarisInstapi").apiPost(r,{body:a}).then(function(e){return e.data})}l.postNotifyGuardianCall=e}),98);
__d("PolarisAPISavePost",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("PolarisInstapi").apiPost("/api/v1/web/save/{media_id}/save/",{path:{media_id:e}})}l.savePost=e}),98);
__d("PolarisAPIUnlikePost",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("PolarisInstapi").apiPost("/api/v1/web/likes/{media_id}/unlike/",{path:{media_id:e}})}l.unlikePost=e}),98);
__d("PolarisAPIUnsavePost",["PolarisInstapi"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("PolarisInstapi").apiPost("/api/v1/web/save/{media_id}/unsave/",{path:{media_id:e}})}l.unsavePost=e}),98);
__d("PolarisFRXBlockUserFollowupModal.react",["CometPlaceholder.react","CometRelay","IGDBlockUserDialogOffMsys.entrypoint","IGDSConfirmDialog.react","IGDSGlimmer.react","JSResourceForInteraction","PolarisBlockDialogContainer.react","PolarisFRXWebReportStrings","PolarisGenericStrings","PolarisLinkBuilder","PolarisNavigationUtils","PolarisReactRedux.react","PolarisReportConstants","isStringNullOrEmpty","lazyLoadComponent","polarisRelationshipSelectors.react","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDBlockUserDialog.react").__setRef("PolarisFRXBlockUserFollowupModal.react"));function d(e,t){var n=e.userToBlock.id;return o("polarisRelationshipSelectors.react").getRelationship(t.relationships,n)}function m(e){e.onClose&&e.onClose()}function p(e){var t=o("react-compiler-runtime").c(24),n;t[0]!==e?(n=function(n){return d(e,n)},t[0]=e,t[1]=n):n=t[1];var a=o("PolarisReactRedux.react").useSelector(n),l=e.frxObjectType,u=e.isGroupThread,p=e.onClose,g=e.threadKey,h=e.userToBlock,y=e.useSimpleBlockModalWithoutRefresh,C=h.fbidV2,b=h.id,v=h.username,S=_(l),R=r("useCometRelayEntrypointContextualEnvironmentProvider")(),L=o("CometRelay").useEntryPointLoader(R,r("IGDBlockUserDialogOffMsys.entrypoint")),E=L[0],k=L[1],I;t[2]!==p?(I=function(){p()},t[2]=p,t[3]=I):I=t[3];var T=I;if(S&&v!=null){E==null&&C!=null&&k({userFbId:C});var D;t[4]!==E||t[5]!==u||t[6]!==T||t[7]!==g||t[8]!==b||t[9]!==v?(D=E?s.jsx(o("CometRelay").EntryPointContainer,{entryPointReference:E,props:{blockUserIgId:b,isBlocked:!1,onClose:T}}):s.jsx(c,{clickPoint:"report",contactID:b,isAfterReport:!0,isBlocked:!1,isGroup:u!=null?u:!1,onClose:T,shouldReportAsInstamadillo:!1,threadKey:g,userName:v}),t[4]=E,t[5]=u,t[6]=T,t[7]=g,t[8]=b,t[9]=v,t[10]=D):D=t[10];var x=D,$;t[11]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(r("IGDSGlimmer.react"),{index:0}),t[11]=$):$=t[11];var P;return t[12]!==x?(P=s.jsx(r("CometPlaceholder.react"),{fallback:$,name:i.id,children:x}),t[12]=x,t[13]=P):P=t[13],P}if(!b)return null;if(y===!0){var N;return t[14]!==e?(N=s.jsx(f,babelHelpers.extends({},e)),t[14]=e,t[15]=N):N=t[15],N}var M;t[16]!==e?(M=function(){return m(e)},t[16]=e,t[17]=M):M=t[17];var w;return t[18]!==C||t[19]!==a||t[20]!==M||t[21]!==b||t[22]!==v?(w=s.jsx(r("PolarisBlockDialogContainer.react"),{fbidV2:C,onClose:M,relationship:a,userId:b,username:v}),t[18]=C,t[19]=a,t[20]=M,t[21]=b,t[22]=v,t[23]=w):w=t[23],w}function _(e){switch(e){case o("PolarisReportConstants").FRXObjectType.DIRECT_MESSAGE:case o("PolarisReportConstants").FRXObjectType.DIRECT_MESSAGE_THREAD:case o("PolarisReportConstants").FRXObjectType.ENCRYPTED_DIRECT_MESSAGE:return!0;default:return!1}}function f(e){var t=o("react-compiler-runtime").c(18),n=e.userToBlock,a=n.username,i,l,u,c;if(t[0]!==a?(c=r("isStringNullOrEmpty")(a)?null:o("PolarisLinkBuilder").buildUserLink(a),u=r("isStringNullOrEmpty")(c),t[0]=a,t[1]=i,t[2]=l,t[3]=u,t[4]=c):(i=t[1],l=t[2],u=t[3],c=t[4]),u){i=o("PolarisGenericStrings").CLOSE_TEXT;var p;t[8]===Symbol.for("react.memo_cache_sentinel")?(p={},t[8]=p):p=t[8],l=p}else{i=o("PolarisGenericStrings").CANCEL_TEXT;var d;t[5]!==e||t[6]!==c?(d={confirmLabel:o("PolarisFRXWebReportStrings").VIEW_PROFILE_BUTTON_TEXT,onConfirm:function(){o("PolarisNavigationUtils").openURLWithFullPageReload(c),m(e)}},t[5]=e,t[6]=c,t[7]=d):d=t[7],l=d}var _=l,f=i,g;t[9]!==e?(g=function(){return m(e)},t[9]=e,t[10]=g):g=t[10];var h;t[11]!==a?(h=o("PolarisFRXWebReportStrings").getBlockUserModalTitle(a),t[11]=a,t[12]=h):h=t[12];var y;return t[13]!==i||t[14]!==l||t[15]!==g||t[16]!==h?(y=s.jsx(r("IGDSConfirmDialog.react"),babelHelpers.extends({},_,{body:o("PolarisFRXWebReportStrings").BLOCK_USER_THROUGH_PROFILE_MODAL_CONTENT,cancelLabel:f,onClose:g,title:h})),t[13]=i,t[14]=l,t[15]=g,t[16]=h,t[17]=y):y=t[17],y}l.default=p}),98);
__d("PolarisFRXNotifyGuardianFollowupModal.react",["IGDSConfirmDialog.react","PolarisFRXWebReportStrings","react","react-compiler-runtime","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){e.onClose&&e.onClose()}function c(e,t,n){e.onNotify&&e.onNotify(t,n)}function d(e){var t=o("react-compiler-runtime").c(14),n=r("usePolarisViewer")(),a=n==null?void 0:n.guardianId,i;t[0]!==a||t[1]!==e?(i={confirmLabel:o("PolarisFRXWebReportStrings").SEND_BUTTON_TEXT,onConfirm:function(){c(e,!0,a)}},t[0]=a,t[1]=e,t[2]=i):i=t[2];var l=i,d;t[3]!==e.guardianUsername||t[4]!==e.reportedTagTitle||t[5]!==e.reportedUsername?(d=o("PolarisFRXWebReportStrings").getNotifyGuardianModalText(e.guardianUsername,e.reportedTagTitle,e.reportedUsername),t[3]=e.guardianUsername,t[4]=e.reportedTagTitle,t[5]=e.reportedUsername,t[6]=d):d=t[6];var m;t[7]!==a||t[8]!==e?(m=function(){c(e,!1,a),u(e)},t[7]=a,t[8]=e,t[9]=m):m=t[9];var p;return t[10]!==l||t[11]!==d||t[12]!==m?(p=s.jsx(r("IGDSConfirmDialog.react"),babelHelpers.extends({},l,{body:d,cancelLabel:o("PolarisFRXWebReportStrings").DONT_SEND_BUTTON_TEXT,onClose:m,title:o("PolarisFRXWebReportStrings").NOTIFY_GUARDIAN_MODAL_TITLE_NO_QUESTION})),t[10]=l,t[11]=d,t[12]=m,t[13]=p):p=t[13],p}l.default=d}),98);
__d("PolarisFRXReportBaseScreenModal.react",["cx","IGDSBox.react","IGDSDialogHeader.react","IGDSDialogLegacy.react","PolarisFRXWebReportConstants","PolarisFRXWebReportStrings","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=4,d=4,m=4,p=!1;function _(e,t,n){var r,a=e||{},i=a.response,l=a.type;if(l===o("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.CONFIRMATION)return{headerEnabled:!1};var s=i||{},u=s.title,c=(r=u==null?void 0:u.text)!=null?r:o("PolarisFRXWebReportStrings").DEFAULT_MODAL_HEADER_TEXT;return{headerEnabled:!0,onBackButton:n,titleText:c,withBackButton:t}}function f(e){e.onClose&&e.onClose()}function g(e){var t,n=o("react-compiler-runtime").c(8),a=o("PolarisUA").isMobile()?"large":"default",i=(t=e.headerParams.titleText)!=null?t:void 0,l;n[0]!==e?(l=function(){return f(e)},n[0]=e,n[1]=l):l=n[1];var s;n[2]!==e?(s=u.jsxs("div",{className:"_acgx"+(a==="large"?" _acqj":""),children:[u.jsx(h,babelHelpers.extends({},e)),u.jsx(y,babelHelpers.extends({},e))]}),n[2]=e,n[3]=s):s=n[3];var c;return n[4]!==i||n[5]!==l||n[6]!==s?(c=u.jsx(r("IGDSDialogLegacy.react"),{label:i,onClose:l,size:a,testid:void 0,children:s}),n[4]=i,n[5]=l,n[6]=s,n[7]=c):c=n[7],c}function h(e){var t=o("react-compiler-runtime").c(11),n=e.headerParams,a=n.headerEnabled,i=n.titleText,l=n.onBackButton,s=n.withBackButton,c=s===void 0?p:s;if(!a)return null;var d;t[0]!==l||t[1]!==c?(d=c&&l?{onBack:function(){return l()}}:void 0,t[0]=l,t[1]=c,t[2]=d):d=t[2];var m=d,_;t[3]!==e?(_=function(){return f(e)},t[3]=e,t[4]=_):_=t[4];var g;t[5]!==i?(g=u.jsx(u.Fragment,{children:i}),t[5]=i,t[6]=g):g=t[6];var h;return t[7]!==m||t[8]!==_||t[9]!==g?(h=u.jsx(r("IGDSDialogHeader.react"),babelHelpers.extends({onClose:_},m,{children:g})),t[7]=m,t[8]=_,t[9]=g,t[10]=h):h=t[10],h}function y(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.disableDefaultBodyPaddingMargin,i=a===void 0?!1:a,l,s,p;i?l=p=s=0:(l=c,s=m,p=d);var _,f;t[0]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xkz0k9k xdt5ytf xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak x6ikm8r x10wlt62 xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf"},f={className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak xmz0i5r x6ikm8r x1odjw0f xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf xh8yej3"},t[0]=_,t[1]=f):(_=t[0],f=t[1]);var g;return t[2]!==p||t[3]!==s||t[4]!==l||t[5]!==n?(g=u.jsx("div",babelHelpers.extends({},_,{children:u.jsx("div",babelHelpers.extends({},f,{children:u.jsx(r("IGDSBox.react"),{marginBottom:p,marginTop:s,paddingX:l,position:"relative",children:n})}))})),t[2]=p,t[3]=s,t[4]=l,t[5]=n,t[6]=g):g=t[6],g}l.DEFAULT_BODY_PADDING_X=c,l.DEFAULT_BODY_MARGIN_BOTTOM=d,l.DEFAULT_BODY_MARGIN_TOP=m,l.getDefaultScreenModalHeaderParamsFromScreenPayload=_,l.FRXReportBaseScreenModal=g}),98);
__d("PolarisFRXReportModalLinkUtils",["URI","polarisIsInternalURIString"],(function(t,n,r,o,a,i,l){"use strict";var e,s="help.instagram.com";function u(t){return r("polarisIsInternalURIString")(t)&&new(e||(e=r("URI")))(t).getDomain()===s}function c(e){return u(e)||!r("polarisIsInternalURIString")(e)}l.shouldLinkUseBlankTarget=c}),98);
__d("PolarisFRXReportMainButton.react",["PolarisFRXReportModalLinkUtils","PolarisIGCoreButton.react","isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(14),n=e["data-testid"],a=e.disabled,i=e.href,l=e.onClick,u=e.primaryButton,c=e.spinner,d=e.text,m=e.textAlign,p;if(!r("isStringNullOrEmpty")(i)&&a!==!0){var _=o("PolarisFRXReportModalLinkUtils").shouldLinkUseBlankTarget(i)?"_blank":void 0,f;t[0]!==i||t[1]!==_?(f={href:i,target:_},t[0]=i,t[1]=_,t[2]=f):f=t[2],p=f}var g=u==null||u?"ig-primary-button":"ig-secondary-button",h=!!a,y=!!c,C;t[3]!==l?(C=function(){return l&&l()},t[3]=l,t[4]=C):C=t[4];var b;return t[5]!==p||t[6]!==g||t[7]!==h||t[8]!==y||t[9]!==C||t[10]!==n||t[11]!==d||t[12]!==m?(b=s.jsx(r("PolarisIGCoreButton.react"),babelHelpers.extends({},p,{color:g,"data-testid":void 0,disabled:h,loading:y,onClick:C,textAlign:m,children:d})),t[5]=p,t[6]=g,t[7]=h,t[8]=y,t[9]=C,t[10]=n,t[11]=d,t[12]=m,t[13]=b):b=t[13],b}l.default=u}),98);
__d("PolarisFRXReportModalFollowUpActionSectionFetaSupervisionQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9617087628339557"}),null);
__d("PolarisFRXReportModalFollowUpActionSectionFetaSupervisionQuery.graphql",["PolarisFRXReportModalFollowUpActionSectionFetaSupervisionQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"is_f3_supervised_user",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFRXReportModalFollowUpActionSectionFetaSupervisionQuery",selections:[{alias:null,args:null,concreteType:"XFBYouthPlatformApi",kind:"LinkedField",name:"xfb_youth_platform",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBYouthPlatformViewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"RequiredField",field:e,action:"THROW"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"PolarisFRXReportModalFollowUpActionSectionFetaSupervisionQuery",selections:[{alias:null,args:null,concreteType:"XFBYouthPlatformApi",kind:"LinkedField",name:"xfb_youth_platform",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBYouthPlatformViewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("PolarisFRXReportModalFollowUpActionSectionFetaSupervisionQuery_instagramRelayOperation"),metadata:{},name:"PolarisFRXReportModalFollowUpActionSectionFetaSupervisionQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("PolarisFRXReportModalOptionList.react",["cx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(4),n=e.asRadio,r=e.children,a=n===void 0?!1:n,i="_ac7r";if(a){var l;return t[0]!==r?(l=u.jsx("fieldset",{className:i,children:r}),t[0]=r,t[1]=l):l=t[1],l}var s;return t[2]!==r?(s=u.jsx("div",{className:i,role:"list",children:r}),t[2]=r,t[3]=s):s=t[3],s}l.default=c}),98);
__d("PolarisFRXReportModalOptionListItem.react",["cx","fbt","IGDSBox.react","IGDSChevronIcon.react","IGDSRadioButton.react","IGDSSpinner.react","PolarisFRXReportModalLinkUtils","PolarisFastLink.react","isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d={BUTTON:"button",LINK:"link",RADIO:"radio"},m={DEFAULT:"default",GREY:"grey",RED:"red"},p=4;function _(e){e.onSelect&&e.onSelect()}function f(e){var t=e.href;return r("isStringNullOrEmpty")(t)?d.BUTTON:d.LINK}function g(e){var t=o("react-compiler-runtime").c(38),n=e.children,a=e["data-testid"],i=e.href,l=e.variant,s=e.textColor,u=e.disabled,g=l===void 0?f(e):l,y=s===void 0?m.DEFAULT:s,C=g===d.RADIO,b=n;if(!C){var v;t[0]!==b?(v=c.jsx(r("IGDSBox.react"),{flex:"grow",position:"relative",children:b}),t[0]=b,t[1]=v):v=t[1];var S;t[2]!==u||t[3]!==e?(S=u!==!0&&c.jsx(h,babelHelpers.extends({},e)),t[2]=u,t[3]=e,t[4]=S):S=t[4];var R;t[5]!==v||t[6]!==S?(R=c.jsxs(r("IGDSBox.react"),{alignContent:"center",alignItems:"center",direction:"row",padding:p,position:"relative",children:[v,S]}),t[5]=v,t[6]=S,t[7]=R):R=t[7],b=R}var L="_abn2"+(y===m.RED?" _abn3":"")+(y===m.GREY?" _abn4":"");if(C){var E=e.selected,k=e.value,I=k===void 0?"":k,T;t[8]!==b||t[9]!==L?(T=c.jsx("div",{className:L,children:b}),t[8]=b,t[9]=L,t[10]=T):T=t[10];var D;t[11]!==e?(D=function(){return _(e)},t[11]=e,t[12]=D):D=t[12];var x;t[13]!==E||t[14]!==T||t[15]!==D||t[16]!==I?(x=c.jsx(r("IGDSRadioButton.react"),{isChecked:E,label:T,onChange:D,value:I}),t[13]=E,t[14]=T,t[15]=D,t[16]=I,t[17]=x):x=t[17];var $;return t[18]!==x||t[19]!==a?($=c.jsx(r("IGDSBox.react"),{"data-testid":void 0,padding:p,children:x}),t[18]=x,t[19]=a,t[20]=$):$=t[20],$}else if(g===d.LINK&&i!=null&&i!==""){var P;t[21]!==e?(P=function(){return _(e)},t[21]=e,t[22]=P):P=t[22];var N=o("PolarisFRXReportModalLinkUtils").shouldLinkUseBlankTarget(i)?"_blank":void 0,M;return t[23]!==b||t[24]!==i||t[25]!==L||t[26]!==P||t[27]!==N||t[28]!==a?(M=c.jsx(r("PolarisFastLink.react"),{className:L,"data-testid":void 0,href:i,onClick:P,target:N,children:b}),t[23]=b,t[24]=i,t[25]=L,t[26]=P,t[27]=N,t[28]=a,t[29]=M):M=t[29],M}var w;t[30]!==e?(w=function(){return _(e)},t[30]=e,t[31]=w):w=t[31];var A;return t[32]!==b||t[33]!==u||t[34]!==L||t[35]!==w||t[36]!==a?(A=c.jsx("button",{className:L,"data-testid":void 0,disabled:u,onClick:w,children:b}),t[32]=b,t[33]=u,t[34]=L,t[35]=w,t[36]=a,t[37]=A):A=t[37],A}function h(e){var t=o("react-compiler-runtime").c(4),n=e.loading,a;if(n===!0){var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=c.jsx(r("IGDSSpinner.react"),{size:"small"}),t[0]=i):i=t[0],a=i}else{var l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(r("IGDSChevronIcon.react"),{alt:u._(/*BTDS*/"chevron"),color:"ig-tertiary-text",direction:"next",size:17}),t[1]=l):l=t[1],a=l}var s;return t[2]!==a?(s=c.jsx(r("IGDSBox.react"),{alignContent:"center",alignItems:"center",direction:"row",marginStart:2,position:"relative",children:a}),t[2]=a,t[3]=s):s=t[3],s}l.OPTION_LIST_ITEM_VARIANTS=d,l.OPTION_LIST_ITEM_TEXT_COLORS=m,l.FRXReportModalOptionListItem=g}),226);
__d("polarisGetGuardianInfo",["normalizr"],(function(t,n,r,o,a,i,l){"use strict";var e=new(o("normalizr")).schema.Entity("userInfo",{},{idAttribute:function(t){return String(t.pk)},processStrategy:function(t){return{username:t.username}}});function s(t){return o("normalizr").normalize(t,e).entities.userInfo}l.default=s}),98);
__d("PolarisFRXWebReportActions",["IGNavChain","JSResourceForInteraction","PolarisAPIPostNotifyGuardianCall","PolarisDirectLogger","PolarisFRXWebReportConstants","PolarisInstapi","PolarisReportConstants","polarisGetGuardianInfo","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=1,s=r("JSResourceForInteraction")("PolarisFRXWebSendSecureReportAction").__setRef("PolarisFRXWebReportActions");function u(e){var t,n=(t=r("IGNavChain").getInstance())==null?void 0:t.getNavChainForSend(),a=n!=null?JSON.stringify({navigation_chain:n}):null,i=babelHelpers.extends({},e,{frx_prompt_request_type:o("PolarisFRXWebReportConstants").FRX_SCREEN_INPUT_REQUEST_TYPE_INTS.START,logging_extra:a});return m(i,!0)}function c(e){var t,n,o,a=e.frxPromptRequestType,i=e.metadata,l=d(e),s=(t=r("IGNavChain").getInstance())==null?void 0:t.getNavChainForSend(),u=s!=null?JSON.stringify({navigation_chain:s}):null,c=babelHelpers.extends({},i,l,{frx_prompt_request_type:a,logging_extra:u});return m(c,!1,(n=e.optionalParams)==null?void 0:n.thread_id,(o=e.optionalParams)==null?void 0:o.responsible_id)}function d(e){var t=e.context,n=e.optionalParams,r=n.attachments,o=n.evidenceText,a=n.reportSubtype,i=n.selectedPromptButtonActionType,l=n.selectedTagTypes,s=n.selectedVictimID,u=n.tipNumber,c={};return t!=null&&(c.context=t),l!=null&&(c.selected_tag_types=JSON.stringify(l)),i!=null&&(c.action_type=i),s!=null&&(c.victim_user_id=s),u!=null&&(c.tip_number=u),r!=null&&(c.attachments=r),o!=null&&(c.evidence_text=o),a!=null&&(c.report_subtype=a),babelHelpers.extends({},c)}function m(t,n,a,i){return function(l,u){var c=e++;l({frxScreenRequestID:c,isInitScreen:n,type:"FRX_WEB_REPORT_SCREEN_API_REQUESTED"});var d=o("PolarisInstapi").apiPost("/api/v1/web/reports/get_frx_prompt/",{body:t}).then(function(e){return e.data});d.then(function(e){var n=e.response,u=e.type;if(n==null||u==null)l({frxScreenRequestID:c,type:"FRX_WEB_REPORT_SCREEN_API_REQUEST_FAILED"});else{var d=n.frx_context;[o("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_MESSAGE,o("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_THREAD].includes(t.location)&&t.frx_prompt_request_type===o("PolarisFRXWebReportConstants").FRX_SCREEN_INPUT_REQUEST_TYPE_INTS.POLICY_EDUCATION&&i!==void 0&&a!==void 0&&d!==void 0&&r("promiseDone")(s.load().then(function(e){l(e(d,i,a,t.victim_user_id,t.location===o("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_MESSAGE?t.object_id:void 0))})),l({frxScreenRequestID:c,screenPayload:{frxScreenRequestID:c,response:n,type:u},type:"FRX_WEB_REPORT_SCREEN_API_REQUEST_SUCCESS"})}}).catch(function(){l({frxScreenRequestID:c,type:"FRX_WEB_REPORT_SCREEN_API_REQUEST_FAILED"})})}}function p(e,t,n,r){return function(a,i){a({type:"FRX_WEB_NOTIFY_GUARDIAN_FOLLOWUP_MODAL_TO_CONFIMATION_MODAL"}),e&&o("PolarisAPIPostNotifyGuardianCall").postNotifyGuardianCall(t,n,r).catch(function(e){var t=new(o("PolarisDirectLogger")).DirectLogger("DirectActions");t.logError("Notify Guardian From Web",e)})}}function _(e){return babelHelpers.extends({type:"FRX_WEB_REPORT_REPORTING_MODAL_CLOSED"},e)}function f(){return{type:"FRX_WEB_REPORT_GO_BACK_ONE_SCREEN"}}function g(){return{type:"FRX_WEB_REPORT_START_UNFOLLOW_FOLLOWUP"}}function h(){return{type:"FRX_WEB_REPORT_START_BLOCK_FOLLOWUP"}}function y(){return{type:"FRX_WEB_REPORT_START_NOTIFY_GUARDIAN_FOLLOWUP"}}function C(){return{type:"FRX_WEB_REPORT_SUPPORT_HUB_FOLLOWUP"}}function b(){return function(e,t){e({type:"FRX_WEB_REPORT_DISABLE_NOTIFY_GUARDIAN_OPTION"})}}function v(e){return function(t,n){o("PolarisInstapi").apiGet("/api/v1/users/{user_id}/info/",{path:{user_id:e}}).then(function(n){var o=n.data.user;o&&t({guardian:r("polarisGetGuardianInfo")(o)[e],type:"FRX_WEB_REPORT_STORE_GUARDIAN_INFORMATION"})})}}function S(e){return function(t,n){t({reportedTagTitle:e,type:"FRX_WEB_REPORT_STORE_REPORTED_TAG_TITLE"})}}l.doRequestInitFRXScreenAction=u,l.doRequestNextFRXScreenAction=c,l.doOpenNotifyGuardianFollowupModalToPreviousScreenAction=p,l.doReportingModalClosedAction=_,l.doGoBackOneFRXScreenAction=f,l.doStartUnfollowFollowupAction=g,l.doStartBlockFollowupAction=h,l.doStartNotifyGuardianFollowupAction=y,l.doOpenSupportHubFollowupAction=C,l.doDisableNotifyGuardianOption=b,l.doStoreGuardianInformation=v,l.doStoreReportedTagTitle=S}),98);
__d("PolarisFRXWebReportStateSelectors",["PolarisFRXWebReportConstants","PolarisFRXWebReportUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.webFRXReport.pendingFRXScreenRequestID!==null}function s(e){return e.webFRXReport.screenHistoryStack}function u(e){return o("PolarisFRXWebReportUtils").getCurrentScreenFromHistoryStack(s(e))}function c(e){return s(e).length}function d(e){var t=s(e);return t.findIndex(function(e){return e.type===o("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.CONFIRMATION})>=0}function m(e){return e.webFRXReport.currRenderStep}function p(e){return e.webFRXReport.disableNotifyGuardianOption}function _(e){return e.webFRXReport.guardianUsername}function f(e){return e.webFRXReport.reportedTagTitle}l.getIsFRXScreenRequestProcessing=e,l.getCurrScreenPayload=u,l.getScreenHistorySize=c,l.getIsConfirmationScreenInHistoryStack=d,l.getCurrRenderStep=m,l.getDisableNotifyGuardianOption=p,l.getGuardianUsername=_,l.getReportedTagTitle=f}),98);
__d("PolarisFRXReportModalFollowUpActionSection.react",["IGDSBox.react","PolarisFRXReportModalFollowUpActionSectionFetaSupervisionQuery.graphql","PolarisFRXReportModalOptionList.react","PolarisFRXReportModalOptionListItem.react","PolarisFRXWebReportActions","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisReactRedux.react","PolarisReportConstants","gkx","isStringNullOrEmpty","polarisRelationshipSelectors.react","react","react-compiler-runtime","react-relay/relay-hooks/useLazyLoadQuery","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(e,t){var n=e.reportedOwner.id;return o("polarisRelationshipSelectors.react").getRelationship(t.relationships,n)}function d(e,t){var n=e.onSelectFollowupAction;n(t)}function m(t){var a,i=o("react-compiler-runtime").c(22),l,s;i[0]===Symbol.for("react.memo_cache_sentinel")?(l=e!==void 0?e:e=n("PolarisFRXReportModalFollowUpActionSectionFetaSupervisionQuery.graphql"),s={},i[0]=l,i[1]=s):(l=i[0],s=i[1]);var m=r("react-relay/relay-hooks/useLazyLoadQuery")(l,s),y=(a=m.xfb_youth_platform)==null||(a=a.viewer)==null?void 0:a.is_f3_supervised_user,C=t.followUpActions,b;i[2]!==t?(b=function(n){return o("polarisRelationshipSelectors.react").followedByViewer(c(t,n))},i[2]=t,i[3]=b):b=i[3];var v=o("PolarisReactRedux.react").useSelector(b),S;i[4]!==t?(S=function(n){return o("polarisRelationshipSelectors.react").isBlockedByViewer(c(t,n))},i[4]=t,i[5]=S):S=i[5];var R=o("PolarisReactRedux.react").useSelector(S),L=r("usePolarisViewer")(),E;if(i[6]!==C||i[7]!==y||i[8]!==t||i[9]!==R||i[10]!==v||i[11]!==(L==null?void 0:L.isSupervisedUser)){var k;i[13]!==y||i[14]!==t||i[15]!==R||i[16]!==v||i[17]!==(L==null?void 0:L.isSupervisedUser)?(k=function(n,a){var e=n.action_type,i=n.beta_redirect_uri,l=n.name;if(e==null)return null;var s=l==null?void 0:l.text,c=function(){return d(t,n)},m="followup-"+a;switch(e){case o("PolarisReportConstants").FRXActionType.LEARN_MORE_ADS:case o("PolarisReportConstants").FRXActionType.LEARN_MORE_EDUCATION:case o("PolarisReportConstants").FRXActionType.SELF_INJURY_EDUCATION_ACTION:case o("PolarisReportConstants").FRXActionType.EATING_DISORDER_EDUCATION_ACTION:return s==null||s===""||i==null||i===""?null:u.jsx(o("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{href:i,onSelect:c,children:s},m);case o("PolarisReportConstants").FRXActionType.UNFOLLOW:return v?u.jsx(_,{labelText:s,onSelect:c},m):null;case o("PolarisReportConstants").FRXActionType.BLOCK_ACTOR:return R?null:u.jsx(f,{labelText:s,onSelect:c},m);case o("PolarisReportConstants").FRXActionType.SUPPORT_HUB:{var p=r("gkx")("5568");return p?u.jsx(g,{labelText:s,onSelect:c},m):null}case o("PolarisReportConstants").FRXActionType.NOTIFY_GUARDIAN:return(L==null?void 0:L.isSupervisedUser)!==!0&&y!==!0?null:u.jsx(h,{labelText:s,onSelect:c},m);default:return null}},i[13]=y,i[14]=t,i[15]=R,i[16]=v,i[17]=L==null?void 0:L.isSupervisedUser,i[18]=k):k=i[18],E=C.map(k).filter(p),i[6]=C,i[7]=y,i[8]=t,i[9]=R,i[10]=v,i[11]=L==null?void 0:L.isSupervisedUser,i[12]=E}else E=i[12];var I=E;if(I.length===0)return null;var T;i[19]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(r("IGDSBox.react"),{marginTop:11,position:"relative"}),i[19]=T):T=i[19];var D;return i[20]!==I?(D=u.jsxs(u.Fragment,{children:[T,u.jsx(r("PolarisFRXReportModalOptionList.react"),{children:I})]}),i[20]=I,i[21]=D):D=i[21],D}function p(e){return e!=null}function _(e){var t=o("react-compiler-runtime").c(6),n=e.labelText,a=e.onSelect,i=r("isStringNullOrEmpty")(n)?o("PolarisFRXWebReportStrings").DEFAULT_UNFOLLOW_BUTTON_TEXT:n,l=o("PolarisReactRedux.react").useDispatch(),s;t[0]!==l||t[1]!==a?(s=function(){a(),l(o("PolarisFRXWebReportActions").doStartUnfollowFollowupAction())},t[0]=l,t[1]=a,t[2]=s):s=t[2];var c;return t[3]!==s||t[4]!==i?(c=u.jsx(o("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{onSelect:s,children:i}),t[3]=s,t[4]=i,t[5]=c):c=t[5],c}function f(e){var t=o("react-compiler-runtime").c(6),n=e.labelText,a=e.onSelect,i=r("isStringNullOrEmpty")(n)?o("PolarisFRXWebReportStrings").DEFAULT_BLOCK_BUTTON_TEXT:n,l=o("PolarisReactRedux.react").useDispatch(),s;t[0]!==l||t[1]!==a?(s=function(){a(),l(o("PolarisFRXWebReportActions").doStartBlockFollowupAction())},t[0]=l,t[1]=a,t[2]=s):s=t[2];var c;return t[3]!==i||t[4]!==s?(c=u.jsx(o("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{onSelect:s,textColor:o("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.RED,children:i}),t[3]=i,t[4]=s,t[5]=c):c=t[5],c}function g(e){var t=o("react-compiler-runtime").c(6),n=e.labelText,a=e.onSelect,i=r("isStringNullOrEmpty")(n)?o("PolarisFRXWebReportStrings").DEFAULT_GET_SUPPORT_BUTTON_TEXT:n,l=o("PolarisReactRedux.react").useDispatch(),s;t[0]!==l||t[1]!==a?(s=function(){a(),l(o("PolarisFRXWebReportActions").doOpenSupportHubFollowupAction())},t[0]=l,t[1]=a,t[2]=s):s=t[2];var c;return t[3]!==s||t[4]!==i?(c=u.jsx(o("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{onSelect:s,children:i}),t[3]=s,t[4]=i,t[5]=c):c=t[5],c}function h(e){var t=o("react-compiler-runtime").c(8),n=e.labelText,a=e.onSelect,i=r("isStringNullOrEmpty")(n)?o("PolarisFRXWebReportStrings").DEFAULT_NOTIFY_GUARDIAN_BUTTON_TEXT:n,l=o("PolarisReactRedux.react").useDispatch(),s=o("PolarisReactRedux.react").useSelector(o("PolarisFRXWebReportStateSelectors").getDisableNotifyGuardianOption),c=s===!0?o("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.GREY:o("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.DEFAULT,d;t[0]!==l||t[1]!==a?(d=function(){a(),l(o("PolarisFRXWebReportActions").doStartNotifyGuardianFollowupAction())},t[0]=l,t[1]=a,t[2]=d):d=t[2];var m;return t[3]!==s||t[4]!==i||t[5]!==d||t[6]!==c?(m=u.jsx(o("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{disabled:s,onSelect:d,textColor:c,children:i}),t[3]=s,t[4]=i,t[5]=d,t[6]=c,t[7]=m):m=t[7],m}l.default=m}),98);
__d("PolarisFRXReportModalRichText.react",["PolarisFRXReportModalLinkUtils","PolarisFastLink.react","PolarisTextWithEntities.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.token;if(!t)return null;var n=t.color,r=t.style,o=t.uri;return n==null&&(n=t[3]),r==null&&(r=t[1]),(o===""||o==null)&&(o=t[2]),r!=null&&(r=parseInt(r,10)),{color:n,style:r,uri:o}}function c(e){if(!e)return[];var t=[];return e.forEach(function(e){var n=e.length,r=e.offset,o=u(e)||{},a=o.color,i=o.style,l=o.uri;n!=null&&r!=null&&(l!=null||a!=null||i!=null)&&t.push({color:a,length:n,offset:r,override_uri:l,style:i})}),t}function d(e){var t=o("react-compiler-runtime").c(5),n=e.richText;if(n==null)return null;var a=n.markup,i=n.text;if(i==null)return null;var l;t[0]!==a?(l=c(a),t[0]=a,t[1]=l):l=t[1];var u;return t[2]!==l||t[3]!==i?(u=s.jsx(r("PolarisTextWithEntities.react"),{rangeRenderer:p,ranges:l,text:i,textRenderer:m}),t[2]=l,t[3]=i,t[4]=u):u=t[4],u}function m(e){return s.jsx(s.Fragment,{children:e})}function p(e,t){var n=t.override_uri;return n!=null?s.jsx(r("PolarisFastLink.react"),{href:n,target:o("PolarisFRXReportModalLinkUtils").shouldLinkUseBlankTarget(n)?"_blank":void 0,children:e}):e}l.default=d}),98);
__d("PolarisFRXWebReportAPIUtilsLogComplianceEntrypointMutation_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25979823861615573"}),null);
__d("PolarisFRXWebReportAPIUtilsLogComplianceEntrypointMutation.graphql",["PolarisFRXWebReportAPIUtilsLogComplianceEntrypointMutation_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"compliance_type"},{defaultValue:null,kind:"LocalArgument",name:"context"}],t=[{alias:null,args:[{fields:[{kind:"Variable",name:"compliance_type",variableName:"compliance_type"},{kind:"Variable",name:"context",variableName:"context"}],kind:"ObjectValue",name:"input"}],concreteType:"IgFrxLogComplianceEntrypointResponsePayload",kind:"LinkedField",name:"ig_frx_log_compliance_entrypoint",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"PolarisFRXWebReportAPIUtilsLogComplianceEntrypointMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"PolarisFRXWebReportAPIUtilsLogComplianceEntrypointMutation",selections:t},params:{id:n("PolarisFRXWebReportAPIUtilsLogComplianceEntrypointMutation_instagramRelayOperation"),metadata:{},name:"PolarisFRXWebReportAPIUtilsLogComplianceEntrypointMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("PolarisFRXWebReportAPIUtils",["CometRelay","PolarisFRXWebReportAPIUtilsLogComplianceEntrypointMutation.graphql","PolarisFRXWebReportConstants","PolarisInstapi","PolarisRelayEnvironment","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){o("PolarisInstapi").apiPost("/api/v1/web/reports/log_tag_selected/",{body:e}).catch(r("emptyFunction"))}function u(e){o("PolarisInstapi").apiPost("/api/v1/web/reports/handle_guided_action/",{body:e}).catch(r("emptyFunction"))}var c=e!==void 0?e:e=n("PolarisFRXWebReportAPIUtilsLogComplianceEntrypointMutation.graphql");function d(e){var t,n=o("PolarisFRXWebReportConstants").FRX_COMPLIANCE_SCREEN_TYPE_STRINGS[e.compliance_type];o("CometRelay").commitMutation(r("PolarisRelayEnvironment"),{mutation:c,onError:r("emptyFunction"),variables:{compliance_type:n,context:(t=e.context)!=null?t:""}})}l.logFRXTagSelected=s,l.handleFRXGuidedAction=u,l.logFRXComplianceEntrypointRenderedGraphQL=d}),98);
__d("PolarisFRXReportConfirmationScreenModalForSupervision.react",["IGDSBox.react","IGDSCircleCheckPanoOutlineIcon.react","IGDSTextVariants.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportMainButton.react","PolarisFRXReportModalFollowUpActionSection.react","PolarisFRXReportModalRichText.react","PolarisFRXWebReportAPIUtils","PolarisFRXWebReportStrings","PolarisGenericStrings","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e,t){var n=t.action_type;if(n!=null){var r=e.screenPayload.response;o("PolarisFRXWebReportAPIUtils").handleFRXGuidedAction({action_type:n,context:r==null?void 0:r.context})}}function c(e){var t=o("react-compiler-runtime").c(13),n=e.headerParams,a=e.onClose,i;t[0]!==a?(i=function(){return a()},t[0]=a,t[1]=i):i=t[1];var l=i,u,c;t[2]!==e?(u=s.jsx(d,babelHelpers.extends({},e)),c=s.jsx(m,babelHelpers.extends({},e)),t[2]=e,t[3]=u,t[4]=c):(u=t[3],c=t[4]);var p;t[5]!==l?(p=s.jsx(r("IGDSBox.react"),{marginBottom:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM,marginTop:4,paddingX:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:s.jsx(r("PolarisFRXReportMainButton.react"),{onClick:l,text:o("PolarisGenericStrings").CLOSE_TEXT})}),t[5]=l,t[6]=p):p=t[6];var _;return t[7]!==n||t[8]!==l||t[9]!==u||t[10]!==c||t[11]!==p?(_=s.jsxs(o("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:n,onClose:l,children:[u,c,p]}),t[7]=n,t[8]=l,t[9]=u,t[10]=c,t[11]=p,t[12]=_):_=t[12],_}function d(e){var t=o("react-compiler-runtime").c(14),n=e.screenPayload,a;t[0]!==n?(a=n||{},t[0]=n,t[1]=a):a=t[1];var i=a,l=i.response,u;t[2]!==l?(u=l||{},t[2]=l,t[3]=u):u=t[3];var c=u,d=c.follow_up_actions_title,m=c.subtitle,p;t[4]!==m?(p=m?s.jsx(r("IGDSBox.react"),{marginTop:6,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextSection,{textAlign:"center",zeroMargin:!0,children:s.jsx(r("PolarisFRXReportModalRichText.react"),{richText:m})})}):null,t[4]=m,t[5]=p):p=t[5];var _=p,f=null;if(d){var g;if(t[6]!==d?(g=s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:s.jsx(r("PolarisFRXReportModalRichText.react"),{richText:d})}),t[6]=d,t[7]=g):g=t[7],f=g,_){var h;t[8]!==f?(h=s.jsx(r("IGDSBox.react"),{marginTop:2,position:"relative",children:f}),t[8]=f,t[9]=h):h=t[9],f=h}}var y;t[10]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(r("IGDSCircleCheckPanoOutlineIcon.react"),{alt:o("PolarisFRXWebReportStrings").CHECKMARK_ICON_ALT_TEXT,color:"ig-success",size:48}),t[10]=y):y=t[10];var C;return t[11]!==f||t[12]!==_?(C=s.jsx(r("IGDSBox.react"),{marginTop:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP,paddingX:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:s.jsxs(r("IGDSBox.react"),{alignContent:"center",alignItems:"center",marginTop:6,position:"relative",children:[y,_,f]})}),t[11]=f,t[12]=_,t[13]=C):C=t[13],C}function m(e){var t=o("react-compiler-runtime").c(6),n=e.reportedOwner,a=e.screenPayload,i=a.response,l=i==null?void 0:i.follow_up_actions;if(!l||l.length===0)return null;var c;t[0]!==e?(c=function(n){u(e,n)},t[0]=e,t[1]=c):c=t[1];var d;return t[2]!==l||t[3]!==n||t[4]!==c?(d=s.jsx(r("PolarisFRXReportModalFollowUpActionSection.react"),{followUpActions:l,onSelectFollowupAction:c,reportedOwner:n}),t[2]=l,t[3]=n,t[4]=c,t[5]=d):d=t[5],d}l.default=c}),98);
__d("PolarisFRXReportModalFetaSupervisionQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29609414422005335"}),null);
__d("PolarisFRXReportModalFetaSupervisionQuery.graphql",["PolarisFRXReportModalFetaSupervisionQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"is_f3_supervised_user",storageKey:null},t={alias:null,args:null,concreteType:"XFBXMFCGuardianPreferredProfile",kind:"LinkedField",name:"f3_guardian_preferred_profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFRXReportModalFetaSupervisionQuery",selections:[{alias:null,args:null,concreteType:"XFBYouthPlatformApi",kind:"LinkedField",name:"xfb_youth_platform",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBYouthPlatformViewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"RequiredField",field:e,action:"THROW"},t],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"PolarisFRXReportModalFetaSupervisionQuery",selections:[{alias:null,args:null,concreteType:"XFBYouthPlatformApi",kind:"LinkedField",name:"xfb_youth_platform",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBYouthPlatformViewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("PolarisFRXReportModalFetaSupervisionQuery_instagramRelayOperation"),metadata:{},name:"PolarisFRXReportModalFetaSupervisionQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("PolarisFRXReportModalSupportHub.react",["CometPlaceholder.react","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","PolarisFRXReportBaseScreenModal.react","PolarisNavigationUtils","lazyLoadComponent","react","react-compiler-runtime","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisFRXReportModalSupportHub.react")),c="com.bloks.www.frx.support_hub_async";function d(e){var t,n=o("react-compiler-runtime").c(22),a=(t=e.is_igd)!=null?t:!1,l=e.location,d=e.tags_selected,p;n[0]===Symbol.for("react.memo_cache_sentinel")?(p=r("uuidv4")(),n[0]=p):p=n[0];var _;n[1]!==e.location||n[2]!==e.tags_selected||n[3]!==a?(_={is_fullscreen_enabled:!1,is_igd:a,location:l,selected_tags:d,session_id:""+p},n[1]=e.location,n[2]=e.tags_selected,n[3]=a,n[4]=_):_=n[4];var f=_,g;n[5]!==e?(g=function(){e.onClose&&e.onClose()},n[5]=e,n[6]=g):g=n[6];var h=g,y;n[7]!==e?(y=function(){e.onGoBack&&e.onGoBack()},n[7]=e,n[8]=y):y=n[8];var C=y,b=m,v;if(n[9]!==C){var S=function(t){C()};v={"bk.action.navigation.OpenUrl":b,"bk.action.navigation.OpenUrlV2":b,"bk.action.screen.Close":S,"ig.action.navigation.OpenUrl":b},n[9]=C,n[10]=v}else v=n[10];var R=v,L=!!e.onGoBack,E;n[11]!==C||n[12]!==L?(E={headerEnabled:!1,onBackButton:C,titleText:"Support",withBackButton:L},n[11]=C,n[12]=L,n[13]=E):E=n[13];var k=E,I;n[14]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(r("IGDSBox.react"),{alignContent:"center",alignItems:"center",justifyContent:"center",position:"relative",children:s.jsx(r("IGDSSpinner.react"),{})}),n[14]=I):I=n[14];var T=I,D;n[15]!==R||n[16]!==f?(D=s.jsx(r("IGDSBox.react"),{color:"primaryBackground",minHeight:300,position:"relative",children:s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(u,{actionOverrides:R,appId:c,loadingFallback:T,params:f})})}),n[15]=R,n[16]=f,n[17]=D):D=n[17];var x;return n[18]!==k||n[19]!==h||n[20]!==D?(x=s.jsx(o("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:k,onClose:h,children:D}),n[18]=k,n[19]=h,n[20]=D,n[21]=x):x=n[21],x}function m(e,t){return o("PolarisNavigationUtils").openURLWithFullPageReload(t,{openInNewTab:!0})}l.default=d}),98);
__d("PolarisFRXComplianceScreenModal.react",["IGDSBox.react","IGDSTextVariants.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportMainButton.react","PolarisFRXReportModalRichText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(20),n=e.headerParams,a=e.onClose,i=e.screenPayload,l=i.response,u;t[0]!==l?(u=l||{},t[0]=l,t[1]=u):u=t[1];var d=u,m=d.button_text,p=d.contact_form_url,_=d.content,f=d.title,g;t[2]!==f?(g=f?s.jsx(r("IGDSBox.react"),{marginBottom:4,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextSection,{elementType:"h2",textAlign:"start",zeroMargin:!0,children:s.jsx(r("PolarisFRXReportModalRichText.react"),{richText:f})})}):null,t[2]=f,t[3]=g):g=t[3];var h;t[4]!==_?(h=_&&_.length>0?s.jsx(r("IGDSBox.react"),{position:"relative",children:_.map(c)}):null,t[4]=_,t[5]=h):h=t[5];var y;t[6]!==g||t[7]!==h?(y=s.jsxs(r("IGDSBox.react"),{marginTop:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP,paddingX:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:[g,h]}),t[6]=g,t[7]=h,t[8]=y):y=t[8];var C;t[9]!==m||t[10]!==p||t[11]!==e.onSubmitScreen?(C=(m==null?void 0:m.text)!=null?s.jsx(r("PolarisFRXReportMainButton.react"),{"data-testid":void 0,href:p,onClick:e.onSubmitScreen,text:m.text,textAlign:"center"}):null,t[9]=m,t[10]=p,t[11]=e.onSubmitScreen,t[12]=C):C=t[12];var b;t[13]!==C?(b=s.jsx(r("IGDSBox.react"),{marginBottom:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM,marginTop:4,paddingX:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:C}),t[13]=C,t[14]=b):b=t[14];var v;return t[15]!==n||t[16]!==a||t[17]!==y||t[18]!==b?(v=s.jsxs(o("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:n,onClose:a,children:[y,b]}),t[15]=n,t[16]=a,t[17]=y,t[18]=b,t[19]=v):v=t[19],v}function c(e,t){return s.jsx(r("IGDSBox.react"),{marginBottom:3,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{textAlign:"start",zeroMargin:!0,children:s.jsx(r("PolarisFRXReportModalRichText.react"),{richText:e})})},t)}c.displayName=c.name+" [from "+i.id+"]",l.default=u}),98);
__d("PolarisFRXReportConfirmationScreenModal.react",["IGDSBox.react","IGDSCircleCheckPanoOutlineIcon.react","IGDSTextVariants.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportMainButton.react","PolarisFRXReportModalFollowUpActionSection.react","PolarisFRXReportModalRichText.react","PolarisFRXWebReportAPIUtils","PolarisFRXWebReportStrings","PolarisGenericStrings","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e,t){var n=t.action_type;if(n!=null){var r=e.screenPayload.response;o("PolarisFRXWebReportAPIUtils").handleFRXGuidedAction({action_type:n,context:r==null?void 0:r.context})}}function c(e){var t=o("react-compiler-runtime").c(13),n=e.headerParams,a=e.onClose,i;t[0]!==a?(i=function(){return a()},t[0]=a,t[1]=i):i=t[1];var l=i,u,c;t[2]!==e?(u=s.jsx(d,babelHelpers.extends({},e)),c=s.jsx(m,babelHelpers.extends({},e)),t[2]=e,t[3]=u,t[4]=c):(u=t[3],c=t[4]);var p;t[5]!==l?(p=s.jsx(r("IGDSBox.react"),{marginBottom:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM,marginTop:4,paddingX:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:s.jsx(r("PolarisFRXReportMainButton.react"),{"data-testid":void 0,onClick:l,text:o("PolarisGenericStrings").CLOSE_TEXT})}),t[5]=l,t[6]=p):p=t[6];var _;return t[7]!==n||t[8]!==l||t[9]!==u||t[10]!==c||t[11]!==p?(_=s.jsxs(o("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:n,onClose:l,children:[u,c,p]}),t[7]=n,t[8]=l,t[9]=u,t[10]=c,t[11]=p,t[12]=_):_=t[12],_}function d(e){var t=o("react-compiler-runtime").c(14),n=e.screenPayload,a;t[0]!==n?(a=n||{},t[0]=n,t[1]=a):a=t[1];var i=a,l=i.response,u;t[2]!==l?(u=l||{},t[2]=l,t[3]=u):u=t[3];var c=u,d=c.follow_up_actions_title,m=c.subtitle,p;t[4]!==m?(p=m?s.jsx(r("IGDSBox.react"),{alignItems:"start",marginTop:6,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextSection,{elementType:"h2",textAlign:"center",zeroMargin:!0,children:s.jsx(r("PolarisFRXReportModalRichText.react"),{richText:m})})}):null,t[4]=m,t[5]=p):p=t[5];var _=p,f=null;if(d){var g;if(t[6]!==d?(g=s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:s.jsx(r("PolarisFRXReportModalRichText.react"),{richText:d})}),t[6]=d,t[7]=g):g=t[7],f=g,_){var h;t[8]!==f?(h=s.jsx(r("IGDSBox.react"),{marginTop:2,position:"relative",children:f}),t[8]=f,t[9]=h):h=t[9],f=h}}var y;t[10]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(r("IGDSCircleCheckPanoOutlineIcon.react"),{alt:o("PolarisFRXWebReportStrings").CHECKMARK_ICON_ALT_TEXT,color:"ig-success",size:48}),t[10]=y):y=t[10];var C;return t[11]!==f||t[12]!==_?(C=s.jsx(r("IGDSBox.react"),{marginTop:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP,paddingX:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:s.jsxs(r("IGDSBox.react"),{alignContent:"center",alignItems:"center",marginTop:6,position:"relative",children:[y,_,f]})}),t[11]=f,t[12]=_,t[13]=C):C=t[13],C}function m(e){var t=o("react-compiler-runtime").c(6),n=e.reportedOwner,a=e.screenPayload,i=a.response,l=i==null?void 0:i.follow_up_actions;if(!l||l.length===0)return null;var c;t[0]!==e?(c=function(n){u(e,n)},t[0]=e,t[1]=c):c=t[1];var d;return t[2]!==l||t[3]!==n||t[4]!==c?(d=s.jsx(r("PolarisFRXReportModalFollowUpActionSection.react"),{followUpActions:l,onSelectFollowupAction:c,reportedOwner:n}),t[2]=l,t[3]=n,t[4]=c,t[5]=d):d=t[5],d}l.default=c}),98);
__d("PolarisFRXReportModalScreenContentSectionList.react",["IGDSBox.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=4;function c(e){var t=o("react-compiler-runtime").c(7),n=e.sections,a=e.marginBetween,i=a===void 0?u:a,l;if(t[0]!==i||t[1]!==n){var c;t[3]!==i?(c=function(t,n){var e=n>0&&i!==0?s.jsx(r("IGDSBox.react"),{marginTop:i,position:"relative"}):null;return s.jsxs(s.Fragment,{children:[e,t]},"section-"+n)},t[3]=i,t[4]=c):c=t[4],l=n.filter(d).map(c),t[0]=i,t[1]=n,t[2]=l}else l=t[2];var m=l,p;return t[5]!==m?(p=s.jsx(s.Fragment,{children:m}),t[5]=m,t[6]=p):p=t[6],p}function d(e){return!!e}l.default=c}),98);
__d("PolarisFRXReportModalPolicyEducationSection.react",["IGDSBox.react","IGDSText.react","IGDSTextVariants.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=2,c=1,d="\u2022";function m(e,t){var n=e.first_paragraph,o=[];return[n].forEach(function(e){!e||(e==null?void 0:e.text)==null||(e==null?void 0:e.text)===""||o.push(s.jsx(r("IGDSText.react"),{color:"secondaryText",size:"body",weight:t?"semibold":"normal",zeroMargin:!0,children:s.jsx(r("PolarisFRXReportModalRichText.react"),{richText:e})}))}),o}function p(e){var t=e.policies,n=t===void 0?[]:t;if(!n||n.length===0)return[];var a=[];return n.forEach(function(e){var t=e.title;t&&a.push(s.jsx("div",{role:"listitem",children:s.jsxs(r("IGDSBox.react"),{direction:"row",position:"relative",children:[s.jsx(r("IGDSBox.react"),{marginEnd:2,position:"relative",children:s.jsx("div",{"aria-hidden":"true",children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",zeroMargin:!0,children:d})})}),s.jsx(r("IGDSBox.react"),{flex:"grow",position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",zeroMargin:!0,children:s.jsx(r("PolarisFRXReportModalRichText.react"),{richText:t})})})]})}))}),a}function _(e){var t=o("react-compiler-runtime").c(23),n=e.policyEducation,a=n.second_paragraph,i=n.title,l;t[0]!==i?(l=i?s.jsx(o("IGDSTextVariants.react").IGDSTextSection,{zeroMargin:!0,children:s.jsx(r("PolarisFRXReportModalRichText.react"),{richText:i})}):null,t[0]=i,t[1]=l):l=t[1];var d=l,_;t[2]!==n?(_=p(n),t[2]=n,t[3]=_):_=t[3];var f=_,g=f.length>0,h;t[4]!==n||t[5]!==g?(h=m(n,g),t[4]=n,t[5]=g,t[6]=h):h=t[6];var y=h,C;t[7]!==y||t[8]!==d?(C=y.length>0?s.jsx(r("IGDSBox.react"),{marginTop:d?u:0,position:"relative",children:s.jsx(r("PolarisFRXReportModalScreenContentSectionList.react"),{marginBetween:u,sections:y})}):null,t[7]=y,t[8]=d,t[9]=C):C=t[9];var b=C,v;t[10]!==b||t[11]!==f||t[12]!==d?(v=f.length>0?s.jsx(r("IGDSBox.react"),{marginTop:d||b?c:0,position:"relative",children:s.jsx("div",{role:"list",children:s.jsx(r("PolarisFRXReportModalScreenContentSectionList.react"),{marginBetween:c,sections:f})})}):null,t[10]=b,t[11]=f,t[12]=d,t[13]=v):v=t[13];var S=v,R;t[14]!==S||t[15]!==a||t[16]!==d?(R=a?s.jsxs(r("IGDSBox.react"),{marginTop:S?1:0,position:"relative",children:[s.jsx(r("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",zeroMargin:!0,children:s.jsx(r("PolarisFRXReportModalRichText.react"),{richText:a})}),s.jsx(r("IGDSBox.react"),{height:d?2:10,position:"relative"})]}):null,t[14]=S,t[15]=a,t[16]=d,t[17]=R):R=t[17];var L=R,E;return t[18]!==b||t[19]!==S||t[20]!==L||t[21]!==d?(E=s.jsxs(r("IGDSBox.react"),{position:"relative",children:[d,L,b,S]}),t[18]=b,t[19]=S,t[20]=L,t[21]=d,t[22]=E):E=t[22],E}l.default=_}),98);
__d("PolarisFRXReportModalPromptButton.react",["fbt","PolarisFRXReportMainButton.react","PolarisFRXWebReportStateSelectors","PolarisReactRedux.react","react","react-compiler-runtime","useCometAccessibilityAlerts"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(15),n=o("PolarisReactRedux.react").useSelector(o("PolarisFRXWebReportStateSelectors").getIsFRXScreenRequestProcessing),a=r("useCometAccessibilityAlerts")(),i=a.accessibilityAlerts,l=a.triggerAccessibilityAlert,c=e.actionType,d=e.canSubmitOnClick,m=e.disabled,p=e.href,_=e.label,f=e.onSubmit,g=e.primaryButton,h=m===void 0?!1:m,y=g===void 0?!0:g,C=h||d&&n,b;t[0]!==c||t[1]!==d||t[2]!==f||t[3]!==l?(b=function(){l(s._(/*BTDS*/"Loading")),d&&f&&f(c)},t[0]=c,t[1]=d,t[2]=f,t[3]=l,t[4]=b):b=t[4];var v=d&&n,S;t[5]!==p||t[6]!==_||t[7]!==y||t[8]!==C||t[9]!==b||t[10]!==v?(S=u.jsx(r("PolarisFRXReportMainButton.react"),{disabled:C,href:p,onClick:b,primaryButton:y,spinner:v,text:_}),t[5]=p,t[6]=_,t[7]=y,t[8]=C,t[9]=b,t[10]=v,t[11]=S):S=t[11];var R;return t[12]!==i||t[13]!==S?(R=u.jsxs(u.Fragment,{children:[S,i]}),t[12]=i,t[13]=S,t[14]=R):R=t[14],R}l.default=c}),226);
__d("PolarisFRXReportPolicyEducationScreenModal.react",["IGDSBox.react","IGDSTextVariants.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalPolicyEducationSection.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisFRXWebReportUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(24),n=e.headerParams,a=e.onClose,i=e.screenPayload,l=i.response,u;t[0]!==l?(u=l||{},t[0]=l,t[1]=u):u=t[1];var m=u,p=m.policy_education,_=m.subtitle,f;t[2]!==_?(f=_?s.jsx(c,{subtitle:_}):null,t[2]=_,t[3]=f):f=t[3];var g=f,h;t[4]!==p?(h=p?s.jsx(r("PolarisFRXReportModalPolicyEducationSection.react"),{policyEducation:p}):null,t[4]=p,t[5]=h):h=t[5];var y=h,C;t[6]!==i?(C=o("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(i),t[6]=i,t[7]=C):C=t[7];var b=C,v;t[8]!==b||t[9]!==e?(v=b?s.jsx(d,{parentProps:e,promptButtonProps:b}):null,t[8]=b,t[9]=e,t[10]=v):v=t[10];var S=v,R=null;if(p){var L=p.education_button;if(L){var E,k,I=(E=(k=L.title)==null?void 0:k.text)!=null?E:"",T;if(t[11]!==L.action_type||t[12]!==L.url||t[13]!==I){var D={actionType:L.action_type,canSubmitOnClick:!1,href:L.url,label:I,primaryButton:!1};T=s.jsx(r("PolarisFRXReportModalPromptButton.react"),babelHelpers.extends({},D)),t[11]=L.action_type,t[12]=L.url,t[13]=I,t[14]=T}else T=t[14];R=T}}var x;t[15]!==R||t[16]!==y||t[17]!==S||t[18]!==g?(x=s.jsx(r("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[g,y,S,R]}),t[15]=R,t[16]=y,t[17]=S,t[18]=g,t[19]=x):x=t[19];var $;return t[20]!==n||t[21]!==a||t[22]!==x?($=s.jsx(o("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:n,onClose:a,children:x}),t[20]=n,t[21]=a,t[22]=x,t[23]=$):$=t[23],$}function c(e){var t=o("react-compiler-runtime").c(2),n=e.subtitle,a;return t[0]!==n?(a=s.jsx(r("IGDSBox.react"),{alignItems:"start",marginTop:2,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextSection,{elementType:"h2",children:s.jsx(r("PolarisFRXReportModalRichText.react"),{richText:n})})}),t[0]=n,t[1]=a):a=t[1],a}function d(e){var t=o("react-compiler-runtime").c(5),n=e.parentProps,a=e.promptButtonProps,i=n.onSubmitScreen,l;t[0]!==i?(l=function(t){return i(t)},t[0]=i,t[1]=l):l=t[1];var u;return t[2]!==a||t[3]!==l?(u=s.jsx(r("PolarisFRXReportModalPromptButton.react"),babelHelpers.extends({},a,{onSubmit:l})),t[2]=a,t[3]=l,t[4]=u):u=t[4],u}l.default=u}),98);
__d("PolarisReportSearchBoxContainer.react",["PolarisMobileSearchBox.react","PolarisReactRedux.react","PolarisSearchActions","polarisSearchSelectors","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.search,n=o("polarisSearchSelectors").getCurrentSearchContent(e);return{currentTab:t.currentSearchTab,discoverToken:"",loading:n.loading,rankToken:n.rankToken,results:n.results,searchedForQuery:n.searchedForQuery,selectedIndex:n.selectedIndex,suggested:t.suggested}}function c(e){return{onClearSearch:function(){e(o("PolarisSearchActions").clearSearch())},onNavigateToResult:function(n,r,a){e(o("PolarisSearchActions").navigateToResult(n,r,a))},onSearch:function(n,r,a,i,l){e(o("PolarisSearchActions").search(n,r,a))},onSelectResult:function(n,r){e(o("PolarisSearchActions").selectResult(n,r))}}}var d=o("PolarisReactRedux.react").connect(u,c)(r("PolarisMobileSearchBox.react"));l.default=d}),98);
__d("PolarisReportButton.react",["PolarisIGCoreButton.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.color,i=e.disabled,l=e.onClick,u=a===void 0?"ig-primary-button":a,c;return t[0]!==n||t[1]!==u||t[2]!==i||t[3]!==l?(c=s.jsx(r("PolarisIGCoreButton.react"),{color:u,disabled:i,fullWidth:!0,large:!0,onClick:l,children:n}),t[0]=n,t[1]=u,t[2]=i,t[3]=l,t[4]=c):c=t[4],c}l.default=u}),98);
__d("PolarisReportUserImpersonationListItem.react",["IGDSBox.react","IGDSListItem.react","IGDSTextVariants.react","PolarisAssetManagerGlyphMapping","PolarisGenericStrings","PolarisIGCoreIcon.react","PolarisReportButton.react","PolarisReportStrings","PolarisUserAvatar.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$1=function(){t.props.onReport()},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.render=function(){var e=this.props.result;return s.jsx(r("IGDSListItem.react"),{addOnEnd:s.jsx(r("PolarisReportButton.react"),{onClick:this.$1,children:o("PolarisReportStrings").nextText}),addOnStart:s.jsx(r("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:e.profilePictureUrl,size:44,username:e.username}),subtitle:e.fullName,title:s.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",display:"block",children:[s.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{breakWord:!0,children:e.username}),e.isVerified?s.jsx(r("IGDSBox.react"),{display:"inlineBlock",marginStart:1,children:s.jsx(r("PolarisIGCoreIcon.react"),{alt:o("PolarisGenericStrings").VERIFIED_TEXT,icon:o("PolarisAssetManagerGlyphMapping").ICONS.VERIFIED_SMALL})}):null]})})},t})(s.Component);l.ReportUserImpersonationListItem=u}),98);
__d("PolarisReportUserImpersonationSearchBox.react",["IGDSBox.react","PolarisReportSearchBoxContainer.react","PolarisReportUserImpersonationListItem.react","PolarisSearchConstants","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(23),n=e.fromWebview,a=e.onSelectVictim,i=e.reportedUserID,l=e.searchBoxPlaceHolder,u=e.userSearchResults,c=e.verifiedOnly,d=n===void 0?!1:n,m;t[0]!==l?(m=s.jsx(r("PolarisReportSearchBoxContainer.react"),{analyticsContext:void 0,disableResultKeyboardNav:!0,hideCancelButton:!0,isActive:!0,placeholder:l,searchContext:o("PolarisSearchConstants").SEARCH_CONTEXT.USER,useHistory:!0}),t[0]=l,t[1]=m):m=t[1];var p=d?0:2,_;t[2]!==d?(_={0:{},1:{className:"x14sbp7s x14xr3q5"}}[!!d<<0],t[2]=d,t[3]=_):_=t[3];var f;if(t[4]!==a||t[5]!==i||t[6]!==u||t[7]!==c){var g;t[9]!==i||t[10]!==c?(g=function(t){return c?t.isVerified&&t.pk!==i.toString():t.pk!==i.toString()},t[9]=i,t[10]=c,t[11]=g):g=t[11];var h;t[12]!==a?(h=function(t,n){return s.jsx(o("PolarisReportUserImpersonationListItem.react").ReportUserImpersonationListItem,{onReport:function(){return a(t)},result:t},n)},t[12]=a,t[13]=h):h=t[13],f=u.filter(g).map(h),t[4]=a,t[5]=i,t[6]=u,t[7]=c,t[8]=f}else f=t[8];var y;t[14]!==_||t[15]!==f?(y=s.jsx("div",babelHelpers.extends({},_,{children:f})),t[14]=_,t[15]=f,t[16]=y):y=t[16];var C;t[17]!==p||t[18]!==y?(C=s.jsx(r("IGDSBox.react"),{color:"primaryBackground",marginTop:p,position:"relative",children:y}),t[17]=p,t[18]=y,t[19]=C):C=t[19];var b;return t[20]!==m||t[21]!==C?(b=s.jsxs("div",{children:[m,C]}),t[20]=m,t[21]=C,t[22]=b):b=t[22],b}l.default=u}),98);
__d("PolarisFRXReportSelectVictimScreenModal.react",["IGDSBox.react","IGDSTextVariants.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisReactRedux.react","PolarisReportConstants","PolarisReportUserImpersonationSearchBox.react","PolarisSearchActions","PolarisSearchConstants","polarisSearchSelectors","react","react-compiler-runtime","useJSON"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){for(var t=e.allSearchResults,n=[],r=0;r<t.length;r++){var o=t[r];o.type==="USER_RESULT"&&n.push(o)}return n}function d(e){var t=o("react-compiler-runtime").c(3),n=e.onClearSearch,r,a;t[0]!==n?(r=function(){return(function(){n()})},a=[n],t[0]=n,t[1]=r,t[2]=a):(r=t[1],a=t[2]),u(r,a)}function m(e){d(e);var t=e.headerParams,n=e.onClose,a=e.onSelectVictim,i=e.reportedOwner,l=e.screenPayload,u=l.response,m=u||{},p=m.subtitle,_=u.context,f=i.id,g=p?s.jsx(r("IGDSBox.react"),{marginTop:2,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{children:s.jsx(r("PolarisFRXReportModalRichText.react"),{richText:p})})}):null,h=!1;try{var y=r("useJSON")(_!=null?_:null),C=y==null?void 0:y.tags;h=(C==null?void 0:C.includes(o("PolarisReportConstants").IGUserImpersonationSomeoneIFollowTag.tag_type))===!0}catch(e){h=!1}var b=!h,v=s.jsx(r("PolarisReportUserImpersonationSearchBox.react"),{onSelectVictim:function(t){return a(t)},reportedUserID:f,searchBoxPlaceHolder:o("PolarisSearchConstants").IMPERSONATION_SEARCH_TEXT,userSearchResults:c(e),verifiedOnly:b});return s.jsx(o("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:t,onClose:n,children:s.jsx(r("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[g,v]})})}m.displayName=m.name+" [from "+i.id+"]";function p(e){var t=o("polarisSearchSelectors").getCurrentSearchContent(e),n=t.results;return{allSearchResults:n}}var _={onClearSearch:o("PolarisSearchActions").clearSearch},f=o("PolarisReactRedux.react").connect(p,_)(m);l.default=f}),98);
__d("PolarisFRXReportTagSelectionScreenModal.react",["fbt","IGDSBox.react","IGDSInfoPanoFilledIcon.react","IGDSText.react","IGDSTextVariants.react","InstagramAdHideResponseFalcoEvent","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalOptionList.react","PolarisFRXReportModalOptionListItem.react","PolarisFRXReportModalPolicyEducationSection.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisFRXWebReportAPIUtils","PolarisFRXWebReportConstants","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportUtils","PolarisFastLink.react","PolarisReactRedux.react","PolarisReportConstants","goUriOnNewWindow","isEmpty","isStringNullOrEmpty","polarisAdsSelectors.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useRef,_=d.useState,f={ctaLink:{cursor:"x1ypdohk",$$css:!0}},g=null,h="";function y(e,t,n,a){var i,l=e.isFRXScreenRequestProcessing,s=e.onSubmitScreen,u=e.screenPayload.response,c=t.setStateSelectedTagTitle,d=t.setStateSelectedTagType,m=n.tag_type,p=n.title,_=(i=p==null?void 0:p.text)!=null?i:"";if(n.tag_click_override_url!=null){r("goUriOnNewWindow")(n.tag_click_override_url);return}l||m==null||m===""||(d(m),c(_),o("PolarisFRXWebReportAPIUtils").logFRXTagSelected({context:u==null?void 0:u.context,selected_tag_type:m}),a||s({selectedPromptButtonActionType:null,selectedTagTitles:[_],selectedTagTypes:[m]}))}function C(e,t,n){var o=e.onSubmitScreen,a=t.selectedTagTitle,i=t.selectedTagType;r("isStringNullOrEmpty")(i)||o({selectedPromptButtonActionType:n,selectedTagTitles:[a],selectedTagTypes:[i]})}function b(e){var t=e.onComplianceContextualMessageClicked,n=e.screenPayload,r=n.response,o=r||{},a=o.compliance;a&&t({complianceType:a.type,isComplianceNavigation:!0})}function v(){var e=o("react-compiler-runtime").c(3),t=_(g),n=t[0],r=t[1],a=_(h),i=a[0],l=a[1],s;return e[0]!==i||e[1]!==n?(s={selectedTagTitle:i,selectedTagType:n,setStateSelectedTagTitle:l,setStateSelectedTagType:r},e[0]=i,e[1]=n,e[2]=s):s=e[2],s}function S(e,t){var n=t.setStateSelectedTagTitle,r=t.setStateSelectedTagType,o=e.screenPayload.frxScreenRequestID,a=p(),i=a.current;m(function(){a.current=o,o!==i&&(r(g),n(h))},[o,i,r,n])}function R(e){var t=o("react-compiler-runtime").c(7),n=v();S(e,n);var r=e.headerParams,a=e.onClose,i;t[0]!==e||t[1]!==n?(i=c.jsx(L,{parentProps:e,parentState:n}),t[0]=e,t[1]=n,t[2]=i):i=t[2];var l;return t[3]!==r||t[4]!==a||t[5]!==i?(l=c.jsx(o("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:r,onClose:a,children:i}),t[3]=r,t[4]=a,t[5]=i,t[6]=l):l=t[6],l}function L(t){var n=o("react-compiler-runtime").c(33),a=t.parentProps,i=t.parentState,l=a.screenPayload,s=l.response,u;n[0]!==s?(u=s||{},n[0]=s,n[1]=u):u=n[1];var d=u,m=d.compliance,p=d.policy_education,_=d.report_tags,f=d.second_subtitle,g=d.subtitle,h;if(n[2]!==g){var y;h=g&&!(e||(e=r("isEmpty")))((y=g.text)==null?void 0:y.trim())?c.jsx(E,{subtitle:g}):null,n[2]=g,n[3]=h}else h=n[3];var C=h,v;if(n[4]!==f){var S;v=f&&!(e||(e=r("isEmpty")))((S=f.text)==null?void 0:S.trim())?c.jsx(k,{secondSubtitle:f}):null,n[4]=f,n[5]=v}else v=n[5];var R=v,L;n[6]!==a||n[7]!==i||n[8]!==_?(L=_&&_.length>0?c.jsx(I,{parentProps:a,parentState:i,reportTags:_}):null,n[6]=a,n[7]=i,n[8]=_,n[9]=L):L=n[9];var $=L,P;n[10]!==m||n[11]!==a||n[12]!==(s==null?void 0:s.context)?(P=m?c.jsx(T,{compliance:m,context:s==null?void 0:s.context,onOpenComplianceScreen:function(){b(a)}}):null,n[10]=m,n[11]=a,n[12]=s==null?void 0:s.context,n[13]=P):P=n[13];var N=P,M;n[14]!==p?(M=p?c.jsx(D,{policyEducation:p}):null,n[14]=p,n[15]=M):M=n[15];var w=M,A;n[16]!==l?(A=o("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(l),n[16]=l,n[17]=A):A=n[17];var F=A,O;n[18]!==a||n[19]!==i||n[20]!==F?(O=F?c.jsx(x,{parentProps:a,parentState:i,promptButtonProps:F}):null,n[18]=a,n[19]=i,n[20]=F,n[21]=O):O=n[21];var B=O,W=C!=null?o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP:0,q=w||B?o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM:0,U;n[22]!==N||n[23]!==w||n[24]!==B||n[25]!==$||n[26]!==R||n[27]!==C?(U=c.jsx(r("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[C,R,$,N,w,B]}),n[22]=N,n[23]=w,n[24]=B,n[25]=$,n[26]=R,n[27]=C,n[28]=U):U=n[28];var V;return n[29]!==q||n[30]!==W||n[31]!==U?(V=c.jsx(r("IGDSBox.react"),{marginBottom:q,marginTop:W,position:"relative",children:U}),n[29]=q,n[30]=W,n[31]=U,n[32]=V):V=n[32],V}function E(e){var t=o("react-compiler-runtime").c(2),n=e.subtitle,a;return t[0]!==n?(a=c.jsx(r("IGDSBox.react"),{alignItems:"start",marginTop:2,paddingX:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:c.jsx(o("IGDSTextVariants.react").IGDSTextSection,{elementType:"h2",children:c.jsx(r("PolarisFRXReportModalRichText.react"),{richText:n})})}),t[0]=n,t[1]=a):a=t[1],a}function k(e){var t=o("react-compiler-runtime").c(2),n=e.secondSubtitle,a;return t[0]!==n?(a=c.jsx(r("IGDSBox.react"),{marginTop:0,paddingX:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:c.jsx(r("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",zeroMargin:!0,children:c.jsx(r("PolarisFRXReportModalRichText.react"),{richText:n})})}),t[0]=n,t[1]=a):a=t[1],a}function I(e){var t=o("react-compiler-runtime").c(26),n=e.parentProps,a=e.parentState,i=e.reportTags,l=n.frxMetadata,s=n.isFRXScreenRequestProcessing,u=n.onSelectReportAd,d=n.screenPayload,m=d.response,p;t[0]!==m?(p=m||{},t[0]=m,t[1]=p):p=t[1];var _=p,f=_.style,g=a.selectedTagType,h=f===o("PolarisFRXWebReportConstants").FRX_TAG_SELECTION_STYLE_INTS.RADIO_BUTTONS,C=o("polarisAdsSelectors.react").useFRXReportAdLoggingParams(l.object_id,l.location),b;if(t[2]!==l.object_id||t[3]!==l.object_type||t[4]!==C||t[5]!==s||t[6]!==u||t[7]!==n||t[8]!==a||t[9]!==i||t[10]!==g||t[11]!==h){var v;t[13]!==l.object_id||t[14]!==l.object_type||t[15]!==C||t[16]!==s||t[17]!==u||t[18]!==n||t[19]!==a||t[20]!==g||t[21]!==h?(v=function(t,i){var e=t.tag_type,d=t.title,m=g===e,p=s&&m&&!h,_=h?o("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_VARIANTS.RADIO:o("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_VARIANTS.BUTTON,f="tag-"+i;return c.jsx(o("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{"data-testid":void 0,loading:p,onSelect:function(){l.object_type===o("PolarisReportConstants").FRXObjectType.AD&&(u!=null?u(e):r("InstagramAdHideResponseFalcoEvent").log(function(){return babelHelpers.extends({ad_id:l.object_id,response:e},C)})),y(n,a,t,h)},selected:m,value:f,variant:_,children:d==null?void 0:d.text},f)},t[13]=l.object_id,t[14]=l.object_type,t[15]=C,t[16]=s,t[17]=u,t[18]=n,t[19]=a,t[20]=g,t[21]=h,t[22]=v):v=t[22],b=i.map(v),t[2]=l.object_id,t[3]=l.object_type,t[4]=C,t[5]=s,t[6]=u,t[7]=n,t[8]=a,t[9]=i,t[10]=g,t[11]=h,t[12]=b}else b=t[12];var S=b,R;return t[23]!==S||t[24]!==h?(R=c.jsx(r("PolarisFRXReportModalOptionList.react"),{asRadio:h,children:S}),t[23]=S,t[24]=h,t[25]=R):R=t[25],R}function T(e){var t=o("react-compiler-runtime").c(17),n=e.compliance,a=e.context,i=e.onOpenComplianceScreen,l=n.cta,u=n.description,d=n.title,p,_;if(t[0]!==n.type||t[1]!==a?(p=function(){n.type!=null&&n.type!==o("PolarisFRXWebReportConstants").FRX_COMPLIANCE_SCREEN_TYPE_INTS.NONE&&o("PolarisFRXWebReportAPIUtils").logFRXComplianceEntrypointRenderedGraphQL({compliance_type:n.type,context:a})},_=[n.type,a],t[0]=n.type,t[1]=a,t[2]=p,t[3]=_):(p=t[2],_=t[3]),m(p,_),n.type===o("PolarisFRXWebReportConstants").FRX_COMPLIANCE_SCREEN_TYPE_INTS.NONE)return null;var g;t[4]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsx(r("IGDSBox.react"),{alignItems:"start",display:"flex",marginEnd:4,marginTop:0,minWidth:20,children:c.jsx(r("IGDSInfoPanoFilledIcon.react"),{alt:s._(/*BTDS*/"info_pano_icon"),color:"ig-primary-icon",size:20})}),t[4]=g):g=t[4];var h;t[5]!==d?(h=d&&c.jsx(r("IGDSBox.react"),{marginBottom:4,children:c.jsx(r("IGDSText.react"),{color:"primaryText",size:"body",weight:"semibold",children:c.jsx(r("PolarisFRXReportModalRichText.react"),{richText:d})})}),t[5]=d,t[6]=h):h=t[6];var y;t[7]!==l||t[8]!==u?(y=u&&c.jsx(r("IGDSBox.react"),{marginBottom:l?4:0,children:c.jsx(r("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",children:c.jsx(r("PolarisFRXReportModalRichText.react"),{richText:u})})}),t[7]=l,t[8]=u,t[9]=y):y=t[9];var C;t[10]!==l||t[11]!==i?(C=l&&c.jsx(r("IGDSBox.react"),{xstyle:f.ctaLink,children:c.jsx(r("IGDSText.react"),{color:"link",size:"body",weight:"normal",children:c.jsx(r("PolarisFastLink.react"),{onClick:i,children:c.jsx(r("PolarisFRXReportModalRichText.react"),{richText:l})})})}),t[10]=l,t[11]=i,t[12]=C):C=t[12];var b;return t[13]!==h||t[14]!==y||t[15]!==C?(b=c.jsx(r("IGDSBox.react"),{marginBottom:8,paddingX:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:c.jsxs(r("IGDSBox.react"),{direction:"row",display:"flex",shape:"rounded",children:[g,c.jsxs(r("IGDSBox.react"),{direction:"column",display:"flex",flex:"grow",children:[h,y,C]})]})}),t[13]=h,t[14]=y,t[15]=C,t[16]=b):b=t[16],b}function D(e){var t=o("react-compiler-runtime").c(2),n=e.policyEducation,a;return t[0]!==n?(a=c.jsx(r("IGDSBox.react"),{paddingX:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:c.jsx(r("PolarisFRXReportModalPolicyEducationSection.react"),{policyEducation:n})}),t[0]=n,t[1]=a):a=t[1],a}function x(e){var t=o("react-compiler-runtime").c(7),n=e.parentProps,a=e.parentState,i=e.promptButtonProps,l=a.selectedTagType,s=!l,u;t[0]!==n||t[1]!==a?(u=function(t){return C(n,a,t)},t[0]=n,t[1]=a,t[2]=u):u=t[2];var d;return t[3]!==i||t[4]!==s||t[5]!==u?(d=c.jsx(r("IGDSBox.react"),{paddingX:o("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:c.jsx(r("PolarisFRXReportModalPromptButton.react"),babelHelpers.extends({},i,{disabled:s,onSubmit:u}))}),t[3]=i,t[4]=s,t[5]=u,t[6]=d):d=t[6],d}function $(e){return{isFRXScreenRequestProcessing:o("PolarisFRXWebReportStateSelectors").getIsFRXScreenRequestProcessing(e)}}var P=o("PolarisReactRedux.react").connect($,null)(R);l.default=P}),226);
__d("PolarisFRXReportUtils",[],(function(t,n,r,o,a,i){"use strict";var e=["ig_ad_ip_violation","ig_ad_ip_violation","ig_intellectual_property_v1","ig_ar_effect_ip_violation","ig_intellectual_property_direct_message","ig_hashtag_intellectual_property","ig_ad_spam","ig_spam_v3","ig_spam_direct_message","ig_bullying_or_harassment_comment_v3","ig_bullying_or_harassment_direct_message","ig_hashtag_bullying_or_harassment","ig_ar_effect_harassment_or_bullying","ig_harassment_or_bullying","ig_nudity_v2","ig_nudity_direct_message","ig_clips_audio_page_nudity","ig_clips_effect_page_nudity","ig_clips_prompt_page_nudity","ig_hashtag_nudity","ig_ar_effect_nudity_or_pornography","ig_ad_sexually_inappropriate","ig_iab_sexually_inappropriate","product_sexualized_content_or_adult_products","bi_commerce_sexualized_or_adult_content","inappropriate_content","ig_commerce_ugc_graphic_content","bi_commerce_abusive_or_harmful","ig_violence_parent","ig_ad_violent_prohibited","ig_ar_effect_violence","ig_violence_direct_message","ig_hashtag_violence","ig_violence_v3","ig_violence","ig_dangerous_org_or_individual","ig_hate_speech_v3","ig_ar_effect_hate_speech","ig_hate_speech_direct_message","ig_hashtag_hate_speech","ig_i_dont_like_it_v3","ig_ar_effect_i_dont_like_it","ig_i_dont_like_it_direct_message","ig_ad_offensive","ig_self_injury_v3","ig_ar_effect_self_injury","ig_hashtag_self_injury","ig_self_injury_direct_message","ig_ad_scam_misleading","ig_product_scam_fraud_v2","ig_product_scam_fraud_reportable","ig_iab_scam_misleading","bi_commerce_misleading_or_possible_scam","ig_sale_of_illegal_or_regulated_goods_v3","ig_sale_of_illegal_or_regulated_goods_direct_message","ig_sale_of_illegal_or_regulated_goods_v2","ig_ar_effect_drugs","ig_ar_effect_firearms","bi_commerce_alcohol_tobacco_and_weapons","bi_commerce_animal_products_or_sales","ig_false_news","ig_ar_effect_false_information","ig_report_report_as_unlawful","bi_commerce_discriminatory_listing","discrimination","ig_something_else","something_else","ig_ad_political","ig_eating_disorder","bi_commerce_buying_or_selling","ig_commerce_ugc_manipulation","ig_commerce_ugc_irrelevance","ig_commerce_review_irrelevant","ig_commerce_fake_review","ig_commerce_product_answer_irrelevant","ig_commerce_product_question_irrelevant","ig_user_impersonation","ig_unwanted_joiner","ig_iab_excessive_ads","ig_iab_other","page_place_inaccurate_info","bi_commerce_service_or_job","product_no_intent_to_sale","bi_commerce_appears_to_be_counterfeit","bi_commerce_health_or_wellness","bi_commerce_other_prohibited","bi_commerce_no_service_offered","bi_commerce_health_or_medical","information_misuse","dont_recognize_activity"];function l(t){return e.includes(t)}i.shouldUseTagType=l}),66);
__d("PolarisFRXReportScreenModal.react",["IGDSBox.react","IGDSSpinner.react","PolarisFRXComplianceScreenModal.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportConfirmationScreenModal.react","PolarisFRXReportPolicyEducationScreenModal.react","PolarisFRXReportSelectVictimScreenModal.react","PolarisFRXReportTagSelectionScreenModal.react","PolarisFRXReportUtils","PolarisFRXWebReportActions","PolarisFRXWebReportConstants","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisFRXWebReportUtils","PolarisReactRedux.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){e.onClose&&e.onClose()}function d(e){var t=e.isFRXScreenRequestProcessing,n=e.onGoBackOneFRXScreen;n&&!t&&n()}function m(e,t){var n=e.frxMetadata,r=e.isFRXScreenRequestProcessing,a=e.onRequestNextFRXScreen,i=e.onStoreReportedTagTitle,l=e.reportedTagTitle,s=e.screenPayload;if(!r){var u=s||{},c=u.response,d=u.type,m=c||{},p=m.context,_=t==null?void 0:t.selectedTagTypes,f=_!=null&&_.length>0?_[0]:null,g=t==null?void 0:t.selectedTagTitles,h=g!=null&&g.length>0?g[0]:"";l===""&&f!=null&&o("PolarisFRXReportUtils").shouldUseTagType(f)&&h!==""&&i(h);var y=(t==null?void 0:t.isComplianceNavigation)===!0,C=y?o("PolarisFRXWebReportConstants").FRX_SCREEN_INPUT_REQUEST_TYPE_INTS.COMPLIANCE_CARD:o("PolarisFRXWebReportUtils").getNextFRXScreenInputRequestTypeFromScreenPayloadType(d);C!=null&&a({context:p,frxPromptRequestType:C,metadata:n,optionalParams:t})}}function p(e){var t=o("react-compiler-runtime").c(67),n=e.frxMetadata,a=e.hasMountedScreenFlow,i=e.hasPreviousScreens,l=e.isFRXScreenRequestProcessing,p=e.onSelectReportAd,g=e.reportedOwner,h=e.screenPayload,y=e.showFRXDropOffSurveyModal,C=e.threadId,b;t[0]!==e?(b=function(){return d(e)},t[0]=e,t[1]=b):b=t[1];var v;t[2]!==i||t[3]!==h||t[4]!==b?(v=o("PolarisFRXReportBaseScreenModal.react").getDefaultScreenModalHeaderParamsFromScreenPayload(h,i,b),t[2]=i,t[3]=h,t[4]=b,t[5]=v):v=t[5];var S=v,R=u(!1),L=R[0],E=R[1],k;t[6]!==e?(k=function(){E(!0),c(e)},t[6]=e,t[7]=k):k=t[7];var I=k,T;t[8]!==S||t[9]!==I?(T=s.jsx(f,{headerParams:S,onClose:I}),t[8]=S,t[9]=I,t[10]=T):T=t[10];var D=T;if(!h){if(l||!a||L){var x;return t[11]!==S||t[12]!==I?(x=s.jsx(_,{headerParams:S,onClose:I}),t[11]=S,t[12]=I,t[13]=x):x=t[13],x}return D}var $=h.type;switch($){case o("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.TAG_SELECTION:{var P;t[14]!==I||t[15]!==y?(P=function(){I(),y!=null&&y()},t[14]=I,t[15]=y,t[16]=P):P=t[16];var N;t[17]!==e?(N=function(n){m(e,babelHelpers.extends({},n))},t[17]=e,t[18]=N):N=t[18];var M;t[19]!==e?(M=function(n){m(e,babelHelpers.extends({},n))},t[19]=e,t[20]=M):M=t[20];var w;return t[21]!==n||t[22]!==S||t[23]!==p||t[24]!==h||t[25]!==P||t[26]!==N||t[27]!==M?(w=s.jsx(r("PolarisFRXReportTagSelectionScreenModal.react"),{frxMetadata:n,headerParams:S,onClose:P,onComplianceContextualMessageClicked:N,onSelectReportAd:p,onSubmitScreen:M,screenPayload:h}),t[21]=n,t[22]=S,t[23]=p,t[24]=h,t[25]=P,t[26]=N,t[27]=M,t[28]=w):w=t[28],w}case o("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.POLICY_EDUCATION:{var A;t[29]!==I||t[30]!==y?(A=function(){I(),y!=null&&y()},t[29]=I,t[30]=y,t[31]=A):A=t[31];var F;t[32]!==e||t[33]!==g.id||t[34]!==C?(F=function(n){m(e,{responsible_id:g.id,selectedPromptButtonActionType:n,thread_id:C})},t[32]=e,t[33]=g.id,t[34]=C,t[35]=F):F=t[35];var O;return t[36]!==S||t[37]!==h||t[38]!==A||t[39]!==F?(O=s.jsx(r("PolarisFRXReportPolicyEducationScreenModal.react"),{headerParams:S,onClose:A,onSubmitScreen:F,screenPayload:h}),t[36]=S,t[37]=h,t[38]=A,t[39]=F,t[40]=O):O=t[40],O}case o("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.CONFIRMATION:{var B;return t[41]!==S||t[42]!==I||t[43]!==g||t[44]!==h?(B=s.jsx(r("PolarisFRXReportConfirmationScreenModal.react"),{headerParams:S,onClose:I,reportedOwner:g,screenPayload:h}),t[41]=S,t[42]=I,t[43]=g,t[44]=h,t[45]=B):B=t[45],B}case o("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.SELECT_VICTIM:{var W;t[46]!==I||t[47]!==y?(W=function(){I(),y!=null&&y()},t[46]=I,t[47]=y,t[48]=W):W=t[48];var q;t[49]!==e?(q=function(n){m(e,{selectedVictimID:n.pk})},t[49]=e,t[50]=q):q=t[50];var U;return t[51]!==S||t[52]!==g||t[53]!==h||t[54]!==W||t[55]!==q?(U=s.jsx(r("PolarisFRXReportSelectVictimScreenModal.react"),{headerParams:S,onClose:W,onSelectVictim:q,reportedOwner:g,screenPayload:h}),t[51]=S,t[52]=g,t[53]=h,t[54]=W,t[55]=q,t[56]=U):U=t[56],U}case o("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.COMPLIANCE_CARD:{var V;t[57]!==I||t[58]!==y?(V=function(){I(),y!=null&&y()},t[57]=I,t[58]=y,t[59]=V):V=t[59];var H;t[60]!==I?(H=function(){I()},t[60]=I,t[61]=H):H=t[61];var G;return t[62]!==S||t[63]!==h||t[64]!==V||t[65]!==H?(G=s.jsx(r("PolarisFRXComplianceScreenModal.react"),{headerParams:S,onClose:V,onSubmitScreen:H,screenPayload:h}),t[62]=S,t[63]=h,t[64]=V,t[65]=H,t[66]=G):G=t[66],G}default:return D}}function _(e){var t=o("react-compiler-runtime").c(4),n=e.headerParams,a=e.onClose,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(r("IGDSBox.react"),{alignContent:"center",alignItems:"center",justifyContent:"center",minHeight:122,position:"relative",children:s.jsx(r("IGDSSpinner.react"),{})}),t[0]=i):i=t[0];var l;return t[1]!==n||t[2]!==a?(l=s.jsx(o("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:n,onClose:a,children:i}),t[1]=n,t[2]=a,t[3]=l):l=t[3],l}function f(e){var t=o("react-compiler-runtime").c(3),n=e.headerParams,r=e.onClose,a;return t[0]!==n||t[1]!==r?(a=s.jsx(o("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:n,onClose:r,children:o("PolarisFRXWebReportStrings").DEFAULT_ERROR_MESSAGE_TEXT}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function g(e){return{isFRXScreenRequestProcessing:o("PolarisFRXWebReportStateSelectors").getIsFRXScreenRequestProcessing(e),reportedTagTitle:o("PolarisFRXWebReportStateSelectors").getReportedTagTitle(e)}}var h={onRequestNextFRXScreen:o("PolarisFRXWebReportActions").doRequestNextFRXScreenAction,onStoreReportedTagTitle:o("PolarisFRXWebReportActions").doStoreReportedTagTitle},y=o("PolarisReactRedux.react").connect(g,h)(p);l.default=y}),98);
__d("PolarisFRXUnfollowUserFollowupModal.react",["PolarisConnectionsLogger","PolarisUnfollowDialog.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.onClose,a=e.userToUnfollow,i=a.id;if(!i)return null;var l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={},t[0]=l):l=t[0];var u;return t[1]!==n||t[2]!==i?(u=s.jsx(r("PolarisUnfollowDialog.react"),{analyticsContext:o("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.frx_web_reporting,analyticsExtra:l,onClose:n,userId:i}),t[1]=n,t[2]=i,t[3]=u):u=t[3],u}l.default=u}),98);
__d("PolarisFRXReportModal.react",["IGDSBox.react","IGDSSpinner.react","PolarisFRXBlockUserFollowupModal.react","PolarisFRXNotifyGuardianFollowupModal.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportConfirmationScreenModalForSupervision.react","PolarisFRXReportModalFetaSupervisionQuery.graphql","PolarisFRXReportModalSupportHub.react","PolarisFRXReportScreenModal.react","PolarisFRXUnfollowUserFollowupModal.react","PolarisFRXWebReportActions","PolarisFRXWebReportState","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisReactRedux.react","PolarisReportConstants","nullthrows","react","react-compiler-runtime","react-relay/relay-hooks/useLazyLoadQuery","usePolarisAnalyticsContext","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useMemo,p=c.useState;function _(e){var t=e.frxObjectType,n=e.isAfterConfirmationScreen,r=e.onClose,o=e.onConfirm,a=e.onDoReportingModalClosedAction,i=e.reportedObjectID;n&&o!=null&&o(),a({isAfterConfirmationScreen:n,reportedObjectID:i,reportedObjectType:t}),r&&r()}function f(e){var t=e.onGoBackOneFRXScreen;t()}function g(e,t,n){if(t===!0){var r=e.onDoDisableNotifyGuardianOption;r()}var o=e.onDoOpenNotifyGuardianFollowupModalToPreviousScreen,a=e.reportedOwner.id;o(t,n,a,e.reportedTagTitle)}function h(e,t,n,r){var a=o("react-compiler-runtime").c(6),i=e.onRequestInitFRXScreen,l,s;a[0]!==r||a[1]!==t||a[2]!==i||a[3]!==n?(l=function(){t||(i(r),n(!0))},s=[n,t,r,i],a[0]=r,a[1]=t,a[2]=i,a[3]=n,a[4]=l,a[5]=s):(l=a[4],s=a[5]),d(l,s)}function y(t){var a,i,l,s,c=o("react-compiler-runtime").c(70),d=p(!1),m=d[0],y=d[1],C=t.containerModule,b=t.currScreenPayload,v=t.currRenderStep,S=t.screenHistorySize,R=t.reportedObjectID,L=t.frxEntryPoint,E=t.frxLocation,k=t.frxObjectType,I=t.reportedOwner,T=t.showFRXDropOffSurveyModal,D=t.useSimpleBlockModalWithoutRefresh,x=t.threadId,$=t.threadKey,P=t.onSelectReportAd,N=t.isGroupThread,M=t.shouldReportAsInstamadillo,w=L===void 0?o("PolarisReportConstants").FRXEntryPoint.CHEVRON_BUTTON:L,A=r("usePolarisAnalyticsContext")(),F=o("PolarisReactRedux.react").useDispatch(),O=C!=null?C:A,B;c[0]!==w||c[1]!==E||c[2]!==k||c[3]!==R||c[4]!==O?(B={container_module:O,entry_point:w,location:E,object_id:R,object_type:k},c[0]=w,c[1]=E,c[2]=k,c[3]=R,c[4]=O,c[5]=B):B=c[5];var W=B;h(t,m,y,W);var q;c[6]!==t?(q=function(){return _(t)},c[6]=t,c[7]=q):q=c[7];var U=q,V=S>1,H;c[8]!==t?(H=function(){return f(t)},c[8]=t,c[9]=H):H=c[9];var G;c[10]!==b||c[11]!==V||c[12]!==H?(G=o("PolarisFRXReportBaseScreenModal.react").getDefaultScreenModalHeaderParamsFromScreenPayload(b,V,H),c[10]=b,c[11]=V,c[12]=H,c[13]=G):G=c[13];var z=G,j;c[14]!==z||c[15]!==U?(j=u.jsx(o("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:z,onClose:U,children:o("PolarisFRXWebReportStrings").DEFAULT_ERROR_MESSAGE_TEXT}),c[14]=z,c[15]=U,c[16]=j):j=c[16];var K=j,Q;c[17]===Symbol.for("react.memo_cache_sentinel")?(Q=u.jsx(r("IGDSBox.react"),{alignContent:"center",alignItems:"center",justifyContent:"center",minHeight:122,position:"relative",children:u.jsx(r("IGDSSpinner.react"),{})}),c[17]=Q):Q=c[17];var X;c[18]!==z||c[19]!==U?(X=u.jsx(o("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:z,onClose:U,children:Q}),c[18]=z,c[19]=U,c[20]=X):X=c[20];var Y=X,J=r("usePolarisViewer")();J!==null&&(J==null?void 0:J.guardianId)!==null&&(J==null?void 0:J.guardianId)!==""&&F(o("PolarisFRXWebReportActions").doStoreGuardianInformation(r("nullthrows")(J==null?void 0:J.guardianId)));var Z,ee;c[21]===Symbol.for("react.memo_cache_sentinel")?(ee=e!==void 0?e:e=n("PolarisFRXReportModalFetaSupervisionQuery.graphql"),Z={},c[21]=Z,c[22]=ee):(Z=c[21],ee=c[22]);var te=r("react-relay/relay-hooks/useLazyLoadQuery")(ee,Z),ne=(a=te.xfb_youth_platform)==null||(a=a.viewer)==null?void 0:a.is_f3_supervised_user,re=(i=(l=te.xfb_youth_platform)==null||(l=l.viewer)==null||(l=l.f3_guardian_preferred_profile)==null?void 0:l.full_name)!=null?i:null,oe=o("PolarisReactRedux.react").useSelector(o("PolarisFRXWebReportStateSelectors").getGuardianUsername);ne===!0&&oe===""&&re!==null&&(oe=re);var ae;if(c[23]!==(b==null||(s=b.response)==null||(s=s.report_info)==null?void 0:s.selected_tags)){var ie,le,se;ae=(ie=b==null||(le=b.response)==null||(le=le.report_info)==null?void 0:le.selected_tags)!=null?ie:[],c[23]=b==null||(se=b.response)==null||(se=se.report_info)==null?void 0:se.selected_tags,c[24]=ae}else ae=c[24];var ue=ae,ce=E===o("PolarisReportConstants").FRXLocation.DIRECT_MESSAGES||E===o("PolarisReportConstants").FRXLocation.DIRECT_THREAD||E===o("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_MESSAGE||E===o("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_THREAD||k===o("PolarisReportConstants").FRXObjectType.DIRECT_MESSAGE||k===o("PolarisReportConstants").FRXObjectType.DIRECT_MESSAGE_THREAD||k===o("PolarisReportConstants").FRXObjectType.ENCRYPTED_DIRECT_MESSAGE;switch(v){case o("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.UNFOLLOW:{var de;return c[25]!==U||c[26]!==I?(de=u.jsx(r("PolarisFRXUnfollowUserFollowupModal.react"),{onClose:U,userToUnfollow:I}),c[25]=U,c[26]=I,c[27]=de):de=c[27],de}case o("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.BLOCK:{var me;return c[28]!==k||c[29]!==N||c[30]!==U||c[31]!==I||c[32]!==M||c[33]!==$||c[34]!==D?(me=u.jsx(r("PolarisFRXBlockUserFollowupModal.react"),{frxObjectType:k,isGroupThread:N,onClose:U,shouldReportAsInstamadillo:M,threadKey:$,userToBlock:I,useSimpleBlockModalWithoutRefresh:D}),c[28]=k,c[29]=N,c[30]=U,c[31]=I,c[32]=M,c[33]=$,c[34]=D,c[35]=me):me=c[35],me}case o("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.SUPPORT_HUB:{var pe;c[36]!==t?(pe=function(){return f(t)},c[36]=t,c[37]=pe):pe=c[37];var _e;return c[38]!==E||c[39]!==ce||c[40]!==U||c[41]!==pe||c[42]!==ue?(_e=u.jsx(r("PolarisFRXReportModalSupportHub.react"),{is_igd:ce,location:E,onClose:U,onGoBack:pe,tags_selected:ue}),c[38]=E,c[39]=ce,c[40]=U,c[41]=pe,c[42]=ue,c[43]=_e):_e=c[43],_e}case o("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.NOTIFY_GUARDIAN:{var fe;c[44]!==t?(fe=function(n,r){return g(t,n,r)},c[44]=t,c[45]=fe):fe=c[45];var ge=I==null?void 0:I.username,he;return c[46]!==oe||c[47]!==U||c[48]!==t.reportedTagTitle||c[49]!==fe||c[50]!==ge?(he=u.jsx(r("PolarisFRXNotifyGuardianFollowupModal.react"),{guardianUsername:oe,onClose:U,onNotify:fe,reportedTagTitle:t.reportedTagTitle,reportedUsername:ge}),c[46]=oe,c[47]=U,c[48]=t.reportedTagTitle,c[49]=fe,c[50]=ge,c[51]=he):he=c[51],he}case o("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.NOTIFY_GUARDIAN_FOLLOWUP:{if(!b)return m?K:Y;var ye;return c[52]!==b||c[53]!==z||c[54]!==U||c[55]!==I?(ye=u.jsx(r("PolarisFRXReportConfirmationScreenModalForSupervision.react"),{headerParams:z,onClose:U,reportedOwner:I,screenPayload:b}),c[52]=b,c[53]=z,c[54]=U,c[55]=I,c[56]=ye):ye=c[56],ye}case o("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.DEFAULT:default:{var Ce=S>1,be;c[57]!==t?(be=function(){return f(t)},c[57]=t,c[58]=be):be=c[58];var ve;return c[59]!==b||c[60]!==W||c[61]!==m||c[62]!==U||c[63]!==P||c[64]!==I||c[65]!==T||c[66]!==Ce||c[67]!==be||c[68]!==x?(ve=u.jsx(r("PolarisFRXReportScreenModal.react"),{frxMetadata:W,hasMountedScreenFlow:m,hasPreviousScreens:Ce,onClose:U,onGoBackOneFRXScreen:be,onSelectReportAd:P,reportedOwner:I,screenPayload:b,showFRXDropOffSurveyModal:T,threadId:x}),c[59]=b,c[60]=W,c[61]=m,c[62]=U,c[63]=P,c[64]=I,c[65]=T,c[66]=Ce,c[67]=be,c[68]=x,c[69]=ve):ve=c[69],ve}}}function C(e){var t;return{currRenderStep:(t=o("PolarisFRXWebReportStateSelectors")).getCurrRenderStep(e),currScreenPayload:t.getCurrScreenPayload(e),isAfterConfirmationScreen:t.getIsConfirmationScreenInHistoryStack(e),reportedTagTitle:t.getReportedTagTitle(e),screenHistorySize:t.getScreenHistorySize(e)}}var b={onDoDisableNotifyGuardianOption:o("PolarisFRXWebReportActions").doDisableNotifyGuardianOption,onDoOpenNotifyGuardianFollowupModalToPreviousScreen:o("PolarisFRXWebReportActions").doOpenNotifyGuardianFollowupModalToPreviousScreenAction,onDoReportingModalClosedAction:o("PolarisFRXWebReportActions").doReportingModalClosedAction,onGoBackOneFRXScreen:o("PolarisFRXWebReportActions").doGoBackOneFRXScreenAction,onRequestInitFRXScreen:o("PolarisFRXWebReportActions").doRequestInitFRXScreenAction},v=o("PolarisReactRedux.react").connect(C,b)(y);l.default=v}),98);
__d("polarisCommentSelectors.react",["PolarisPaginationUtils","PolarisReactRedux.react","nullthrows","polarisCreateSelectorWithArg","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=r("polarisCreateSelectorWithArg")(function(e){return e.comments.byId},function(e){return e.comments.byPostId},function(e,t){return function(n){var a=t.get(n);if(a==null)return null;var i=a.commentIds;return i.toSeq().map(function(t){return r("nullthrows")(e.get(t))}).slice(i.count()-o("PolarisPaginationUtils").getVisibleCount(a.pagination),i.count()).filter(function(e){return!e.deleted&&!e.didReportAsSpam})}}),s=r("polarisCreateSelectorWithArg")(function(e){return e.posts.byId},function(e){return e.comments.byId},function(e,t){return function(n){var o=r("nullthrows")(e.get(n)),a=o.previewCommentIds;return a==null?[]:a.map(function(e){return t.get(e)}).filter(Boolean)}});function u(e,t){return r("nullthrows")(e.comments.byId.get(t))}function c(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){return e==null?null:n.comments.translationById.get(e)},t[0]=e,t[1]=n):n=t[1],o("PolarisReactRedux.react").useSelector(n)}l.selectVisibleCommentsForPostId=e,l.getPreviewCommentsForPostId=s,l.getCommentById=u,l.useCommentTranslation=c}),98);
__d("usePolarisComment",["PolarisReactRedux.react","polarisCommentSelectors.react","polarisUserSelectors","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(3),r;return n[0]!==e||n[1]!==t?(r=function(r){var n=o("polarisCommentSelectors.react").getCommentById(r,e);return t(n)},n[0]=e,n[1]=t,n[2]=r):r=n[2],o("PolarisReactRedux.react").useSelector(r)}function s(e,t){var n=o("react-compiler-runtime").c(3),r;return n[0]!==e||n[1]!==t?(r=function(r){var n=o("polarisCommentSelectors.react").getCommentById(r,e),a=o("polarisUserSelectors").getUserByIdOrThrows(r,n.userId);return t(n,a)},n[0]=e,n[1]=t,n[2]=r):r=n[2],o("PolarisReactRedux.react").useSelector(r)}function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t;return e==null?null:(t=n.comments.byId.get(e))!=null?t:null},t[0]=e,t[1]=n):n=t[1],o("PolarisReactRedux.react").useSelector(n)}l.useComment=e,l.useCommentAndOwner=s,l.useCommentOrNull=u}),98);
__d("PolarisCommentTranslationPrompt.react",["fbt","CometPressable.react","IGDSTextVariants.react","PolarisCommentActions","PolarisReactRedux.react","polarisCommentSelectors.react","react","react-compiler-runtime","usePolarisComment"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(e){var t,n=o("react-compiler-runtime").c(22),a=e.commentId,i=e.inFeed,l=e.isCaptionWithTranslation,c=e.isOverMedia,d=c===void 0?!1:c,m=o("PolarisReactRedux.react").useDispatch(),p=((t=o("usePolarisComment").useCommentOrNull(a))==null?void 0:t.hasTranslation)===!0,_=l===!0||p,f=o("polarisCommentSelectors.react").useCommentTranslation(a),g=f==null?void 0:f.translatedText,h;n[0]!==a||n[1]!==m||n[2]!==g?(h=function(){a!=null&&(g!=null?m(o("PolarisCommentActions").showCommentTranslatedText(a)):m(o("PolarisCommentActions").translateComment(a)))},n[0]=a,n[1]=m,n[2]=g,n[3]=h):h=n[3];var y=h;if(_!==!0)return null;var C=i===!0?"primaryText":"secondaryText";if((f==null?void 0:f.loading)===!0){var b=d?"webAlwaysWhite":C,v;n[4]===Symbol.for("react.memo_cache_sentinel")?(v=s._(/*BTDS*/"Loading..."),n[4]=v):v=n[4];var S;return n[5]!==b?(S=u.jsx(o("IGDSTextVariants.react").IGDSTextBody2Emphasized,{color:b,children:v}),n[5]=b,n[6]=S):S=n[6],S}if((f==null?void 0:f.showTranslatedText)===!0){var R;n[7]!==a||n[8]!==m?(R=function(){a!=null&&m(o("PolarisCommentActions").showCommentOriginalText(a))},n[7]=a,n[8]=m,n[9]=R):R=n[9];var L=d?"webAlwaysWhite":C,E;n[10]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"See Original"),n[10]=E):E=n[10];var k;n[11]!==L?(k=u.jsx(o("IGDSTextVariants.react").IGDSTextBody2Emphasized,{color:L,children:E}),n[11]=L,n[12]=k):k=n[12];var I;return n[13]!==R||n[14]!==k?(I=u.jsx(r("CometPressable.react"),{onPress:R,overlayDisabled:!0,children:k}),n[13]=R,n[14]=k,n[15]=I):I=n[15],I}var T=d?"webAlwaysWhite":C,D;n[16]===Symbol.for("react.memo_cache_sentinel")?(D=s._(/*BTDS*/"See Translation"),n[16]=D):D=n[16];var x;n[17]!==T?(x=u.jsx(o("IGDSTextVariants.react").IGDSTextBody2Emphasized,{color:T,children:D}),n[17]=T,n[18]=x):x=n[18];var $;return n[19]!==y||n[20]!==x?($=u.jsx(r("CometPressable.react"),{onPress:y,overlayDisabled:!0,children:x}),n[19]=y,n[20]=x,n[21]=$):$=n[21],$}l.default=d}),226);
__d("PolarisPostCaptionTranslationPrompt.react",["IGDSBox.react","PolarisCommentTranslationPrompt.react","react","react-compiler-runtime","usePolarisPost"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.inFeed,a=e.marginBottom,i=e.postId,l=a===void 0?0:a,u=o("usePolarisPost").usePost(i,d),m=o("usePolarisPost").usePost(i,c);if(u!==!0||m==null)return null;var p;t[0]!==m||t[1]!==n?(p=s.jsx(r("PolarisCommentTranslationPrompt.react"),{commentId:m,inFeed:n,isCaptionWithTranslation:!0}),t[0]=m,t[1]=n,t[2]=p):p=t[2];var _;return t[3]!==l||t[4]!==p?(_=s.jsx(r("IGDSBox.react"),{marginBottom:l,children:p}),t[3]=l,t[4]=p,t[5]=_):_=t[5],_}function c(e){return e.captionCommentId}function d(e){return e.captionHasTranslation}l.default=u}),98);
__d("PolarisPostComment.react",["cx","fbt","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSText.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","Locale","PolarisApproveCommentDialog.react","PolarisCommentActions","PolarisCommentLikeListsActions","PolarisCommentLikedByListDialogRoot.entrypoint","PolarisCommentOptionsDialog.react","PolarisCommentScrollHelper","PolarisCommentTranslationPrompt.react","PolarisConfig","PolarisDoubleTappable","PolarisEngagementLogger","PolarisFastLink.react","PolarisIGCoreConstants","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisLikeButton.react","PolarisLikedByListDialogPlaceholder.react","PolarisLinkBuilder","PolarisPendingCommentActions","PolarisPostCaptionTranslationPrompt.react","PolarisPostGifComment.react","PolarisPostStrings","PolarisPostVariants","PolarisReactRedux.react","PolarisTimestamp.react","PolarisTruncatedText.react","PolarisUA","PolarisUserAvatarWithStories.react","PolarisUserHoverCard.react","PolarisUserText.react","PolarisViewpointReact.react","QE2Logger","joinClasses","nullthrows","polarisPostSelectors","polarisUserSelectors","qex","react","react-compiler-runtime","useIGDSEntryPointDialog","usePolarisDynamicIpadUpsell","usePolarisLoggedOutBlockingEntryPointDialog","usePolarisLoggedOutIntentAction","usePolarisLoggedOutIntentEntryPointDialog"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useEffect,_=d.useRef,f=d.useState,g=750,h=3e3,y="x5dmxwo-B",C={avatar:{alignSelf:"xqcrz7y",marginTop:"xdj266r",marginInlineEnd:"x14iifvp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},reducedAvatarMargin:{marginTop:"xr9ek0c",marginInlineEnd:"x1sa5p1d",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},restrictedContent:{opacity:"xbyyjgo",$$css:!0}};function b(e){var t=o("react-compiler-runtime").c(22),n=e.parentProps,a=n.commentOwnerId,i=n.commentOwnerUsername,l=n.isAuthorVerified,s=n.isCaption,u=n.isRestrictedPending,d=n.postOwnerIsUnpublished,m=n.showRichComment,p=l===void 0?!1:l,_=s===void 0?!1:s,f=d===void 0?!1:d,g=m===void 0?!1:m,h=u&&!e.showRestrictedContent,y=_?"h2":"h3";if(h){var C;return t[0]===Symbol.for("react.memo_cache_sentinel")?(C=c.jsx(r("IGDSBox.react"),{marginBottom:1,position:"relative",children:c.jsx(r("IGDSText.react"),{color:"tertiaryText",size:"body",weight:"semibold",children:o("PolarisPostStrings").RESTRICTED_ACCOUNT_HEADER_TEXT})}),t[0]=C):C=t[0],C}else if(!_||f!==!0){var b;t[1]!==u?(b={0:"x6s0dn4 x3nfvp2",1:"x6s0dn4 x3nfvp2 xbyyjgo"}[(u===!0)<<0],t[1]=u,t[2]=b):b=t[2];var v;t[3]!==i?(v=o("PolarisLinkBuilder").buildUserLink(r("nullthrows")(i)),t[3]=i,t[4]=v):v=t[4];var S;t[5]!==i?(S=r("nullthrows")(i),t[5]=i,t[6]=S):S=t[6];var R;t[7]!==v||t[8]!==S?(R=c.jsx(r("IGDSButton.react"),{display:"block",href:v,label:S,variant:"secondary_link"}),t[7]=v,t[8]=S,t[9]=R):R=t[9];var L;t[10]!==a||t[11]!==i||t[12]!==R?(L=c.jsx(r("IGDSBox.react"),{marginEnd:1,position:"relative",children:c.jsx(r("PolarisUserHoverCard.react"),{display:"inline",userId:a,username:i,children:R})}),t[10]=a,t[11]=i,t[12]=R,t[13]=L):L=t[13];var E;t[14]!==p||t[15]!==g?(E=g&&p&&c.jsx(r("IGDSBox.react"),{marginEnd:1,position:"relative",children:c.jsx(r("IGDSVerifiedBadge.react"),{size:"small"})}),t[14]=p,t[15]=g,t[16]=E):E=t[16];var k;return t[17]!==y||t[18]!==b||t[19]!==L||t[20]!==E?(k=c.jsxs(y,{className:b,children:[L,E]}),t[17]=y,t[18]=b,t[19]=L,t[20]=E,t[21]=k):k=t[21],k}return null}function v(e){var t=o("react-compiler-runtime").c(10),n=e.parentProps,a=n.captionCreatedAt,i=n.commentThreadId,l=n.disableTimestampNav,s=n.id,u=n.isCaption,d=n.isEdited,m=n.postedAt,p=n.postShortcode,_=u===void 0?!1:u,f=d===void 0?!1:d,g=_&&f&&a!=null?a:m,h;t[0]!==g?(h=c.jsx(r("PolarisTimestamp.react"),{className:"_a9ze _a9zf",value:g}),t[0]=g,t[1]=h):h=t[1];var y=h;if(p!=null&&s!=null){var C;t[2]!==s||t[3]!==i||t[4]!==p?(C=i!=null&&i!==s?o("PolarisLinkBuilder").buildReplyPermalink(p,i,s,o("PolarisUA").isMobile()):o("PolarisLinkBuilder").buildCommentPermalink(p,s,o("PolarisUA").isMobile()),t[2]=s,t[3]=i,t[4]=p,t[5]=C):C=t[5];var b=C,v=l===!0?S:void 0,R;t[6]!==v||t[7]!==b||t[8]!==y?(R=c.jsx(r("PolarisFastLink.react"),{className:"_a9zg",href:b,onClick:v,children:y}),t[6]=v,t[7]=b,t[8]=y,t[9]=R):R=t[9],y=R}return y}function S(e){return e.preventDefault()}function R(e){var t,n=o("react-compiler-runtime").c(147),a=f(null),i=a[0],l=a[1],s=f(!1),d=s[0],m=s[1],S=f(!1),R=S[0],E=S[1],k=f(!1),I=k[0],T=k[1],D=_(null),x=f(!1),$=x[0],P=x[1],N,M;n[0]!==e.id?(N=function(){if(e.id!=null)return o("PolarisCommentScrollHelper").subscribeToCommentScroll(e.id,function(){var e=D.current;e!=null&&(e.scrollIntoView({behavior:"smooth",block:"center"}),window.setTimeout(function(){o("PolarisCommentScrollHelper").observeElementVisible(e,function(){P(!0),window.setTimeout(function(){P(!1)},h)})},200))})},M=[e.id],n[0]=e.id,n[1]=N,n[2]=M):(N=n[1],M=n[2]),p(N,M);var w;n[3]!==i?(w=function(){window.clearTimeout(i)},n[3]=i,n[4]=w):w=n[4];var A=w,F=o("usePolarisDynamicIpadUpsell").usePolarisDesktopExcludingIpad(),O,B;n[5]!==A?(O=function(){return(function(){A()})},B=[A],n[5]=A,n[6]=O,n[7]=B):(O=n[6],B=n[7]),p(O,B);var W;n[8]===Symbol.for("react.memo_cache_sentinel")?(W=function(){E(!0)},n[8]=W):W=n[8];var q=W,U;n[9]!==e.isCaption||n[10]!==e.showRichComment?(U=function(){!o("PolarisUA").isMobile()||e.showRichComment!==!0||e.isCaption===!0||l(window.setTimeout(q,g))},n[9]=e.isCaption,n[10]=e.showRichComment,n[11]=U):U=n[11];var V=U,H;n[12]===Symbol.for("react.memo_cache_sentinel")?(H=function(){E(!1)},n[12]=H):H=n[12];var G=H,z;n[13]!==e?(z=function(){E(!1),e.onDeleteComment()},n[13]=e,n[14]=z):z=n[14];var j=z,K;n[15]!==e?(K=function(){var t=e.id,n=e.onDeleteCommentClick;n&&n(r("nullthrows")(t))},n[15]=e,n[16]=K):K=n[16];var Q=K,X;n[17]!==e?(X=function(n){var t=e.onLikeComment,r=e.onUnlikeComment;n?t():r()},n[17]=e,n[18]=X):X=n[18];var Y=X,J;n[19]!==e?(J=function(){var t=e.isRestrictedPending,n=e.likedByViewer,r=e.loggedIn,o=e.onLikeComment,a=t===void 0?!1:t,i=n===void 0?!1:n;!i&&!a&&r&&o()},n[19]=e,n[20]=J):J=n[20];var Z=J,ee;n[21]===Symbol.for("react.memo_cache_sentinel")?(ee={},n[21]=ee):ee=n[21];var te=(t=e.id)!=null?t:"",ne;n[22]!==te?(ne={routeParams:ee,routeProps:{commentId:te}},n[22]=te,n[23]=ne):ne=n[23];var re=r("useIGDSEntryPointDialog")(r("PolarisCommentLikedByListDialogRoot.entrypoint"),ne,"button",L),oe=re[0],ae;n[24]!==F||n[25]!==e||n[26]!==oe?(ae=function(){var t=e.code,n=e.commentOwnerId,a=e.commentOwnerUsername,i=e.fetchCommentLikes,l=e.id,s=e.likeCount,u=e.loggedIn,c=e.onLikeCountClick,d=e.onLoggedOutDialogClick,m=e.onLoggedOutIntentClick,p=e.viewerId;if(u){if(c)if(o("QE2Logger").logExposureForIGWebCookieCritical("ig_web_h1_2023_desktop_reels_comment_likes_graphql","is_enabled"),r("qex")._("1656")){var _=p===n;oe({isOwnerTheViewer:_,likeAndViewCountsDisabled:!1,likeCount:s,ownerUsername:a,productType:void 0,viewCount:0})}else i(),c(r("nullthrows")(l))}else F?d(o("PolarisLinkBuilder").buildMediaLink(r("nullthrows")(t)),"post_comment_like_count"):m("post_comment_like_count")},n[24]=F,n[25]=e,n[26]=oe,n[27]=ae):ae=n[27];var ie=ae,le;n[28]!==e?(le=function(){var t=e.loggedIn,n=e.onLoggedOutDialogPreload;!t&&o("PolarisUA").isDesktop()&&n()},n[28]=e,n[29]=le):le=n[29];var se=le,ue;n[30]!==e?(ue=function(n){var t=e.analyticsContext,a=e.commentOwnerId,i=e.commentThreadId,l=e.id,s=e.isRestrictedPending,u=e.mediaType,c=e.postId,d=e.postOwnerId,m=e.viewerId;switch(n.state){case"entered":if(l!=null&&m!=null){o("PolarisEngagementLogger").logCommentImpression({commentAuthorId:a,commentId:l,commentThreadId:i,containerModule:t,mediaAuthorId:d,mediaId:c,mediaType:u}),s&&r("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"impression",actorIgUserid:a,commentId:l,commentThreadId:i,parentMediaId:c,step:"pending_comment"});return}}},n[30]=e,n[31]=ue):ue=n[31];var ce=ue,de;n[32]!==F||n[33]!==e?(de=function(){var t=e.code,n=e.loggedIn,a=e.onLoggedOutDialogClick,i=e.onLoggedOutIntentClick,l=e.onReplyClick;n?l():F?a(o("PolarisLinkBuilder").buildMediaLink(r("nullthrows")(t)),"post_comment_reply"):i("post_comment_reply")},n[32]=F,n[33]=e,n[34]=de):de=n[34];var me=de,pe;n[35]!==e?(pe=function(){var t=e.loggedIn,n=e.onLoggedOutDialogPreload;!t&&o("PolarisUA").isDesktop()&&n()},n[35]=e,n[36]=pe):pe=n[36];var _e=pe,fe;n[37]!==e?(fe=function(){var t=e.commentOwnerId,n=e.commentThreadId,o=e.id,a=e.postId;r("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:t,commentId:o,commentThreadId:n,parentMediaId:a,step:"pending_comment_see_hidden"}),T(!0)},n[37]=e,n[38]=fe):fe=n[38];var ge=fe,he;n[39]!==e?(he=function(){var t=e.commentOwnerId,n=e.commentThreadId,o=e.id,a=e.postId;r("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:t,commentId:o,commentThreadId:n,parentMediaId:a,step:"pending_comment_approve"}),m(!0)},n[39]=e,n[40]=he):he=n[40];var ye=he,Ce;n[41]===Symbol.for("react.memo_cache_sentinel")?(Ce=function(){m(!1)},n[41]=Ce):Ce=n[41];var be=Ce,ve;n[42]!==Q||n[43]!==e||n[44]!==I?(ve=function(){var t=e.commentOwnerId,n=e.commentThreadId,o=e.id,a=e.postId;r("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:t,commentId:o,commentThreadId:n,parentMediaId:a,step:I?"pending_comment_delete":"pending_comment_delete_hidden"}),Q()},n[42]=Q,n[43]=e,n[44]=I,n[45]=ve):ve=n[45];var Se=ve,Re;n[46]!==ie||n[47]!==se||n[48]!==e?(Re=function(){var t=e.code,n=e.id,a=e.likeCount,i=e.loggedIn;if(a==null||a===0)return null;var l=a.toLocaleString(),s=u._(/*BTDS*/"{like count} like",[u._param("like count",l)]),d=u._(/*BTDS*/"{like count} likes",[u._param("like count",l)]),m=a===1?s:d;return a>0&&(o("PolarisUA").isDesktop()||!i?c.jsx("button",{className:"_a9ze",onClick:ie,onMouseEnter:se,children:c.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:m})}):c.jsx(r("PolarisFastLink.react"),{className:"_a9ze _amp7",href:"/p/"+r("nullthrows")(t)+"/c/"+r("nullthrows")(n)+"/liked_by/",children:m}))},n[46]=ie,n[47]=se,n[48]=e,n[49]=Re):Re=n[49];var Le=Re,Ee=e.className,ke=e.commentingDisabledForViewer,Ie=e.commentOwnerAvatar,Te=e.commentOwnerId,De=e.commentOwnerUsername,xe=e.commentThreadId,$e=e.communityNoteComponent,Pe=e.customPaddingStyle,Ne=e.giphyMediaInfo,Me=e.hideUserAvatar,we=e.id,Ae=e.isCaption,Fe=e.isEdited,Oe=e.isPermalinkedComment,Be=e.isRestrictedPending,We=e.likedByViewer,qe=e.mediaCommentInfo,Ue=e.postId,Ve=e.postOwnerId,He=e.postOwnerIsUnpublished,Ge=e.reducedAvatarMargin,ze=e.showCommentOptionsInline,je=e.showRemoveIcon,Ke=e.showRichComment,Qe=e.translation,Xe=e.variant,Ye=e.viewerId,Je=Me===void 0?!1:Me,Ze=Ae===void 0?!1:Ae,et=Fe===void 0?!1:Fe,tt=Oe===void 0?!1:Oe,nt=ze===void 0?!1:ze,rt=Ke===void 0?!1:Ke,ot,at,it,lt,st,ut,ct,dt,mt,pt,_t,ft,gt,ht;if(n[50]!==Te||n[51]!==Ne||n[52]!==ce||n[53]!==Ze||n[54]!==tt||n[55]!==Be||n[56]!==Ve||n[57]!==e.text||n[58]!==nt||n[59]!==je||n[60]!==I||n[61]!==rt||n[62]!==Qe||n[63]!==Xe||n[64]!==Ye){var yt,Ct,bt;ht=e.text.toString(),(Qe==null?void 0:Qe.showTranslatedText)===!0&&Qe.translatedText!=null&&(ht=Qe.translatedText),it=!Ze&&Ye!=null&&(Ye===Te||Ve===Ye),pt=it&&je&&!rt,lt=!Ze&&Ye!=null&&!pt&&!Be;var vt;n[79]!==tt?(vt=o("PolarisConfig").isLoggedOutFRXEligible()&&tt,n[79]=tt,n[80]=vt):vt=n[80];var St=vt,Rt;n[81]!==St||n[82]!==Ze||n[83]!==rt||n[84]!==Ye?(Rt=St||rt&&!o("PolarisUA").isMobile()&&!Ze&&Ye!=null,n[81]=St,n[82]=Ze,n[83]=rt,n[84]=Ye,n[85]=Rt):Rt=n[85],st=Rt,at=Xe===o("PolarisPostVariants").VARIANTS.feed?r("PolarisTruncatedText.react"):r("PolarisUserText.react"),dt=!!Ze||!lt&&!it,_t=Be&&!I,mt=Be&&I;var Lt=Ne!=null;ct=Lt?(yt=Ne==null||(Ct=Ne.first_party_cdn_proxied_images)==null||(Ct=Ct.fixed_height)==null?void 0:Ct.url)!=null?yt:Ne==null||(bt=Ne.images)==null||(bt=bt.fixed_height)==null?void 0:bt.url:void 0;var Et=nt===!0?"_a9ze":"",kt=(nt!==!0?"_a9zh":"")+(nt===!0?" _a9zi":""),It;n[86]===Symbol.for("react.memo_cache_sentinel")?(It=c.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,onClick:q,children:c.jsx(r("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:c.jsx(r("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:o("PolarisPostStrings").COMMENT_OPTIONS_ALT_TEXT,color:"ig-secondary-text"})})}),n[86]=It):It=n[86];var Tt;n[87]!==kt?(Tt=c.jsx("div",{className:kt,children:It}),n[87]=kt,n[88]=Tt):Tt=n[88];var Dt;n[89]!==Et||n[90]!==Tt?(Dt=c.jsx("div",{className:Et,children:Tt}),n[89]=Et,n[90]=Tt,n[91]=Dt):Dt=n[91],ut=Dt,ot=o("PolarisViewpointReact.react").Viewpoint,ft=ce,gt=ht.replace(" ","-"),n[50]=Te,n[51]=Ne,n[52]=ce,n[53]=Ze,n[54]=tt,n[55]=Be,n[56]=Ve,n[57]=e.text,n[58]=nt,n[59]=je,n[60]=I,n[61]=rt,n[62]=Qe,n[63]=Xe,n[64]=Ye,n[65]=ot,n[66]=at,n[67]=it,n[68]=lt,n[69]=st,n[70]=ut,n[71]=ct,n[72]=dt,n[73]=mt,n[74]=pt,n[75]=_t,n[76]=ft,n[77]=gt,n[78]=ht}else ot=n[65],at=n[66],it=n[67],lt=n[68],st=n[69],ut=n[70],ct=n[71],dt=n[72],mt=n[73],pt=n[74],_t=n[75],ft=n[76],gt=n[77],ht=n[78];var xt;n[92]!==at||n[93]!==it||n[94]!==lt||n[95]!==st||n[96]!==Ee||n[97]!==ut||n[98]!==Ie||n[99]!==Te||n[100]!==De||n[101]!==xe||n[102]!==ke||n[103]!==$e||n[104]!==Pe||n[105]!==ct||n[106]!==ye||n[107]!==j||n[108]!==V||n[109]!==A||n[110]!==Q||n[111]!==Z||n[112]!==Y||n[113]!==me||n[114]!==_e||n[115]!==Se||n[116]!==ge||n[117]!==Je||n[118]!==we||n[119]!==Ze||n[120]!==et||n[121]!==dt||n[122]!==$||n[123]!==Be||n[124]!==We||n[125]!==qe||n[126]!==Ue||n[127]!==Ve||n[128]!==He||n[129]!==e||n[130]!==Ge||n[131]!==Le||n[132]!==d||n[133]!==mt||n[134]!==R||n[135]!==nt||n[136]!==pt||n[137]!==I||n[138]!==rt||n[139]!==_t||n[140]!==ht?(xt=function(n){return c.jsxs(o("PolarisDoubleTappable").DoubleTappable,{onDoubleClick:Z,role:"button",children:[c.jsx("li",{className:r("joinClasses")((rt?"_a9zj":"")+(Pe==="compact"?" _a9zk":"")+" _a9zl",Ee),onMouseDown:V,onMouseUp:A,onTouchEnd:A,onTouchMove:A,onTouchStart:V,ref:n,children:c.jsxs("div",{className:"_a9zm","data-testid":void 0,ref:D,style:$?{animationDuration:h+"ms",animationFillMode:"forwards",animationName:y,animationTimingFunction:"ease-out",borderRadius:"8px",marginBlock:-16,marginInline:"-8px",paddingBlock:16,paddingInline:"8px"}:void 0,children:[c.jsxs("div",{className:(dt?"_a9zn":"")+" _a9zo",children:[rt&&!Je&&c.jsx(r("PolarisUserHoverCard.react"),{display:"block",userId:Te,username:De,children:c.jsx(r("PolarisUserAvatarWithStories.react"),{isLink:!He,profilePictureUrl:Ie!=null?Ie:"",size:r("PolarisIGCoreConstants").AVATAR_SIZES.small,storyEntrypoint:"post_comment",username:De,xstyle:[C.avatar,Ge===!0&&C.reducedAvatarMargin,Be===!0&&C.restrictedContent]})}),c.jsxs("div",{className:"_a9zr",children:[c.jsx(b,{parentProps:e,showRestrictedContent:I}),!_t&&(ct!=null?c.jsx(r("PolarisPostGifComment.react"),{gifSrc:ct}):c.jsxs("div",babelHelpers.extends({},{0:{className:"xt0psk2"},1:{className:"xt0psk2 xbyyjgo"}}[(Be===!0)<<0],{"data-testid":void 0,children:[c.jsx(at,{display:"inline",headlineTag:Ze===!0?"h1":void 0,size:"body",value:ht}),qe!=null&&c.jsx(r("IGDSBox.react"),{marginBottom:1,marginTop:2,position:"relative",children:c.jsx(r("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",children:u._(/*BTDS*/"Photo available on app")})})]}))),rt&&c.jsx(r("IGDSBox.react"),{marginBottom:1,marginTop:2,position:"relative",children:c.jsxs(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",dir:o("Locale").isRTL()?"rtl":"ltr",children:[Ze&&et&&c.jsxs(c.Fragment,{children:[o("PolarisPostStrings").CAPTION_EDITED_TEXT,"\xA0\xB7\xA0"]}),c.jsx(v,{parentProps:e}),Ze&&c.jsx(r("IGDSBox.react"),{display:"inlineBlock",position:"relative",children:c.jsx(r("PolarisPostCaptionTranslationPrompt.react"),{postId:Ue})}),!Ze&&!Be&&c.jsxs(c.Fragment,{children:[Le(),ke!==!0&&c.jsx("button",{className:"_a9ze",onClick:me,onMouseEnter:_e,children:c.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:o("PolarisPostStrings").REPLY_TEXT})}),we!=null&&c.jsx(r("IGDSBox.react"),{display:"inlineBlock",marginEnd:2,position:"relative",children:c.jsx(r("PolarisCommentTranslationPrompt.react"),{commentId:we})}),st&&nt===!0&&ut]}),_t&&c.jsx("button",{className:"_a9ze",onClick:ge,children:c.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:o("PolarisPostStrings").RESTRICT_SEE_COMMENT_TEXT})}),mt&&c.jsx("button",{className:"_a9ze",onClick:ye,children:c.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:o("PolarisApproveCommentDialog.react").APPROVE_COMMENT_CTA})}),Be&&c.jsx("button",{className:"_a9ze",onClick:Se,children:c.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:o("PolarisPostStrings").RESTRICT_DELETE_COMMENT_TEXT})})]})}),$e!=null&&$e]})]}),pt&&c.jsx("button",{className:"_a9zt",onClick:Q,title:o("PolarisPostStrings").DELETE_COMMENT_TEXT,children:c.jsx(r("IGDSText.react"),{color:"tertiaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:o("PolarisPostStrings").DELETE_COMMENT_TEXT})}),st&&!nt&&ut,lt&&c.jsx(r("PolarisLikeButton.react"),{className:"_a9zu",isLiked:!!We,onChange:Y,padding:0,size:12})]})}),R&&we!=null&&c.jsx(r("PolarisCommentOptionsDialog.react"),{canDeleteComment:!!it,commentId:we,commentOwnerAvatar:Ie!=null?Ie:"",commentOwnerId:Te,commentOwnerUsername:De,mediaOwnerId:Ve,onClose:G,onDelete:j}),d&&we!=null&&c.jsx(o("PolarisApproveCommentDialog.react").ApproveCommentDialog,{commentId:we,commentOwnerId:Te,commentOwnerUsername:De,commentThreadId:xe,onClose:be,postId:Ue})]})},n[92]=at,n[93]=it,n[94]=lt,n[95]=st,n[96]=Ee,n[97]=ut,n[98]=Ie,n[99]=Te,n[100]=De,n[101]=xe,n[102]=ke,n[103]=$e,n[104]=Pe,n[105]=ct,n[106]=ye,n[107]=j,n[108]=V,n[109]=A,n[110]=Q,n[111]=Z,n[112]=Y,n[113]=me,n[114]=_e,n[115]=Se,n[116]=ge,n[117]=Je,n[118]=we,n[119]=Ze,n[120]=et,n[121]=dt,n[122]=$,n[123]=Be,n[124]=We,n[125]=qe,n[126]=Ue,n[127]=Ve,n[128]=He,n[129]=e,n[130]=Ge,n[131]=Le,n[132]=d,n[133]=mt,n[134]=R,n[135]=nt,n[136]=pt,n[137]=I,n[138]=rt,n[139]=_t,n[140]=ht,n[141]=xt):xt=n[141];var $t;return n[142]!==ot||n[143]!==ft||n[144]!==gt||n[145]!==xt?($t=c.jsx(ot,{action:ft,id:gt,children:xt}),n[142]=ot,n[143]=ft,n[144]=gt,n[145]=xt,n[146]=$t):$t=n[146],$t}function L(e){return c.jsx(r("PolarisLikedByListDialogPlaceholder.react"),{onClose:e})}L.displayName=L.name+" [from "+i.id+"]";function E(e,t){var n=t.commentOwnerId,a=t.postId,i=t.postOwnerId,l=o("polarisUserSelectors").getUserByIdOrThrows(e,n),s=o("polarisPostSelectors").getPostOrNullById(e,a),u=t.id;return u==null&&(u=s==null?void 0:s.captionCommentId),{commentOwnerAvatar:l.profilePictureUrl,commentOwnerId:r("nullthrows")(l.id),commentOwnerUsername:r("nullthrows")(l.username),postOwnerIsUnpublished:o("polarisUserSelectors").getUserByIdOrThrows(e,i).isUnpublished,postShortcode:s&&s.code,translation:u!=null?e.comments.translationById.get(u):null,viewerId:e.users.viewerId}}function k(e,t){var n={commentAuthorId:t.commentOwnerId,commentId:t.id||"",containerModule:t.analyticsContext,mediaAuthorId:t.postOwnerId,mediaId:t.id||"",mediaType:t.mediaType||0};return{fetchCommentLikes:function(){return e(o("PolarisCommentLikeListsActions").requestCommentLikes(r("nullthrows")(t.id)))},onDeleteComment:function(){return e(o("PolarisCommentActions").deleteComment(t.postId,t.id||"",t.analyticsContext))},onLikeComment:function(r){return e(o("PolarisCommentActions").likeComment(babelHelpers.extends({},n,{userId:r||""})))},onReplyClick:function(a){return e(o("PolarisPendingCommentActions").changePendingComment(t.postId,"@"+(a||"")+" ",r("nullthrows")(t.commentThreadId),t.commentOwnerId,a))},onUnlikeComment:function(r){return e(o("PolarisCommentActions").unlikeComment(babelHelpers.extends({},n,{userId:r||""})))}}}function I(e,t,n){return babelHelpers.extends({},e,t,n,{onLikeComment:function(){return t.onLikeComment(e.viewerId)},onReplyClick:function(){return t.onReplyClick(e.commentOwnerUsername)},onUnlikeComment:function(){return t.onUnlikeComment(e.viewerId)}})}function T(e){var t=o("react-compiler-runtime").c(13),n=r("usePolarisLoggedOutIntentAction")(),a=r("usePolarisLoggedOutBlockingEntryPointDialog")(),i=a[0],l=a[1],s=r("usePolarisLoggedOutIntentEntryPointDialog")(),u=s[0],d=s[1],m;t[0]!==i||t[1]!==u?(m=function(t,n){var e={contentReportingLink:t,nextUrl:t,source:n};o("PolarisUA").isDesktop()||o("PolarisConfig").isLoggedOutFRXEligible()?u==null||u(e):i==null||i(e)},t[0]=i,t[1]=u,t[2]=m):m=t[2];var p=m,_;t[3]!==l||t[4]!==d?(_=function(){o("PolarisUA").isDesktop()||o("PolarisConfig").isLoggedOutFRXEligible()?d==null||d(!0):l==null||l(!0)},t[3]=l,t[4]=d,t[5]=_):_=t[5];var f=_,g;t[6]!==n?(g=function(t){return n({source:t})},t[6]=n,t[7]=g):g=t[7];var h;return t[8]!==f||t[9]!==p||t[10]!==e||t[11]!==g?(h=c.jsx(R,babelHelpers.extends({},e,{onLoggedOutDialogClick:p,onLoggedOutDialogPreload:f,onLoggedOutIntentClick:g})),t[8]=f,t[9]=p,t[10]=e,t[11]=g,t[12]=h):h=t[12],h}var D=o("PolarisReactRedux.react").connect(E,k,I)(T);l.default=D}),226);
__d("PolarisThreadedCommentSelectors",["PolarisPaginationUtils","immutable-4.0.0-rc.9","nullthrows","polarisCreateSelectorWithArg"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return!e.deleted&&!e.didReportAsSpam}var s=r("polarisCreateSelectorWithArg")(function(e){return e.posts.byId},function(e){return e.comments.byId},function(e){return e.threadedComments.parentByPostId},function(t,n,a){return function(i){var l=a[i],s=t.get(i);if(!l||!s)return o("immutable-4.0.0-rc.9").List();var u=l.commentIds,c=o("PolarisPaginationUtils").getVisibleCount(l.pagination),d=s.hasRankedComments===!0?0:u.count()-c;return u.map(function(e){return r("nullthrows")(n.get(e))}).slice(d,d+c).filter(function(t){return e(t)})}}),u=r("polarisCreateSelectorWithArg")(function(e){return e.comments.byId},function(e){return e.threadedComments.childByParentId},function(t,n){return function(a){var i=r("nullthrows")(n[a]),l=i.commentIds,s=i.pagination,u=l.map(function(e){return r("nullthrows")(t.get(e))}),c=o("PolarisPaginationUtils").getVisibleCount(s),d=u.slice(0,c).filter(function(t){return e(t)}),m=u.slice(c,u.count()).filter(function(t){return e(t)}),p=m.map(function(e){return e.id});return{remainingCachedShowableChildCommentIds:p,visibleChildComments:d}}}),c=r("polarisCreateSelectorWithArg")(function(e){return e.comments.byId},function(e){return e.threadedComments.childByParentId},function(e,t){return function(e){var n=r("nullthrows")(t[e]);return n.count||0}});function d(e,t){return!!e.threadedComments.initialCommentsLoading[t]}l.selectVisibleParentCommentsForPostId=s,l.selectChildCommentsForParentIdSplitByVisibility=u,l.getTotalChildCommentCountForParentId=c,l.getThreadedCommentsLoading=d}),98);
__d("PolarisCommentThread.react",["cx","fbt","IGDSBox.react","IGDSSpinner.react","PolarisIGCoreButton.react","PolarisInteractionsLogger","PolarisIsLoggedIn","PolarisPaginationUtils","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux.react","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","isStringNullOrEmpty","nullthrows","polarisCommentReducer","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(25),n=e.childComment,a=e.disableTimestampNav,i=e.parentProps,l=i.analyticsContext,s=i.code,u=i.commentingDisabledForViewer,d=i.hideUserAvatar,m=i.loggedIn,p=i.onDeleteCommentClick,_=i.onLikeCountClick,f=i.parentComment,g=i.postId,h=i.postOwnerId,y=i.reducedAvatarMargin,C=i.showCommentOptionsInline,b=i.showRemoveIcon,v=!!d,S;return t[0]!==l||t[1]!==n.giphyMediaInfo||t[2]!==n.id||t[3]!==n.isAuthorVerified||t[4]!==n.isRestrictedPending||t[5]!==n.likeCount||t[6]!==n.likedByViewer||t[7]!==n.mediaCommentInfo||t[8]!==n.postedAt||t[9]!==n.text||t[10]!==n.userId||t[11]!==s||t[12]!==u||t[13]!==a||t[14]!==m||t[15]!==p||t[16]!==_||t[17]!==f.id||t[18]!==g||t[19]!==h||t[20]!==y||t[21]!==C||t[22]!==b||t[23]!==v?(S=c.jsx(r("PolarisPostComment.react"),{analyticsContext:l,className:"_a9ye",code:s,commentingDisabledForViewer:u,commentOwnerId:n.userId,commentThreadId:f.id,disableTimestampNav:a,giphyMediaInfo:n.giphyMediaInfo,hideUserAvatar:v,id:n.id,isAuthorVerified:n.isAuthorVerified,isRestrictedPending:n.isRestrictedPending,likeCount:n.likeCount,likedByViewer:n.likedByViewer,loggedIn:m,mediaCommentInfo:n.mediaCommentInfo,onDeleteCommentClick:p,onLikeCountClick:_,postedAt:n.postedAt,postId:g,postOwnerId:h,reducedAvatarMargin:y,showCommentOptionsInline:C,showRemoveIcon:b,showRichComment:!0,text:n.text,variant:o("PolarisPostVariants").VARIANTS.flexible},n.id),t[0]=l,t[1]=n.giphyMediaInfo,t[2]=n.id,t[3]=n.isAuthorVerified,t[4]=n.isRestrictedPending,t[5]=n.likeCount,t[6]=n.likedByViewer,t[7]=n.mediaCommentInfo,t[8]=n.postedAt,t[9]=n.text,t[10]=n.userId,t[11]=s,t[12]=u,t[13]=a,t[14]=m,t[15]=p,t[16]=_,t[17]=f.id,t[18]=g,t[19]=h,t[20]=y,t[21]=C,t[22]=b,t[23]=v,t[24]=S):S=t[24],S}var m=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={hasPermalinkedReplyBeenHidden:!1},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.componentDidUpdate=function(t,n){(t.parentComment.id!==this.props.parentComment.id||t.permalinkedReplyId!==this.props.permalinkedReplyId)&&this.setState({hasPermalinkedReplyBeenHidden:!1})},n.$1=function(){var e=this.props,t=e.childCommentsCacheCanShowMoreWithoutFetch,n=e.childCommentsCanFetchMorePagination,r=e.childCommentsHasNextPage,o=e.permalinkedReply,a=e.remainingCachedShowableChildCommentIds;return o!=null&&r===!0&&t===!0&&n!==!0&&a.count()===1&&a.get(0)===o.id},n.$2=function(t){var e=this.props.childCommentsHasNextPage;return e!==!0||t&&this.$1()},n.$3=function(t){var e=this.props,n=e.analyticsContext,r=e.childCommentsCacheCanShowMoreWithoutFetch,a=e.childCommentsIsFetching,i=e.hideReplies,l=e.loadChildComments,s=e.loadChildCommentsV2,u=e.onHidePermalinkReply,c=e.parentComment,d=c.id,m=c.userId,p=e.permalinkedReply,_=e.postId,f=e.postOwnerId,g=e.showReplies;a||(t?(i(d),o("PolarisInteractionsLogger").logInteractionAction({commentAuthorId:m,commentId:d,containerModule:n,eventName:"instagram_child_comments_collapse",mediaAuthorId:f,mediaId:_}),p!=null&&(u!=null&&u(),this.setState({hasPermalinkedReplyBeenHidden:!0}))):r?g(d):o("PolarisIsLoggedIn").isLoggedIn()?s(_,d):l(d))},n.$4=function(t,n){var e=this,o=this.props,a=o.childCommentsIsFetching,i=o.replyPagerNodeRef,l=o.totalChildCommentCount,s=this.$2(n),d=n?1:0,m=t+d,p=l-m,_;return s&&!a?_=u._(/*BTDS*/"Hide replies"):p<=0?_=u._(/*BTDS*/"View replies"):_=u._(/*BTDS*/"View replies ({hidden replies})",[u._param("hidden replies",p)]),c.jsx("li",{className:"_a9yg",ref:i,children:c.jsxs(r("IGDSBox.react"),{direction:"row",marginBottom:t>0?4:0,marginTop:n?2:0,position:"relative",children:[c.jsxs(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){return e.$3(s)},children:[c.jsx("div",{className:"_a9yh"}),c.jsx("span",{className:"_a9yi",children:_})]}),a&&c.jsx("div",{className:"_a9yj",children:c.jsx(r("IGDSSpinner.react"),{size:"small"})})]})})},n.render=function(){var e=this,t=this.props,n=t.analyticsContext,a=t.code,i=t.commentingDisabledForViewer,l=t.customIndentationPadding,s=t.hideUserAvatar,u=t.innerRef,m=t.isPermalinkedComment,p=t.loggedIn,_=t.onDeleteCommentClick,f=t.onLikeCountClick,g=t.parentComment,h=t.permalinkedReply,y=t.permalinkedReplyAnimating,C=t.permalinkedReplyId,b=t.permalinkedReplyNodeRef,v=t.postId,S=t.postOwnerId,R=t.reducedAvatarMargin,L=t.showCommentOptionsInline,E=t.showRemoveIcon,k=t.totalChildCommentCount,I=t.visibleChildComments,T=this.state.hasPermalinkedReplyBeenHidden,D=null;h&&!(T&&I.count()===0)&&(D=c.jsx("div",{className:"_a9yk"+(y===!0&&!T?" _a9yl":""),ref:b,children:c.jsx(d,{childComment:h,disableTimestampNav:!0,parentProps:this.props})}));var x=I.map(function(t,n){return D&&r("nullthrows")(h).id===t.id?null:c.jsx(d,{childComment:t,parentProps:e.props},n)}).filter(function(e){return e!=null}),$=this.$4(x.count(),D!=null),P=l!=null?{margin:"12px 0 0 "+l+"px",width:"calc(100% - "+l+"px)"}:void 0;return c.jsxs("ul",{className:"_a9ym",ref:u,children:[c.jsx(r("PolarisPostComment.react"),{analyticsContext:n,code:a,commentingDisabledForViewer:i,commentOwnerId:g.userId,commentThreadId:g.id,disableTimestampNav:m===!0&&C==null,giphyMediaInfo:g.giphyMediaInfo,hideUserAvatar:!!s,id:g.id,isAuthorVerified:g.isAuthorVerified,isPermalinkedComment:m,isRestrictedPending:g.isRestrictedPending,likeCount:g.likeCount,likedByViewer:g.likedByViewer,loggedIn:p,mediaCommentInfo:g.mediaCommentInfo,onDeleteCommentClick:_,onLikeCountClick:f,postedAt:g.postedAt,postId:v,postOwnerId:S,reducedAvatarMargin:R,showCommentOptionsInline:L,showRemoveIcon:E,showRichComment:!0,text:g.text,variant:o("PolarisPostVariants").VARIANTS.flexible}),k!==0&&c.jsx("li",{children:c.jsxs("ul",{className:"_a9yo",style:P,children:[D,x," ",$]})})]})},t})(c.Component);function p(e,t){var n,a=t.parentComment,i=t.permalinkedReplyId,l=o("PolarisThreadedCommentSelectors").selectChildCommentsForParentIdSplitByVisibility(e,a.id),s=l.remainingCachedShowableChildCommentIds,u=l.visibleChildComments,c=o("PolarisThreadedCommentSelectors").getTotalChildCommentCountForParentId(e,a.id),d=(n=e.threadedComments.childByParentId[a.id])!=null?n:o("polarisCommentReducer").EMPTY_POST_COMMENTS_STATE,m=d.pagination,p=null;return r("isStringNullOrEmpty")(i)||(p=e.comments.byId.get(i)),{childCommentsCacheCanShowMoreWithoutFetch:o("PolarisPaginationUtils").getVisibleCount(m)<o("PolarisPaginationUtils").getLoadedCount(m),childCommentsCanFetchMorePagination:o("PolarisPaginationUtils").canFetchMorePagination(m),childCommentsHasNextPage:o("PolarisPaginationUtils").hasNextPage(m),childCommentsIsFetching:o("PolarisPaginationUtils").isFetching(m),permalinkedReply:p,remainingCachedShowableChildCommentIds:s,totalChildCommentCount:c||0,visibleChildComments:u}}var _={hideReplies:o("PolarisThreadedCommentActions").hideChildComments,loadChildComments:o("PolarisThreadedCommentActions").requestNextChildCommentPage,loadChildCommentsV2:o("PolarisThreadedCommentActions").requestNextChildCommentPageV2,showReplies:o("PolarisThreadedCommentActions").showChildComments},f=o("PolarisReactRedux.react").connect(p,_)(m);l.default=f}),226);
__d("PolarisDeleteCommentModal.react",["fbt","IGCoreDialog.react","PolarisCommentActions","PolarisGenericStrings","PolarisReactRedux.react","polarisLogAction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(15),n=e.analyticsContext,a=e.commentId,i=e.onClose,l=e.postId,c=o("PolarisReactRedux.react").useDispatch(),d;t[0]!==n||t[1]!==a||t[2]!==c||t[3]!==i||t[4]!==l?(d=function(t){r("polarisLogAction")("commentDelete",{source:n}),c(o("PolarisCommentActions").deleteComment(l,a,n)),i(t)},t[0]=n,t[1]=a,t[2]=c,t[3]=i,t[4]=l,t[5]=d):d=t[5];var m=d,p;t[6]===Symbol.for("react.memo_cache_sentinel")?(p=s._(/*BTDS*/"Delete Comment"),t[6]=p):p=t[6];var _;t[7]!==m?(_=u.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:m,children:p}),t[7]=m,t[8]=_):_=t[8];var f;t[9]!==i?(f=u.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{onClick:i,children:o("PolarisGenericStrings").CANCEL_TEXT}),t[9]=i,t[10]=f):f=t[10];var g;return t[11]!==i||t[12]!==_||t[13]!==f?(g=u.jsxs(o("IGCoreDialog.react").IGCoreDialog,{onModalClose:i,children:[_,f]}),t[11]=i,t[12]=_,t[13]=f,t[14]=g):g=t[14],g}l.default=c}),226);
__d("PolarisPostActionLoadPostQueryInlineFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineFragment"};a.exports=e}),null);
__d("PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles"};a.exports=e}),null);
__d("PolarisPostActionLoadPostQueryInlineMediaFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineMediaFragment"};a.exports=e}),null);
__d("PolarisPostActionLoadPostQueryInlineSharerFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"InlineDataFragment",name:"PolarisPostActionLoadPostQueryInlineSharerFragment"};a.exports=e}),null);
__d("PolarisPostActionLoadPostQueryLegacyQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24324795310485890"}),null);
__d("PolarisPostActionLoadPostQueryLegacyQuery.graphql",["PolarisPostActionLoadPostQueryLegacyQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:3,kind:"LocalArgument",name:"fetch_related_profile_media_count"},t={defaultValue:null,kind:"LocalArgument",name:"fetch_tagged_user_count"},r={defaultValue:null,kind:"LocalArgument",name:"hoisted_comment_id"},o={defaultValue:null,kind:"LocalArgument",name:"hoisted_reply_id"},a={defaultValue:null,kind:"LocalArgument",name:"shortcode"},i=[{kind:"Variable",name:"shortcode",variableName:"shortcode"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"shortcode",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"thumbnail_src",storageKey:null},d={alias:null,args:null,concreteType:"XDTGraphMediaDimensions",kind:"LinkedField",name:"dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"buttons",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"gating_type",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"center_button",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"post_reveal_cta",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"time_gated",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},b={alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[m,p,_,f,g,h,y,C],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"fact_check_overall_rating",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},L={alias:null,args:null,concreteType:"XDTGraphMediaFactCheck",kind:"LinkedField",name:"fact_check_information",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaFactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[S,R,{alias:null,args:null,kind:"ScalarField",name:"appeal_email",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_directly_rated",storageKey:null}],storageKey:null},E={alias:null,args:null,concreteType:"XDTGraphMediaSensitivityFrictionInfo",kind:"LinkedField",name:"sensitivity_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sensitivity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_primary_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_secondary_button",storageKey:null}],storageKey:null},k={alias:null,args:null,concreteType:"XDTGraphMediaSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},D={alias:null,args:null,concreteType:"XDTGraphMediaOverlayIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},S,T],storageKey:null},x=[{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},D,{alias:null,args:null,concreteType:"XDTGraphMediaOverlayTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null}],$={alias:null,args:null,concreteType:"XDTGraphMediaOverlayInfo",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:x,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:x,storageKey:null},p,D,C,{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"bloks_data",storageKey:null}],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"media_preview",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null},M={alias:null,args:null,concreteType:"XDTGraphImageResource",kind:"LinkedField",name:"display_resources",plural:!0,selections:[T,{alias:null,args:null,kind:"ScalarField",name:"config_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"config_height",storageKey:null}],storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},F={alias:null,args:null,concreteType:"XDTGraphUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[s,f,{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null}],storageKey:null},O=[{kind:"Variable",name:"first",variableName:"fetch_tagged_user_count"}],B={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"followed_by_viewer",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},V={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"user",plural:!1,selections:[B,W,s,q,R,U],storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},z={alias:null,args:O,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[V,H,G],storageKey:null}],storageKey:null}],storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},Q=[K],X={alias:null,args:null,concreteType:"XDTgraphuser_edge_followed_by_connection",kind:"LinkedField",name:"edge_followed_by",plural:!1,selections:Q,storageKey:null},Y={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:[s,U,{alias:null,args:null,kind:"ScalarField",name:"has_onboarded_to_text_post_app",storageKey:null},q,R,{alias:null,args:null,kind:"ScalarField",name:"blocked_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_by_viewer",storageKey:null},W,B,{alias:null,args:null,kind:"ScalarField",name:"has_blocked_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pass_tiering_recommendation",storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:Q,storageKey:null},X],storageKey:null},J=[{kind:"Literal",name:"first",value:1}],Z={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"has_ranked_comments",storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},oe={alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"did_report_as_spam",storageKey:null},ie=[s,q,R,U],le={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:ie,storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"viewer_has_liked",storageKey:null},ue={alias:null,args:null,concreteType:"XDTgraphcomment_edge_liked_by_connection",kind:"LinkedField",name:"edge_liked_by",plural:!1,selections:Q,storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"is_restricted_pending",storageKey:null},de=[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[s,I,Z,ae,le,se,ue,ce],storageKey:null}],me={alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"XDTgraphcomment_edge_threaded_comments_connection",kind:"LinkedField",name:"edge_threaded_comments",plural:!1,selections:[K,oe,{alias:null,args:null,concreteType:"XDTgraphcomment_edge_threaded_comments",kind:"LinkedField",name:"edges",plural:!0,selections:de,storageKey:null}],storageKey:"edge_threaded_comments(first:3)"},pe={alias:null,args:[{kind:"Literal",name:"first",value:24}],concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment_connection",kind:"LinkedField",name:"edge_media_to_parent_comment",plural:!1,selections:[K,oe,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[s,I,Z,ae,le,se,ue,ce,me],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_parent_comment(first:24)"},_e={alias:null,args:[{kind:"Variable",name:"hoisted_comment_id",variableName:"hoisted_comment_id"}],concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment_connection",kind:"LinkedField",name:"edge_media_to_hoisted_comment",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[s,I,Z,ae,le,se,ue,ce,{alias:null,args:[{kind:"Variable",name:"hoisted_reply_id",variableName:"hoisted_reply_id"}],concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply_connection",kind:"LinkedField",name:"edge_comment_to_hoisted_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply",kind:"LinkedField",name:"edges",plural:!0,selections:de,storageKey:null}],storageKey:null},me],storageKey:null}],storageKey:null}],storageKey:null},fe={alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:[K,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment",kind:"LinkedField",name:"edges",plural:!0,selections:de,storageKey:null}],storageKey:"edge_media_preview_comment(first:2)"},ge={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},he={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},ye={alias:null,args:null,kind:"ScalarField",name:"taken_at_timestamp",storageKey:null},Ce={alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:[K,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:ie,storageKey:null}],storageKey:null}],storageKey:"edge_media_preview_like(first:10)"},be=[s,U],ve={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"sponsor",plural:!1,selections:be,storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"is_affiliate",storageKey:null},Re={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null},Le={alias:null,args:null,concreteType:"XDTGraphLocation",kind:"LinkedField",name:"location",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"has_public_page",storageKey:null},S,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_json",storageKey:null}],storageKey:null},Ee={alias:null,args:null,concreteType:"XDTGraphNftAssetInfoType",kind:"LinkedField",name:"nft_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"asset_id",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"shimmer_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_igid",storageKey:null}],storageKey:null},ke={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved",storageKey:null},Ie={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved_to_collection",storageKey:null},Te={alias:null,args:null,kind:"ScalarField",name:"viewer_in_photo_of_you",storageKey:null},De={alias:null,args:null,kind:"ScalarField",name:"viewer_can_reshare",storageKey:null},xe={alias:null,args:null,kind:"ScalarField",name:"is_ad",storageKey:null},$e={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"coauthor_producers",plural:!0,selections:ie,storageKey:null},Pe={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"pinned_for_users",plural:!0,selections:ie,storageKey:null},Ne={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},Me=[Ne],we={kind:"InlineFragment",selections:Me,type:"XDTGraphImage",abstractKey:null},Ae={alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_related_profiles_connection",kind:"LinkedField",name:"edge_related_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_related_profiles",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:[s,B,j,q,R,U,X,{alias:null,args:[{kind:"Variable",name:"first",variableName:"fetch_related_profile_media_count"}],concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:[K,{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,s,u,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:Q,storageKey:null},c,{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:be,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[m,p,_,f,g,h,y],storageKey:null},k,$,w,we,{kind:"InlineFragment",selections:Me,type:"XDTGraphSidecar",abstractKey:null},{kind:"InlineFragment",selections:Me,type:"XDTGraphVideo",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Fe={alias:null,args:null,concreteType:"XDTGraphDashInfo",kind:"LinkedField",name:"dash_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null}],storageKey:null},Oe={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},Be={alias:null,args:null,kind:"ScalarField",name:"video_url",storageKey:null},We={alias:null,args:null,kind:"ScalarField",name:"video_view_count",storageKey:null},qe={alias:null,args:null,kind:"ScalarField",name:"video_play_count",storageKey:null},Ue={kind:"InlineFragment",selections:[Ne,Fe,Oe,Be,We,qe,{alias:null,args:null,kind:"ScalarField",name:"encoding_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_published",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"video_duration",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphClipsMusicAttributionInfo",kind:"LinkedField",name:"clips_music_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"song_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uses_original_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_id",storageKey:null}],storageKey:null}],type:"XDTGraphVideo",abstractKey:null},Ve={kind:"InlineFragment",selections:[Ne,Fe,Oe,Be,We,qe],type:"XDTGraphVideo",abstractKey:null},He={alias:null,args:O,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[V,H,G,s],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[e,t,r,o,a],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryLegacyQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineFragment",selections:[l,s,u,c,d,b,v,L,E,k,$,P,N,M,w,A,F,z,Y,{alias:null,args:J,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[Z,I],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},ee,te,ne,re,pe,_e,fe,ge,he,ye,Ce,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[ve],storageKey:null}],storageKey:null}],storageKey:null},Se,Re,Le,Ee,se,ke,Ie,Te,De,xe,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[u,c],storageKey:null}],storageKey:null}],storageKey:null},$e,Pe,Ae,Ue,we,{kind:"InlineFragment",selections:[Ne,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,s,u,d,b,v,L,E,k,$,P,N,M,Ve,we,w,A,F,z],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"fetch_related_profile_media_count"},{kind:"RootArgument",name:"fetch_tagged_user_count"},{kind:"RootArgument",name:"hoisted_comment_id"},{kind:"RootArgument",name:"hoisted_reply_id"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e,t,r,o],kind:"Operation",name:"PolarisPostActionLoadPostQueryLegacyQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[l,{kind:"TypeDiscriminator",abstractKey:"__isXDTGraphMediaInterface"},s,u,c,d,b,v,L,E,k,$,P,N,M,w,A,F,He,Y,{alias:null,args:J,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[Z,I,s],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},ee,te,ne,re,pe,_e,fe,ge,he,ye,Ce,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[ve,s],storageKey:null}],storageKey:null}],storageKey:null},Se,Re,Le,Ee,se,ke,Ie,Te,De,xe,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,u,c,s],storageKey:null}],storageKey:null}],storageKey:null},$e,Pe,Ae,Ue,we,{kind:"InlineFragment",selections:[Ne,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,s,u,d,b,v,L,E,k,$,P,N,M,Ve,we,w,A,F,He],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],storageKey:null}]},params:{id:n("PolarisPostActionLoadPostQueryLegacyQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_shortcode_media"]},name:"PolarisPostActionLoadPostQueryLegacyQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25617395364531909"}),null);
__d("PolarisPostActionLoadPostQueryMediaIdQuery.graphql",["PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"mediaId"}],t=[{kind:"Variable",name:"media_id",variableName:"mediaId"}],r={alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},m={alias:null,args:null,concreteType:"XDTVideoVersion",kind:"LinkedField",name:"video_versions",plural:!0,selections:[u,c,d,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},y={alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[d,c,u],storageKey:null}],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"organic_tracking_token",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},T={alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[a,_,p,k,{alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},S,I,v,{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"incoming_request",storageKey:null},k,{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_unconnected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"outgoing_request",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_feed_favorite",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"latest_reel_media",storageKey:null}],storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},M={alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[o,v,_,p,I],storageKey:null}],storageKey:null}],storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},F={alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null},{alias:null,args:null,concreteType:"XDTIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},w,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},A,{alias:null,args:null,concreteType:"XDTTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"carousel_parent_id",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},U={alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[W,q],storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"preview",storageKey:null},H={alias:null,args:null,concreteType:"XDTLocationDict",kind:"LinkedField",name:"location",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"lat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lng",storageKey:null},w,p],storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},j={alias:null,args:null,concreteType:"XDTClipsAchievementsInfo",kind:"LinkedField",name:"achievements_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_achievements",storageKey:null}],storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},X={alias:null,args:null,concreteType:"XDTMusicInfo",kind:"LinkedField",name:"music_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicConsumptionInfoDict",kind:"LinkedField",name:"music_consumption_info",plural:!1,selections:[K,Q],storageKey:null},{alias:null,args:null,concreteType:"XDTTrackData",kind:"LinkedField",name:"music_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_cluster_id",storageKey:null}],storageKey:null}],storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"original_audio_title",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"audio_asset_id",storageKey:null},Z={alias:null,args:null,concreteType:"XDTOriginalSoundConsumptionInfo",kind:"LinkedField",name:"consumption_info",plural:!1,selections:[Q,{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason_type",storageKey:null}],storageKey:null},ee={alias:null,args:null,concreteType:"XDTClipsAppAttribution",kind:"LinkedField",name:"clips_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_app_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_app_name",storageKey:null},{alias:null,args:null,concreteType:"XDTClipsPivotPageHeader",kind:"LinkedField",name:"pivot_page_header",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"developer_app_logo_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_url",storageKey:null}],storageKey:null}],storageKey:null},te={alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[A],storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"main_feed_carousel_starting_media_id",storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"media_level_comment_controls",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"ig_media_sharing_disabled",storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},ue={alias:null,args:null,kind:"ScalarField",name:"is_shared_from_basel",storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"photo_of_you",storageKey:null},me={alias:null,args:null,kind:"ScalarField",name:"carousel_media_count",storageKey:null},pe={alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null},_e={alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},fe={alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},ge={alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[q,W],storageKey:null},he={alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[o,v,_,p,I,a],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryMediaIdQuery",selections:[{alias:null,args:t,concreteType:"XDTMediaInfoListResponse",kind:"LinkedField",name:"xdt_api__v1__media__media_id_web_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineMediaFragment",selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[r,o,a,i,l,s,m,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"facepile_top_likers",plural:!0,selections:[p,o,_],storageKey:null},f,g,h,y,C,{alias:null,args:null,concreteType:"XDTSponsorTag",kind:"LinkedField",name:"sponsor_tags",plural:!0,selections:[b,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sponsor",plural:!1,selections:[o,_,p,v,S],storageKey:null}],storageKey:null},R,L,E,T,D,x,$,P,N,M,F,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[a,o,O,f,h,R,L,y,B,U,V,E,m,F,M],storageKey:null},H,G,{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[z,j,X,{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[Y,K,J,Z,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"ig_artist",plural:!1,selections:[_],storageKey:null}],storageKey:null}],storageKey:null},ee,te,ne,re,oe,ae,ie,le,se,ue,ce,de,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[o],storageKey:null},me,pe,_e,fe,ge],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"PolarisPostActionLoadPostQueryMediaIdQuery",selections:[{alias:null,args:t,concreteType:"XDTMediaInfoListResponse",kind:"LinkedField",name:"xdt_api__v1__media__media_id_web_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[r,o,a,i,l,s,m,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"facepile_top_likers",plural:!0,selections:[p,o,_,a],storageKey:null},f,g,h,y,C,{alias:null,args:null,concreteType:"XDTSponsorTag",kind:"LinkedField",name:"sponsor_tags",plural:!0,selections:[b,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sponsor",plural:!1,selections:[o,_,p,v,S,a],storageKey:null}],storageKey:null},R,L,E,T,D,x,$,P,N,he,F,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[a,o,O,f,h,R,L,y,B,U,V,E,m,F,he],storageKey:null},H,G,{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[z,j,X,{alias:null,args:null,concreteType:"XDTOriginalSoundData",kind:"LinkedField",name:"original_sound_info",plural:!1,selections:[Y,K,J,Z,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"ig_artist",plural:!1,selections:[_,a],storageKey:null}],storageKey:null}],storageKey:null},ee,te,ne,re,oe,ae,ie,le,se,ue,ce,de,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[o,a],storageKey:null},me,pe,_e,fe,ge],storageKey:null}],storageKey:null}]},params:{id:n("PolarisPostActionLoadPostQueryMediaIdQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__media__media_id_web_info"]},name:"PolarisPostActionLoadPostQueryMediaIdQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("PolarisPostActionLoadPostQueryQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29599222026389233"}),null);
__d("PolarisPostActionLoadPostQueryQuery.graphql",["PolarisPostActionLoadPostQueryQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"fetch_tagged_user_count"},t={defaultValue:null,kind:"LocalArgument",name:"hoisted_comment_id"},r={defaultValue:null,kind:"LocalArgument",name:"hoisted_reply_id"},o={defaultValue:null,kind:"LocalArgument",name:"shortcode"},a=[{kind:"Variable",name:"shortcode",variableName:"shortcode"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"shortcode",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"thumbnail_src",storageKey:null},c={alias:null,args:null,concreteType:"XDTGraphMediaDimensions",kind:"LinkedField",name:"dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"misinformation_type",storageKey:null},_={alias:null,args:null,concreteType:"XDTGraphMediaGatingInfo",kind:"LinkedField",name:"gating_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"buttons",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"gating_type",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"center_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_reveal_cta",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_gated",storageKey:null},p],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"fact_check_overall_rating",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},y={alias:null,args:null,concreteType:"XDTGraphMediaFactCheck",kind:"LinkedField",name:"fact_check_information",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaFactCheckProvider",kind:"LinkedField",name:"provider",plural:!1,selections:[g,h,{alias:null,args:null,kind:"ScalarField",name:"appeal_email",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_directly_rated",storageKey:null}],storageKey:null},C={alias:null,args:null,concreteType:"XDTGraphMediaSensitivityFrictionInfo",kind:"LinkedField",name:"sensitivity_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sensitivity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_primary_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_friction_secondary_button",storageKey:null}],storageKey:null},b={alias:null,args:null,concreteType:"XDTGraphMediaSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},R={alias:null,args:null,concreteType:"XDTGraphMediaOverlayIconSpec",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_glyph",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_type",storageKey:null},g,S],storageKey:null},L=[{alias:null,args:null,kind:"ScalarField",name:"button_type",storageKey:null},v,{alias:null,args:null,kind:"ScalarField",name:"secondary_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},R,{alias:null,args:null,concreteType:"XDTGraphMediaOverlayTextColorSpec",kind:"LinkedField",name:"text_color",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"light",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dark",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_text_centered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_chevron",storageKey:null}],E={alias:null,args:null,concreteType:"XDTGraphMediaOverlayInfo",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"banner",plural:!1,selections:L,storageKey:null},{alias:null,args:null,concreteType:"XDTGraphMediaOverlayButtonSpec",kind:"LinkedField",name:"buttons",plural:!0,selections:L,storageKey:null},d,R,p,{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"bloks_data",storageKey:null}],storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"media_preview",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null},T={alias:null,args:null,concreteType:"XDTGraphImageResource",kind:"LinkedField",name:"display_resources",plural:!0,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"config_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"config_height",storageKey:null}],storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"is_video",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},$={alias:null,args:null,concreteType:"XDTGraphUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[l,m,{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reminder_enabled",storageKey:null}],storageKey:null},P=[{kind:"Variable",name:"first",variableName:"fetch_tagged_user_count"}],N={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"followed_by_viewer",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},F={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"user",plural:!1,selections:[N,M,l,w,h,A],storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},W={alias:null,args:P,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[F,O,B],storageKey:null}],storageKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},U=[q],V={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:[l,A,w,h,{alias:null,args:null,kind:"ScalarField",name:"blocked_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"restricted_by_viewer",storageKey:null},M,N,{alias:null,args:null,kind:"ScalarField",name:"has_blocked_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_embeds_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requested_by_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pass_tiering_recommendation",storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_owner_to_timeline_media_connection",kind:"LinkedField",name:"edge_owner_to_timeline_media",plural:!1,selections:U,storageKey:null},{alias:null,args:null,concreteType:"XDTgraphuser_edge_followed_by_connection",kind:"LinkedField",name:"edge_followed_by",plural:!1,selections:U,storageKey:null}],storageKey:null},H=[{kind:"Literal",name:"first",value:1}],G={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"has_ranked_comments",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},X={alias:null,args:null,concreteType:"XDTPageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null}],storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"did_report_as_spam",storageKey:null},J=[l,w,h,A],Z={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"owner",plural:!1,selections:J,storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"viewer_has_liked",storageKey:null},te={alias:null,args:null,concreteType:"XDTgraphcomment_edge_liked_by_connection",kind:"LinkedField",name:"edge_liked_by",plural:!1,selections:U,storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"is_restricted_pending",storageKey:null},re=[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[l,v,G,Y,Z,ee,te,ne],storageKey:null}],oe={alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"XDTgraphcomment_edge_threaded_comments_connection",kind:"LinkedField",name:"edge_threaded_comments",plural:!1,selections:[q,X,{alias:null,args:null,concreteType:"XDTgraphcomment_edge_threaded_comments",kind:"LinkedField",name:"edges",plural:!0,selections:re,storageKey:null}],storageKey:"edge_threaded_comments(first:3)"},ae={alias:null,args:[{kind:"Literal",name:"first",value:24}],concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment_connection",kind:"LinkedField",name:"edge_media_to_parent_comment",plural:!1,selections:[q,X,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_parent_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[l,v,G,Y,Z,ee,te,ne,oe],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_parent_comment(first:24)"},ie={alias:null,args:[{kind:"Variable",name:"hoisted_comment_id",variableName:"hoisted_comment_id"}],concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment_connection",kind:"LinkedField",name:"edge_media_to_hoisted_comment",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_hoisted_comment",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphComment",kind:"LinkedField",name:"node",plural:!1,selections:[l,v,G,Y,Z,ee,te,ne,{alias:null,args:[{kind:"Variable",name:"hoisted_reply_id",variableName:"hoisted_reply_id"}],concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply_connection",kind:"LinkedField",name:"edge_comment_to_hoisted_reply",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphcomment_edge_comment_to_hoisted_reply",kind:"LinkedField",name:"edges",plural:!0,selections:re,storageKey:null}],storageKey:null},oe],storageKey:null}],storageKey:null}],storageKey:null},le={alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"XDTgraphmediainterface_edge_media_preview_comment_connection",kind:"LinkedField",name:"edge_media_preview_comment",plural:!1,selections:[q,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_comment",kind:"LinkedField",name:"edges",plural:!0,selections:re,storageKey:null}],storageKey:"edge_media_preview_comment(first:2)"},se={alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},ue={alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"taken_at_timestamp",storageKey:null},de={alias:null,args:[{kind:"Literal",name:"first",value:10}],concreteType:"XDTgraphmediainterface_edge_media_preview_like_connection",kind:"LinkedField",name:"edge_media_preview_like",plural:!1,selections:[q,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_preview_like",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"node",plural:!1,selections:J,storageKey:null}],storageKey:null}],storageKey:"edge_media_preview_like(first:10)"},me={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"sponsor",plural:!1,selections:[l,A],storageKey:null},pe={alias:null,args:null,kind:"ScalarField",name:"is_affiliate",storageKey:null},_e={alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null},fe={alias:null,args:null,concreteType:"XDTGraphLocation",kind:"LinkedField",name:"location",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"has_public_page",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_json",storageKey:null}],storageKey:null},ge={alias:null,args:null,concreteType:"XDTGraphNftAssetInfoType",kind:"LinkedField",name:"nft_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"asset_id",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"shimmer_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_igid",storageKey:null}],storageKey:null},he={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved",storageKey:null},ye={alias:null,args:null,kind:"ScalarField",name:"viewer_has_saved_to_collection",storageKey:null},Ce={alias:null,args:null,kind:"ScalarField",name:"viewer_in_photo_of_you",storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"viewer_can_reshare",storageKey:null},ve={alias:null,args:null,kind:"ScalarField",name:"is_ad",storageKey:null},Se={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"coauthor_producers",plural:!0,selections:J,storageKey:null},Re={alias:null,args:null,concreteType:"XDTGraphUser",kind:"LinkedField",name:"pinned_for_users",plural:!0,selections:J,storageKey:null},Le={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},Ee={alias:null,args:null,concreteType:"XDTGraphDashInfo",kind:"LinkedField",name:"dash_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null}],storageKey:null},ke={alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},Ie={alias:null,args:null,kind:"ScalarField",name:"video_url",storageKey:null},Te={alias:null,args:null,kind:"ScalarField",name:"video_view_count",storageKey:null},De={alias:null,args:null,kind:"ScalarField",name:"video_play_count",storageKey:null},xe={kind:"InlineFragment",selections:[Le,Ee,ke,Ie,Te,De,{alias:null,args:null,kind:"ScalarField",name:"encoding_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_published",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"video_duration",storageKey:null},{alias:null,args:null,concreteType:"XDTGraphClipsMusicAttributionInfo",kind:"LinkedField",name:"clips_music_attribution_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"song_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uses_original_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_id",storageKey:null}],storageKey:null}],type:"XDTGraphVideo",abstractKey:null},$e={kind:"InlineFragment",selections:[Le],type:"XDTGraphImage",abstractKey:null},Pe={kind:"InlineFragment",selections:[Le,Ee,ke,Ie,Te,De],type:"XDTGraphVideo",abstractKey:null},Ne={alias:null,args:P,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user_connection",kind:"LinkedField",name:"edge_media_to_tagged_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_tagged_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphTaggedUser",kind:"LinkedField",name:"node",plural:!1,selections:[F,O,B,l],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[e,t,r,o],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQueryQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles",selections:[i,l,s,u,c,_,f,y,C,b,E,k,I,T,D,x,$,W,V,{alias:null,args:H,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[G,v],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},z,j,K,Q,ae,ie,le,se,ue,ce,de,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[me],storageKey:null}],storageKey:null}],storageKey:null},pe,_e,fe,ge,ee,he,ye,Ce,be,ve,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[s,u],storageKey:null}],storageKey:null}],storageKey:null},Se,Re,xe,$e,{kind:"InlineFragment",selections:[Le,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,l,s,c,_,f,y,C,b,E,k,I,T,Pe,$e,D,x,$,W],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"fetch_tagged_user_count"},{kind:"RootArgument",name:"hoisted_comment_id"},{kind:"RootArgument",name:"hoisted_reply_id"}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,e,t,r],kind:"Operation",name:"PolarisPostActionLoadPostQueryQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"xdt_shortcode_media",plural:!1,selections:[i,{kind:"TypeDiscriminator",abstractKey:"__isXDTGraphMediaInterface"},l,s,u,c,_,f,y,C,b,E,k,I,T,D,x,$,Ne,V,{alias:null,args:H,concreteType:"XDTgraphmediainterface_edge_media_to_caption_connection",kind:"LinkedField",name:"edge_media_to_caption",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_caption",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphMediaCaption",kind:"LinkedField",name:"node",plural:!1,selections:[G,v,l],storageKey:null}],storageKey:null}],storageKey:"edge_media_to_caption(first:1)"},z,j,K,Q,ae,ie,le,se,ue,ce,de,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user_connection",kind:"LinkedField",name:"edge_media_to_sponsor_user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_media_to_sponsor_user",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTGraphSponsorTag",kind:"LinkedField",name:"node",plural:!1,selections:[me,l],storageKey:null}],storageKey:null}],storageKey:null},pe,_e,fe,ge,ee,he,ye,Ce,be,ve,{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media_connection",kind:"LinkedField",name:"edge_web_media_to_related_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphmediainterface_edge_web_media_to_related_media",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,s,u,l],storageKey:null}],storageKey:null}],storageKey:null},Se,Re,xe,$e,{kind:"InlineFragment",selections:[Le,{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children_connection",kind:"LinkedField",name:"edge_sidecar_to_children",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTgraphsidecar_edge_sidecar_to_children",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,l,s,c,_,f,y,C,b,E,k,I,T,Pe,$e,D,x,$,Ne],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTGraphSidecar",abstractKey:null}],storageKey:null}]},params:{id:n("PolarisPostActionLoadPostQueryQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_shortcode_media"]},name:"PolarisPostActionLoadPostQueryQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9817375101688294"}),null);
__d("PolarisPostActionLoadPostQuerySharerQuery.graphql",["PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"mediaId"},t={defaultValue:null,kind:"LocalArgument",name:"shid"},r=[{kind:"Variable",name:"media_id",variableName:"mediaId"},{kind:"Variable",name:"shid",variableName:"shid"}],o={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url_hd",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null};return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"PolarisPostActionLoadPostQuerySharerQuery",selections:[{alias:null,args:r,concreteType:"XDTShidUserResponse",kind:"LinkedField",name:"xdt_get_relationship_for_shid_logged_out",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"PolarisPostActionLoadPostQueryInlineSharerFragment",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sender",plural:!1,selections:[o,a,i,l],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"PolarisPostActionLoadPostQuerySharerQuery",selections:[{alias:null,args:r,concreteType:"XDTShidUserResponse",kind:"LinkedField",name:"xdt_get_relationship_for_shid_logged_out",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"sender",plural:!1,selections:[o,a,i,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("PolarisPostActionLoadPostQuerySharerQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_get_relationship_for_shid_logged_out"]},name:"PolarisPostActionLoadPostQuerySharerQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("PolarisPostActionLoadPostQuery",["PolarisPostActionLoadPostQueryInlineFragment.graphql","PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql","PolarisPostActionLoadPostQueryInlineMediaFragment.graphql","PolarisPostActionLoadPostQueryInlineSharerFragment.graphql","PolarisPostActionLoadPostQueryLegacyQuery.graphql","PolarisPostActionLoadPostQueryMediaIdQuery.graphql","PolarisPostActionLoadPostQueryQuery.graphql","PolarisPostActionLoadPostQuerySharerQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f=e!==void 0?e:e=n("PolarisPostActionLoadPostQueryInlineMediaFragment.graphql"),g=s!==void 0?s:s=n("PolarisPostActionLoadPostQueryInlineFragment.graphql"),h=u!==void 0?u:u=n("PolarisPostActionLoadPostQueryInlineFragmentWithoutRelatedProfiles.graphql"),y=c!==void 0?c:c=n("PolarisPostActionLoadPostQueryInlineSharerFragment.graphql"),C=d!==void 0?d:d=n("PolarisPostActionLoadPostQueryQuery.graphql"),b=m!==void 0?m:m=n("PolarisPostActionLoadPostQueryLegacyQuery.graphql"),v=p!==void 0?p:p=n("PolarisPostActionLoadPostQueryMediaIdQuery.graphql"),S=_!==void 0?_:_=n("PolarisPostActionLoadPostQuerySharerQuery.graphql");l.MEDIA_INLINE_FRAGMENT=f,l.INLINE_FRAGMENT=g,l.INLINE_FRAGMENT_WITHOUT_RELATED_PROFILES=h,l.SHARER_INLINE_FRAGMENT=y,l.POST_QUERY=C,l.POST_QUERY_LEGACY=b,l.POST_QUERY_MEDIA_ID=v,l.POST_SHARER_INFORMATION=S}),98);
__d("PolarisPostActionPostPageLoaded",["nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return{postData:r("nullthrows")(e.shortcode_media),type:"POST_PAGE_LOADED"}}l.postPageLoaded=e}),98);
__d("PolarisPostActionLoadPost",["CometRelay","FBLogger","PolarisAdsActions","PolarisInstapi","PolarisIsLoggedIn","PolarisPostActionLoadPostQuery","PolarisPostActionPostLoadedV2","PolarisPostActionPostPageLoaded","PolarisRelayEnvironment","PolarisSenderNameHelpers","PolarisThreadedCommentActions","asyncToGeneratorRuntime","err","getErrorSafe","getPolarisPostIdFromNativeId","isTruthy","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield o("CometRelay").fetchQuery(r("PolarisRelayEnvironment"),o("PolarisPostActionLoadPostQuery").POST_SHARER_INFORMATION,{mediaId:t,shid:e}).toPromise();if(n==null||n.xdt_get_relationship_for_shid_logged_out==null)return null;var a=o("CometRelay").readInlineData(o("PolarisPostActionLoadPostQuery").SHARER_INLINE_FRAGMENT,n.xdt_get_relationship_for_shid_logged_out);return a}),s.apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("CometRelay").fetchQuery(r("PolarisRelayEnvironment"),o("PolarisPostActionLoadPostQuery").POST_QUERY_MEDIA_ID,{mediaId:e}).toPromise();if(t==null)throw r("err")("Post modal response is unexpectedly null");var n=o("CometRelay").readInlineData(o("PolarisPostActionLoadPostQuery").MEDIA_INLINE_FRAGMENT,t==null?void 0:t.xdt_api__v1__media__media_id_web_info);return n.items!=null?[].concat(n.items):null}),c.apply(this,arguments)}function d(e){return e.split("_").length>1}function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("PolarisInstapi").apiGet("/api/v1/media/{media_id}/info/",{path:{media_id:e},query:{}}),n=t.data;return n.items!=null?[].concat(n.items):null}),p.apply(this,arguments)}function _(t,a,i,l,s){return i===void 0&&(i=!1),(function(){var c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n,c){if(n({shortcode:t,type:"POST_PAGE_LOADING"}),a!=null&&o("PolarisIsLoggedIn").isLoggedIn())try{n(o("PolarisThreadedCommentActions").requestInitialComments(r("getPolarisPostIdFromNativeId")(a)));var p=d(a)?yield u(a):yield m(a);if(p!=null){var _=p[0],f=new Set(c().ads.feed.keys());_!=null&&_.ad_id!=null?n(o("PolarisAdsActions").adMediaInfoLoaded(p[0],t)):n(o("PolarisPostActionPostLoadedV2").postLoadedV2(p,t,f))}}catch(e){var g=r("getErrorSafe")(e);r("FBLogger")("ig_web").catching(g)}else{var h=i?o("PolarisPostActionLoadPostQuery").POST_QUERY:o("PolarisPostActionLoadPostQuery").POST_QUERY_LEGACY;try{if(s!=null&&a!=null&&o("PolarisSenderNameHelpers").shouldShowSenderName("postPage")){var y=yield e(s,a);y!=null&&n({fullName:y.sender.full_name,profilePicUrl:y.sender.profile_pic_url,profilePicUrlHd:y.sender.profile_pic_url_hd,sharedMediaId:a,type:"UPDATE_SHARER_INFORMATION",username:y.sender.username})}var C=yield o("CometRelay").fetchQuery(r("PolarisRelayEnvironment"),h,{shortcode:t}).toPromise(),b;i?b=o("CometRelay").readInlineData(o("PolarisPostActionLoadPostQuery").INLINE_FRAGMENT_WITHOUT_RELATED_PROFILES,C==null?void 0:C.xdt_shortcode_media):b=o("CometRelay").readInlineData(o("PolarisPostActionLoadPostQuery").INLINE_FRAGMENT,C==null?void 0:C.xdt_shortcode_media);var v=b.accessibility_caption==null&&r("isTruthy")(l);v&&(b=babelHelpers.extends({},b,{accessibility_caption:l})),n(o("PolarisPostActionPostPageLoaded").postPageLoaded({shortcode_media:r("nullthrows")(b)}))}catch(e){var S=r("getErrorSafe")(e);r("FBLogger")("ig_web").catching(S).mustfix("unexpected")}}});return function(e,t){return c.apply(this,arguments)}})()}l.loadPost=_}),98);
__d("polarisPostModalHelpers",["fbt","FBLogger","justknobx","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e=1032,u=55,c=500,d=250,m=s._(/*BTDS*/"Previous"),p=s._(/*BTDS*/"Next"),_=-1,f=1;function g(e){var t="";switch(e){case"profilePage":case"selfProfilePage":t="profilePageModal";break;case"locationPage":t="locationPageModal";break;case"exploreLandingPage":t="discoverMediaPageModal";break;case"DirectThreadPage":t="directThreadPageModal";break;case"ClipsAudioPage":t="clipsAudioPageModal";break;case"feedPage":case"pastPostsFeedPage":case"followingFeedPage":case"favoritesFeedPage":t="feedPageModal";break;case"KeywordSearchExplorePage":t="keywordSearchExplorePageModal";break;case"adsActivityFeed":r("vulture")("ffZkBqw2cGlao5s8XEe1u1x7yM8="),t="adActivityFeedModal";break;case"ExploreSERPPage":r("vulture")("ozn07wewnSY-kWidXVdFNfubl7g="),t="ExploreSERPPageModal";break;default:r("FBLogger")("ig_web").mustfix("Unexpected analytics context: "+e)}return t}function h(e){var t=e.match(new RegExp("^(.+/)(saved)/(.+)/(.+)/"));return t!=null?t[4]:null}function y(e){return!!e.match(new RegExp("/p/"))}function C(e){var t=e.match(new RegExp("/([^/]+)/[^/]*$"));return t?t[1]:null}function b(e,t,n,r){if(e.height>e.width){var o=n/e.height;r.style.maxHeight=n,r.style.maxWidth=e.width*o,r.style.aspectRatio=e.width+" / "+e.height}else t&&(r.style.aspectRatio="1"),r.style.maxHeight=n,r.style.maxWidth=n;return r}function v(e,t,n,r){n.style.maxWidth=t;var o=t/e.width;return n.style.maxHeight=e.height*o+r,n.style.aspectRatio=e.width*o+" / "+(e.height*o+r),n}function S(t){var n=t.dimensions,o=t.footerHeight,a=o===void 0?u:o,i=t.viewportHeight,l=t.viewportWidth,s=t.hasSidebarInRedesign,m=t.hasFooter,p=m===void 0?!1:m;if(n==null||i===0||l===0)return null;var _={style:{maxHeight:0,maxWidth:0}},f=l-128-(s?c:0);if(n){var g=i>l&&p===!0?f:s?i-48:i-48-d;if(g>e&&r("justknobx")._("64")&&(g=e),p===!1)_=b(n,s,g,_);else{var h=n.height,y=(g-a)/h;_.style.maxHeight=g,s?n.height>=n.width?i>l?_=v(n,g,_,a):n.width*y>f?_=v(n,f,_,a):(_.style.maxHeight=g,_.style.aspectRatio=n.width*y+" / "+(n.height*y+a),_.style.maxWidth=n.width*y):(_.style.aspectRatio=n.width*y>n.height*y+a?"1":n.width*y+" / "+(n.height*y+a),_.style.maxWidth=i>l||n.width*y>n.height*y+a?g:n.width*y):_=v(n,g,_,a)}s&&(_.style.flexBasis=_.style.maxWidth)}return _}l.PREVIOUS_ARROW_TITLE=m,l.NEXT_ARROW_TITLE=p,l.LEFT_DELTA=_,l.RIGHT_DELTA=f,l.getModalPageIdFromAnalyticsContext=g,l.getCollectionIdFromPath=h,l.isPostUrl=y,l.getPostCodeFromPath=C,l.getMediaContainerProps=S}),226);
__d("PolarisProfileTabTaggedPhotosConstants",[],(function(t,n,r,o,a,i){"use strict";var e="tagged";i.TAGGED_TAB_ID=e}),66);
__d("PolarisInstantPostModal.react",["PolarisPostModalInternal.react","PolarisProfileTabTaggedPhotosConstants","polarisPostSelectors","react","react-compiler-runtime","usePolarisSelector"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,n=o("react-compiler-runtime").c(5),a=!1,i=((t=e.modalEntryPath)==null?void 0:t.endsWith("/"+o("PolarisProfileTabTaggedPhotosConstants").TAGGED_TAB_ID+"/"))===!0,l;n[0]!==e.postId?(l=function(n){return o("polarisPostSelectors").getPostOrNullById(n,e.postId)},n[0]=e.postId,n[1]=l):l=n[1];var u=r("usePolarisSelector")(l);(u==null||i&&u.isVideo===!0)&&(a=!0);var c;return n[2]!==e||n[3]!==a?(c=s.jsx(r("PolarisPostModalInternal.react"),babelHelpers.extends({},e,{showLoadingShimmer:a})),n[2]=e,n[3]=a,n[4]=c):c=n[4],c}l.default=u}),98);
__d("PolarisIsLoggedInDesktop",["PolarisIsLoggedIn","PolarisUA"],(function(t,n,r,o,a,i,l){"use strict";function e(){return!o("PolarisUA").isMobile()&&o("PolarisIsLoggedIn").isLoggedIn()}l.isLoggedInDesktop=e}),98);
__d("PolarisHotKeys.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={keyMap:{}},d=s.createContext(c);function m(e){var t=o("react-compiler-runtime").c(13),n=e.children,r=e.className,a=e.isButton,i=e.keyMap,l=a===void 0?!1:a,c=u(d).keyMap,m=_,f=p,g;t[0]!==i?(g=function(t){if(i[t.key]!=null&&f()&&m(t)){var e=i[t.key];e(),t.stopPropagation()}},t[0]=i,t[1]=g):g=t[1];var h=g,y=l?"button":"presentation",C=l?0:-1,b;t[2]!==i?(b={keyMap:i},t[2]=i,t[3]=b):b=t[3];var v;t[4]!==n||t[5]!==r||t[6]!==h||t[7]!==y||t[8]!==C?(v=typeof n=="function"?n(h,y,C):s.jsx("div",{className:r,onKeyUp:h,role:y,tabIndex:C,children:n}),t[4]=n,t[5]=r,t[6]=h,t[7]=y,t[8]=C,t[9]=v):v=t[9];var S;return t[10]!==b||t[11]!==v?(S=s.jsx(d.Provider,{value:b,children:v}),t[10]=b,t[11]=v,t[12]=S):S=t[12],S}function p(){var e,t;return((e=document.activeElement)==null?void 0:e.tagName.toLowerCase())!=="textarea"&&((t=document.activeElement)==null?void 0:t.tagName.toLowerCase())!=="input"}function _(e){return!(e.ctrlKey||e.altKey||e.metaKey)}l.default=m}),98);
__d("PolarisEmbedHashHelpers",["memoize"],(function(t,n,r,o,a,i,l){"use strict";var e=r("memoize")(function(){var e=window.location.hash,t=decodeURIComponent(e.substring(e.indexOf("#")+1)),n;try{n=JSON.parse(t)}catch(e){n={}}return{clientId:n.ci,offset:n.os,sdkLoadEnd:n.le,sdkLoadStart:n.ls}});l.getHashPayload=e}),98);
__d("polarisGetEmbedRequestID",["nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("nullthrows")(document.querySelector(".Embed"));return e.getAttribute("data-request-id")}l.default=e}),98);
__d("PolarisEmbedLogger",["InstagramQueryParamsHelper","PolarisEmbedHashHelpers","PolarisLogger","PolarisLoggerUtils","PolarisPigeonLogger","gkx","polarisGetEmbedRequestID"],(function(t,n,r,o,a,i,l){"use strict";var e=["url"],s=["url"],u=["url"];function c(e){var t=o("PolarisLoggerUtils").trimAndSanitizeUrl(e||window.location.href),n=r("polarisGetEmbedRequestID")();return n!=null?o("InstagramQueryParamsHelper").appendQueryParams(t,{ig_rid:n}):t}function d(t,n,a){if(r("gkx")("25394")){var i=o("PolarisLogger").getExtra(),l=i.url,s=babelHelpers.objectWithoutPropertiesLoose(i,e),u=babelHelpers.extends({client_id:o("PolarisEmbedHashHelpers").getHashPayload().clientId,event_name:t.actionName,is_copyright_blocked:t.isCopyrightBlocked,media_id:t.mediaId,media_type:t.mediaType,owner_id:t.ownerId===""?null:t.ownerId},s),d=babelHelpers.extends({obj_id:c(l),obj_type:"url"},a);o("PolarisLogger").logPigeonEvent(o("PolarisPigeonLogger").createEvent("instagram_web_embeds",u,d),n)}}function m(e,t,n){var r=o("PolarisLogger").getAnonymousExtra(),a=r.url,i=babelHelpers.objectWithoutPropertiesLoose(r,s),l=babelHelpers.extends({client_id:o("PolarisEmbedHashHelpers").getHashPayload().clientId,event_name:e.actionName,is_copyright_blocked:e.isCopyrightBlocked,media_id:e.mediaId,media_type:e.mediaType,owner_id:e.ownerId===""?null:e.ownerId},i),u=babelHelpers.extends({obj_id:c(a),obj_type:"url"},n);o("PolarisLogger").logPigeonEvent(o("PolarisPigeonLogger").createEvent("instagram_web_embeds_anonymous",l,u),t)}function p(e){var t=e.isCopyrightBlocked,n=e.mediaId,r=e.mediaType,o=e.ownerId;m({actionName:"view",isCopyrightBlocked:t,mediaId:n,mediaType:r,ownerId:o})}function _(e,t,n){if(r("gkx")("25394")){var a=o("PolarisLogger").getExtra(e),i=a.url,l=babelHelpers.objectWithoutPropertiesLoose(a,u),s=babelHelpers.extends({client_id:o("PolarisEmbedHashHelpers").getHashPayload().clientId,parent_url:window.document.referrer},l),d=babelHelpers.extends({obj_id:c(i),obj_type:"url"},n);o("PolarisLogger").logPigeonEvent(o("PolarisPigeonLogger").createEvent("instagram_web_embed_perf_events",s,d),t)}}l.logEmbedAction=d,l.logEmbedPageView=p,l.logEmbedTimings=_}),98);
__d("PolarisEmbedVideoWatchAgain.react",["cx","fbt","PolarisEmbedLogger","PolarisFastLink.react","PolarisLinkBuilder","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=u._(/*BTDS*/"Control"),m=u._(/*BTDS*/"Watch again on Instagram"),p="https://www.instagram.com";function _(e){var t=o("react-compiler-runtime").c(4),n=e.className,a=e.href,i=e.onClick,l;return t[0]!==n||t[1]!==a||t[2]!==i?(l=c.jsx(r("PolarisFastLink.react"),{"aria-label":d,className:n,href:a,onClick:i,target:"_blank"}),t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3],l}function f(e){var t,n=o("react-compiler-runtime").c(20),a=e.post,i=a.code,l;n[0]!==i?(l=i!=null&&i.length>0?o("PolarisLinkBuilder").buildMediaLink(i):"",n[0]=i,n[1]=l):l=n[1];var s=l,u=""+p+s+"?utm_source=ig_embed&utm_campaign=embed_video_watch_again",d;if(n[2]!==a.id||n[3]!==((t=a.owner)==null?void 0:t.id)){var f;d=function(){var e;o("PolarisEmbedLogger").logEmbedAction({actionName:"videoWatchAgainClick",mediaId:a.id,mediaType:"video",ownerId:((e=a.owner)==null?void 0:e.id)||""})},n[2]=a.id,n[3]=(f=a.owner)==null?void 0:f.id,n[4]=d}else d=n[4];var g=d,h;n[5]!==g||n[6]!==u?(h=c.jsx(r("PolarisFastLink.react"),{"aria-label":m,className:"_aarb _9zwu",href:u,onClick:g,target:"_blank"}),n[5]=g,n[6]=u,n[7]=h):h=n[7];var y;n[8]!==g||n[9]!==u?(y=c.jsx(r("PolarisFastLink.react"),{"aria-label":m,className:"_aarc",href:u,onClick:g,target:"_blank",children:m}),n[8]=g,n[9]=u,n[10]=y):y=n[10];var C;n[11]!==h||n[12]!==y?(C=c.jsx("div",{className:"_aar9",children:c.jsxs("div",{className:"_aara",children:[h,y]})}),n[11]=h,n[12]=y,n[13]=C):C=n[13];var b;n[14]!==g||n[15]!==u?(b=c.jsx(_,{className:"_aard",href:u,onClick:g}),n[14]=g,n[15]=u,n[16]=b):b=n[16];var v;return n[17]!==C||n[18]!==b?(v=c.jsxs(c.Fragment,{children:[C,b]}),n[17]=C,n[18]=b,n[19]=v):v=n[19],v}l.default=f}),226);
__d("PolarisVideoHeight",["PolarisSizing"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){Object.assign(r,{height:"100%",position:"absolute",width:"100%"});var a=null;e.dimensions!=null&&(a=o("PolarisSizing").getHeightPercent(e.dimensions)),a!=null&&a!==100&&(t&&(a=Math.min(a,o("PolarisSizing").CAPPED_HEIGHT_PERCENT)),Object.assign(n,{paddingBottom:"calc("+a+"% - 1px)"}),Object.assign(r,{height:"calc(100% + 1px)"}))}l.setVideoHeightCompensation=e}),98);
__d("PolarisEmbedVideo.react",["cx","PolarisEmbedLogger","PolarisEmbedVideoWatchAgain.react","PolarisUserTagIndicatorWithSheet.react","PolarisVideoHeight","PolarisVideoPlayButton.react","Run","joinClasses","keyMirror","nullthrows","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("keyMirror")({finished:null,paused:null,playing:null}),d=(function(e){function t(t){var n;n=e.call(this,t)||this,n.$1=u.createRef(),n.$2=!1,n.$3=null,n.handleVisiblityChange=function(){n.state.playerState!=null&&document.visibilityState&&document.visibilityState==="hidden"&&n.stop()},n.handleBeforeUnload=function(){n.state.playerState===c.playing&&n.stop()},n.handlePlayerPlayEvent=function(){n.setState({playerState:c.playing})},n.handlePlayerPauseEvent=function(){n.pause()},n.handlePlayerEndedEvent=function(){n.stop()},n.handleContainerClick=function(e){n.state.playerState!==c.playing?n.play():n.pause()};var r={playerState:null};return n.state=r,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.componentDidMount=function(){document.addEventListener("visibilitychange",this.handleVisiblityChange),this.$3=o("Run").onBeforeUnload(this.handleBeforeUnload);var e=r("nullthrows")(this.$1.current);e.addEventListener("play",this.handlePlayerPlayEvent),e.addEventListener("pause",this.handlePlayerPauseEvent),e.addEventListener("ended",this.handlePlayerEndedEvent)},n.componentDidUpdate=function(t){this.props.isVisible===!1&&t.isVisible===!0&&this.pause()},n.componentWillUnmount=function(){this.handleBeforeUnload(),document.removeEventListener("visibilitychange",this.handleVisiblityChange),this.$3!=null&&(this.$3.remove(),this.$3=null);var e=r("nullthrows")(this.$1.current);e.removeEventListener("play",this.handlePlayerPlayEvent),e.removeEventListener("pause",this.handlePlayerPauseEvent),e.removeEventListener("ended",this.handlePlayerEndedEvent)},n.play=function(){if(this.state.playerState!==c.playing){if(this.$2===!1){var e;o("PolarisEmbedLogger").logEmbedAction({actionName:"videoFirstPlayClick",mediaId:this.props.post.id,mediaType:"video",ownerId:((e=this.props.post.owner)==null?void 0:e.id)||""}),this.$2=!0}r("nullthrows")(this.$1.current).play()}},n.pause=function(){this.state.playerState===c.playing&&(r("nullthrows")(this.$1.current).pause(),this.setState({playerState:c.paused}))},n.stop=function(){if(this.state.playerState!==c.finished){var e=r("nullthrows")(this.$1.current);e.pause(),e.currentTime=0,this.setState({playerState:c.finished})}},n.render=function(){var e=this.props,t=e.className,n=e.post,a=this.state.playerState,i={},l={};o("PolarisVideoHeight").setVideoHeightCompensation(n,!0,i,l);var s=a===c.finished,d=!a||a===c.paused;return u.jsxs("div",{className:r("joinClasses")(t,"_aand"),style:i,children:[u.jsx("div",{style:l,children:!n.mediaOverlayInfo&&u.jsx("video",{className:"_aane",controls:!1,controlsList:void 0,"data-testid":void 0,loop:!1,playsInline:!0,poster:n.src,preload:"none",ref:this.$1,src:n.videoUrl,children:u.jsx("track",{kind:"captions"})})}),s?u.jsx(r("PolarisEmbedVideoWatchAgain.react"),{post:n}):u.jsx(r("PolarisVideoPlayButton.react"),{onClick:this.handleContainerClick,showPlayButton:d}),n.usertags&&n.usertags.length>=1&&u.jsx(r("PolarisUserTagIndicatorWithSheet.react"),{mediaId:n.id,usertags:n.usertags})]})},t})(u.Component);l.default=d}),98);
__d("PolarisPhotoWrapper.react",["InstagramODS","PolarisClickEventLoggerProvider.react","PolarisExternalLink.react","PolarisSponsoredPostContext.react","PolarisTrackingNodeProvider.react","PolarisUA","polarisAdsSelectors.react","react","react-compiler-runtime","usePolarisOffsiteTrackingDataURLParams"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext;function c(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.externalURL,i=e.wrappedRef,l=d,u=r("usePolarisOffsiteTrackingDataURLParams")(a),c;t[0]!==n||t[1]!==a||t[2]!==u?(c=function(t){return s.jsx("div",{ref:t,children:s.jsx(r("PolarisExternalLink.react"),{className:"x4gyw5p",href:a,ignoreDoubleClick:!0,onClick:l,queryParams:u,children:n})})},t[0]=n,t[1]=a,t[2]=u,t[3]=c):c=t[3];var m;return t[4]!==c||t[5]!==i?(m=s.jsx(r("PolarisClickEventLoggerProvider.react"),{ignoreDoubleClick:!0,children:s.jsx(r("PolarisTrackingNodeProvider.react"),{ref:i,trackingNode:86,children:c})}),t[4]=c,t[5]=i,t[6]=m):m=t[6],m}function d(){r("InstagramODS").incr("web.ads.feed.link_click")}function m(e){var t=o("react-compiler-runtime").c(10),n=e.children,a=e.postId,i=e.ref,l=o("polarisAdsSelectors.react").useFeedAdInfo(a,p),d=u(o("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),m=d.singleImageAdAsCta,_;if(t[0]!==(l==null?void 0:l.ctaItems)||t[1]!==a){var f;_=l==null||(f=l.ctaItems)==null||(f=f.get(a))==null?void 0:f.ctaLinkUrl,t[0]=l==null?void 0:l.ctaItems,t[1]=a,t[2]=_}else _=t[2];var g=_;if(g!=null&&m&&o("PolarisUA").isDesktop()){var h;return t[3]!==n||t[4]!==g||t[5]!==i?(h=s.jsx(r("PolarisTrackingNodeProvider.react"),{trackingNode:12,children:function(t){return s.jsx("div",{ref:t,children:s.jsx(c,{externalURL:g,wrappedRef:i,children:n})})}}),t[3]=n,t[4]=g,t[5]=i,t[6]=h):h=t[6],h}var y;return t[7]!==n||t[8]!==i?(y=s.jsx("div",{ref:i,children:n}),t[7]=n,t[8]=i,t[9]=y):y=t[9],y}function p(e){return e}l.default=m}),98);
__d("PolarisMedia_DEPRECATED.react",["JSResourceForInteraction","PolarisDoubleTappable","PolarisEmbedVideo.react","PolarisFeedSeenStateManagerSingleton","PolarisIGCoreToast.react","PolarisIsLoggedInDesktop","PolarisLikeAnimation.react","PolarisMediaNoteBubbleGroup.react","PolarisMediaVideo.react","PolarisPhoto.react","PolarisPhotoWithIndicator.react","PolarisPhotoWrapper.react","PolarisSensitivityOverlay.react","PolarisSidecarMedia.react","PolarisUA","PolarisViewpointReact.react","lazyLoadComponent","nullthrows","polarisVideoUtils","polarisWithRemountOnChange","react","react-compiler-runtime","usePolarisMediaSensitivityOverlay"],(function(t,n,r,o,a,i,l){"use strict";var e=["adInfo","analyticsContext","asSidecarChild","autoplay","checkIsSensitivityOverlayDisabledCallback","commentsAreStacked","firstSidecarChildSrc","hasViewInsights","id","initialCarouselIndex","isEmbed","isVisible","mediaFooter","onLike","onMediaRendered","onSensitivityOverlayCleared","onSetModal","onSidecarChildIndexChange","onToastClose","onVideoFinished","onVideoLoop","post","relationship","sensitivityOverlayMediaOverlayInfoLoggingProps","showToast","toastString","viewer","visiblePosition"],s=["mediaFooter"],u,c=u||(u=o("react")),d=u.useState,m=r("lazyLoadComponent")(r("JSResourceForInteraction")("PolarisPostSecretReelQRCode.react").__setRef("PolarisMedia_DEPRECATED.react"));function p(t){var n=o("react-compiler-runtime").c(160),a=d(!1),i=a[0],l=a[1],u=d(!1),p=u[0],_=u[1],f=d(0),g=f[0],h=f[1],y;n[0]===Symbol.for("react.memo_cache_sentinel")?(y=r("PolarisFeedSeenStateManagerSingleton").get(),n[0]=y):y=n[0];var C=y,b;n[1]!==g||n[2]!==t?(b=function(){t.onLike&&(t.onLike(),h(g+1))},n[1]=g,n[2]=t,n[3]=b):b=n[3];var v=b,S;n[4]===Symbol.for("react.memo_cache_sentinel")?(S=function(){l(!0)},n[4]=S):S=n[4];var R=S,L;n[5]===Symbol.for("react.memo_cache_sentinel")?(L=function(){l(!1)},n[5]=L):L=n[5];var E=L,k;n[6]!==t?(k=function(n,r){var e=t.onMediaRendered,o=t.post;o.isVideo!==!0&&e&&e({mediaType:"Photo",resourceName:n,timeTaken:r})},n[6]=t,n[7]=k):k=n[7];var I=k,T;n[8]!==p?(T=function(t){e:switch(t.state){case"entered":case"updated":{var e=t.percentVisible>.2;p!==e&&_(e);break e}case"exited":_(!1)}},n[8]=p,n[9]=T):T=n[9];var D=T,x;n[10]!==t.analyticsContext||n[11]!==t.autoplay?(x=function(n,r){if(n===!0&&t.autoplay===!0){if(o("polarisVideoUtils").isFeed(t.analyticsContext))return!1;if(r===0&&o("PolarisIsLoggedInDesktop").isLoggedInDesktop())return!0}return!1},n[10]=t.analyticsContext,n[11]=t.autoplay,n[12]=x):x=n[12];var $=x,P,N,M,w,A,F,O,B,W,q,U,V,H,G,z,j,K,Q,X,Y,J,Z,ee;if(n[13]!==t){var te=t.adInfo,ne=t.analyticsContext,re=t.asSidecarChild,oe=t.autoplay,ae=t.checkIsSensitivityOverlayDisabledCallback,ie=t.commentsAreStacked,le=t.firstSidecarChildSrc,se=t.hasViewInsights,ue=t.id,ce=t.initialCarouselIndex,de=t.isEmbed,me=t.isVisible,pe=t.mediaFooter,_e=t.onLike,fe=t.onMediaRendered,ge=t.onSensitivityOverlayCleared,he=t.onSetModal,ye=t.onSidecarChildIndexChange,Ce=t.onToastClose,be=t.onVideoFinished,ve=t.onVideoLoop,Se=t.post,Re=t.relationship,Le=t.sensitivityOverlayMediaOverlayInfoLoggingProps,Ee=t.showToast,ke=t.toastString,Ie=t.viewer,Te=t.visiblePosition,De=babelHelpers.objectWithoutPropertiesLoose(t,e);N=te,M=ne,w=re,A=oe,F=ie,O=le,B=ue,W=de,q=me,U=pe,P=ge,V=ye,H=Ce,G=be,z=ve,K=Se,Q=Re,X=Le,Y=Ee,J=ke,Z=Ie,ee=Te,j=De,n[13]=t,n[14]=P,n[15]=N,n[16]=M,n[17]=w,n[18]=A,n[19]=F,n[20]=O,n[21]=B,n[22]=W,n[23]=q,n[24]=U,n[25]=V,n[26]=H,n[27]=G,n[28]=z,n[29]=j,n[30]=K,n[31]=Q,n[32]=X,n[33]=Y,n[34]=J,n[35]=Z,n[36]=ee}else P=n[14],N=n[15],M=n[16],w=n[17],A=n[18],F=n[19],O=n[20],B=n[21],W=n[22],q=n[23],U=n[24],V=n[25],H=n[26],G=n[27],z=n[28],j=n[29],K=n[30],Q=n[31],X=n[32],Y=n[33],J=n[34],Z=n[35],ee=n[36];var xe,$e;n[37]!==K?($e=K||{},n[37]=K,n[38]=$e):$e=n[38];var Pe=$e,Ne=Pe.dimensions,Me=Pe.displayResources,we=Pe.upcomingEvent,Ae=Pe.id,Fe=Pe.isVideo,Oe=Pe.mediaPreview,Be=Pe.owner,We=Pe.sidecarChildren,qe=Pe.src,Ue=Pe.usertags,Ve=Fe===void 0?!1:Fe,He;n[39]!==We?(He=We===void 0?[]:We,n[39]=We,n[40]=He):He=n[40];var Ge=He,ze=Ge&&Ge.length>0,je;if(n[41]!==M||n[42]!==ze||n[43]!==K){if(je=[],!ze&&o("polarisVideoUtils").isFeed(M)){var Ke;n[45]!==K?(Ke=function(t){C.addImpressionFromPost(K,t)},n[45]=K,n[46]=Ke):Ke=n[46],je.push(Ke)}n[41]=M,n[42]=ze,n[43]=K,n[44]=je}else je=n[44];var Qe=!1,Xe=r("usePolarisMediaSensitivityOverlay")(K,M,P,t.checkIsSensitivityOverlayDisabledCallback),Ye=Xe.mediaOverlayCoverInfo,Je=Xe.handleHideSensitivityOverlay,Ze=Xe.shouldShowSensitivityOverlay;if(Be&&Ze){var et,tt,nt;n[47]!==X?(nt=X||{},n[47]=X,n[48]=nt):nt=n[48];var rt=nt,ot=rt.checkIfMediaOverlayInfoImpressionLoggingDisabled,at=rt.onLoggedMediaOverlayInfoImpression,it=K.code;if(!o("PolarisUA").isMobile()&&it!=null&&(((et=Ye)==null?void 0:et.overlayType)==="SECRET_LINK"||((tt=Ye)==null?void 0:tt.overlayType)==="EARLY_ACCESS")){var lt=K.isVideo===!0?"reel":"p",st;n[49]!==it||n[50]!==lt?(st=c.jsx(m,{params:{permalink_key:lt,shortcode:it}}),n[49]=it,n[50]=lt,n[51]=st):st=n[51];var ut;n[52]!==Ye||n[53]!==st?(ut=babelHelpers.extends({},Ye,{extra:st}),n[52]=Ye,n[53]=st,n[54]=ut):ut=n[54],Ye=ut}var ct;n[55]!==ot||n[56]!==Ae?(ct=ot!=null?ot(Ae):!1,n[55]=ot,n[56]=Ae,n[57]=ct):ct=n[57];var dt=!Ve&&!ze,mt;n[58]!==Je||n[59]!==K?(mt=function(){return Je(K)},n[58]=Je,n[59]=K,n[60]=mt):mt=n[60];var pt;n[61]!==M||n[62]!==w||n[63]!==Ne||n[64]!==q||n[65]!==Ye||n[66]!==Oe||n[67]!==at||n[68]!==Be.id||n[69]!==Ae||n[70]!==ct||n[71]!==dt||n[72]!==mt?(pt=c.jsx(r("PolarisSensitivityOverlay.react"),{analyticsContext:M,asSidecarChild:w,dimensions:Ne,disableMediaOverlayInfoImpressionLogging:ct,isPhoto:dt,isVisible:q,mediaId:Ae,mediaOverlayCoverInfo:Ye,onLoggedMediaOverlayInfoImpression:at,onShowPostClicked:mt,ownerId:Be.id,previewData:Oe}),n[61]=M,n[62]=w,n[63]=Ne,n[64]=q,n[65]=Ye,n[66]=Oe,n[67]=at,n[68]=Be.id,n[69]=Ae,n[70]=ct,n[71]=dt,n[72]=mt,n[73]=pt):pt=n[73],xe=pt}else if(ze){var _t;if(F===!0)Qe=!0,_t=t;else{var ft;if(n[74]!==t){var gt=t.mediaFooter,ht=babelHelpers.objectWithoutPropertiesLoose(t,s);ft=ht,n[74]=t,n[75]=ft}else ft=n[75];_t=ft}var yt;n[76]!==V||n[77]!==Ge||n[78]!==_t?(yt=c.jsx(r("PolarisSidecarMedia.react"),babelHelpers.extends({},_t,{onChildIndexChange:V,sidecarChildren:Ge})),n[76]=V,n[77]=Ge,n[78]=_t,n[79]=yt):yt=n[79],xe=yt}else if(Ve){var Ct=p,bt;n[80]!==D?(bt=[D],n[80]=D,n[81]=bt):bt=n[81];var vt=bt,St;n[82]!==je||n[83]!==vt?(St=[].concat(vt,je),n[82]=je,n[83]=vt,n[84]=St):St=n[84];var Rt;n[85]!==N||n[86]!==M||n[87]!==w||n[88]!==A||n[89]!==O||n[90]!==B||n[91]!==W||n[92]!==Ct||n[93]!==H||n[94]!==G||n[95]!==z||n[96]!==K||n[97]!==t.className||n[98]!==Q||n[99]!==$||n[100]!==Y||n[101]!==J||n[102]!==ee?(Rt=function(n){return c.jsxs("div",{ref:n,children:[W===!0?c.jsx(r("PolarisEmbedVideo.react"),{className:t.className,isVisible:Ct,post:K}):c.jsx(r("PolarisMediaVideo.react"),{adInfo:N,analyticsContext:M,asSidecarChild:w,autoplay:A,className:t.className,firstSidecarChildSrc:O,isVisible:Ct,onFinished:G,onLoop:z,post:K,relationship:Q,shouldAutoPlay:$(Ct,ee),upcomingEventMediaId:B}),Y===!0&&J!=null&&c.jsx(r("PolarisIGCoreToast.react"),{absolutePosition:!0,duration:3e3,onClose:H,wide:!0,children:J})]})},n[85]=N,n[86]=M,n[87]=w,n[88]=A,n[89]=O,n[90]=B,n[91]=W,n[92]=Ct,n[93]=H,n[94]=G,n[95]=z,n[96]=K,n[97]=t.className,n[98]=Q,n[99]=$,n[100]=Y,n[101]=J,n[102]=ee,n[103]=Rt):Rt=n[103];var Lt;n[104]!==K.id||n[105]!==St||n[106]!==Rt?(Lt=c.jsx(o("PolarisViewpointReact.react").Viewpoint,{action:St,id:K.id,children:Rt}),n[104]=K.id,n[105]=St,n[106]=Rt,n[107]=Lt):Lt=n[107],xe=Lt}else{var Et;n[108]!==qe?(Et=r("nullthrows")(qe),n[108]=qe,n[109]=Et):Et=n[109];var kt;n[110]!==Ne||n[111]!==Me||n[112]!==I||n[113]!==g||n[114]!==Ae||n[115]!==Et?(kt={dimensions:Ne,likeEventCount:g,onPhotoRendered:I,postId:Ae,src:Et,srcSet:Me},n[110]=Ne,n[111]=Me,n[112]=I,n[113]=g,n[114]=Ae,n[115]=Et,n[116]=kt):kt=n[116];var It=kt,Tt;if(n[117]!==M||n[118]!==w||n[119]!==O||n[120]!==B||n[121]!==i||n[122]!==q||n[123]!==It||n[124]!==j||n[125]!==qe||n[126]!==we||n[127]!==Ue||n[128]!==Z){if(Ue&&Ue.length>0||we){var Dt=w===!0?O:qe,xt;n[130]!==Dt?(xt=r("nullthrows")(Dt),n[130]=Dt,n[131]=xt):xt=n[131],Tt=c.jsx(o("PolarisPhotoWithIndicator.react").PhotoWithIndicator,babelHelpers.extends({},j,It,{analyticsContext:M,isFocused:i,isVisible:q,upcomingEvent:we,upcomingEventMediaId:B,upcomingEventThumbnailSrc:xt,usertags:Ue,viewer:Z}))}else Tt=c.jsx(r("PolarisPhoto.react"),babelHelpers.extends({},j,It,{analyticsContext:M,asSidecarChild:w}));n[117]=M,n[118]=w,n[119]=O,n[120]=B,n[121]=i,n[122]=q,n[123]=It,n[124]=j,n[125]=qe,n[126]=we,n[127]=Ue,n[128]=Z,n[129]=Tt}else Tt=n[129];var $t;n[132]!==je?($t=[].concat(je),n[132]=je,n[133]=$t):$t=n[133];var Pt=$t,Nt;n[134]!==Tt||n[135]!==K.id?(Nt=function(t){return c.jsx(r("PolarisPhotoWrapper.react"),{postId:K.id,ref:t,children:Tt})},n[134]=Tt,n[135]=K.id,n[136]=Nt):Nt=n[136];var Mt;n[137]!==Pt||n[138]!==K.id||n[139]!==Nt?(Mt=c.jsx(o("PolarisViewpointReact.react").Viewpoint,{action:Pt,id:K.id,children:Nt}),n[137]=Pt,n[138]=K.id,n[139]=Nt,n[140]=Mt):Mt=n[140];var wt=Mt,At;n[141]!==g?(At=c.jsx(r("PolarisLikeAnimation.react"),{likeEventCount:g},g),n[141]=g,n[142]=At):At=n[142];var Ft;n[143]!==v||n[144]!==At||n[145]!==wt?(Ft=c.jsxs(o("PolarisDoubleTappable").DoubleTappable,{onBlur:E,onDoubleClick:v,onFocus:R,role:"button",children:[wt,At]}),n[143]=v,n[144]=At,n[145]=wt,n[146]=Ft):Ft=n[146],xe=Ft}var Ot;n[147]!==Ae||n[148]!==K.floating_context_items?(Ot=K.floating_context_items!=null&&K.floating_context_items.length>0?c.jsx(r("PolarisMediaNoteBubbleGroup.react"),{floatingContextItems:K.floating_context_items,mediaId:Ae}):null,n[147]=Ae,n[148]=K.floating_context_items,n[149]=Ot):Ot=n[149];var Bt=Ot;if(U!=null&&!Qe&&!Ze){var Wt;n[150]!==xe||n[151]!==U?(Wt=c.jsxs(c.Fragment,{children:[xe,U]}),n[150]=xe,n[151]=U,n[152]=Wt):Wt=n[152],xe=Wt}var qt;n[153]===Symbol.for("react.memo_cache_sentinel")?(qt={className:"x1n2onr6"},n[153]=qt):qt=n[153];var Ut=xe,Vt;n[154]===Symbol.for("react.memo_cache_sentinel")?(Vt={className:"xyxf0pu xyx8ycp x10l6tqk x1vjfegm"},n[154]=Vt):Vt=n[154];var Ht;n[155]!==Bt?(Ht=c.jsx("div",babelHelpers.extends({},Vt,{children:Bt})),n[155]=Bt,n[156]=Ht):Ht=n[156];var Gt;return n[157]!==xe||n[158]!==Ht?(Gt=c.jsxs("div",babelHelpers.extends({},qt,{children:[Ut,Ht]})),n[157]=xe,n[158]=Ht,n[159]=Gt):Gt=n[159],Gt}function _(e,t){return e.id!==t.id}var f=r("polarisWithRemountOnChange")(_)(p);l.default=f}),98);
__d("PolarisSidecarChild.react",["IGDSBox.react","PolarisMedia_DEPRECATED.react","PolarisOrganicImpressionAction","PolarisViewpointReact.react","PolarisVpvdImpressionAction","cr:5000","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["index","media","mediaWidth","onChildIndexChange","sidecarChildIndex","sidecarChildren","analyticsContext","isVisible","mediaFooter","onMediaRendered","post"],s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(43),i,l,s,c,d,m,p,_,f,g;if(a[0]!==t){var h=t.index,y=t.media,C=t.mediaWidth,b=t.onChildIndexChange,v=t.sidecarChildIndex,S=t.sidecarChildren,R=t.analyticsContext,L=t.isVisible,E=t.mediaFooter,k=t.onMediaRendered,I=t.post,T=babelHelpers.objectWithoutPropertiesLoose(t,e);l=h,c=y,d=C,f=v,g=S,i=R,s=L,m=k,_=I,p=T,a[0]=t,a[1]=i,a[2]=l,a[3]=s,a[4]=c,a[5]=d,a[6]=m,a[7]=p,a[8]=_,a[9]=f,a[10]=g}else i=a[1],l=a[2],s=a[3],c=a[4],d=a[5],m=a[6],p=a[7],_=a[8],f=a[9],g=a[10];var D;a[11]!==i||a[12]!==l||a[13]!==s||a[14]!==c||a[15]!==m||a[16]!==p||a[17]!==f||a[18]!==g?(D=c.isUpsell===!0&&n("cr:5000")!=null?u.jsx(n("cr:5000"),{upsellSidecarChild:c}):u.jsx(r("PolarisMedia_DEPRECATED.react"),babelHelpers.extends({},p,{accessibilityCaption:c.accessibilityCaption,analyticsContext:i,asSidecarChild:!0,firstSidecarChildSrc:g[0].src,isVisible:f===l?s:!1,onMediaRendered:m,post:c})),a[11]=i,a[12]=l,a[13]=s,a[14]=c,a[15]=m,a[16]=p,a[17]=f,a[18]=g,a[19]=D):D=a[19];var x=D;if(l===0){var $;return a[20]!==c.id||a[21]!==d||a[22]!==x?($=u.jsx(r("IGDSBox.react"),{position:"relative",width:d,children:x},c.id),a[20]=c.id,a[21]=d,a[22]=x,a[23]=$):$=a[23],$}var P;a[24]!==i||a[25]!==c?(P=o("PolarisOrganicImpressionAction").makeCarouselImpressionAction(c,i),a[24]=i,a[25]=c,a[26]=P):P=a[26];var N;a[27]!==i||a[28]!==l||a[29]!==c||a[30]!==_.id||a[31]!==g[0]?(N=o("PolarisVpvdImpressionAction").makeCarouselVpvdImpressionAction(c,g[0],l,_.id,i),a[27]=i,a[28]=l,a[29]=c,a[30]=_.id,a[31]=g[0],a[32]=N):N=a[32];var M;a[33]!==P||a[34]!==N?(M=[P,N],a[33]=P,a[34]=N,a[35]=M):M=a[35];var w;a[36]!==d||a[37]!==x?(w=function(t){return u.jsx(r("IGDSBox.react"),{containerRef:t,position:"relative",width:d,children:x})},a[36]=d,a[37]=x,a[38]=w):w=a[38];var A;return a[39]!==c.id||a[40]!==M||a[41]!==w?(A=u.jsx(o("PolarisViewpointReact.react").Viewpoint,{action:M,id:c.id,children:w},c.id),a[39]=c.id,a[40]=M,a[41]=w,a[42]=A):A=a[42],A}l.default=c}),98);
__d("usePolarisSidecarMediaOrUpsell",["PolarisIsLoggedIn","PolarisUA","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=4,s=2;function u(t){var n=o("react-compiler-runtime").c(3),r=t.post,a=t.sidecarChildren;if(o("PolarisIsLoggedIn").isLoggedIn()||o("PolarisUA").isDesktop()||a.some(c)||r.dimensions===null||r.owner===null)return a;var i;if(n[0]!==r||n[1]!==a){i=[].concat(a);var l=i.length>=e?s:null;if(l!=null&&i[l-1].mediaPreview!=null){var u={dimensions:r.dimensions,id:"",isUpsell:!0,isVideo:!1,mediaPreview:i[l-1].mediaPreview,owner:r.owner,src:""};i.splice(l,0,u)}n[0]=r,n[1]=a,n[2]=i}else i=n[2];return i}function c(e){return e.mediaOverlayInfo!=null}l.default=u}),98);
__d("PolarisSidecarMedia.react",["PolarisSidecarChild.react","PolarisSidecar_DEPRECATED.react","react","react-compiler-runtime","usePolarisSidecarMediaOrUpsell"],(function(t,n,r,o,a,i,l){"use strict";var e=["sidecarChildren","initialCarouselIndex","post"],s,u=s||(s=o("react")),c=s.useCallback;function d(t){var n=o("react-compiler-runtime").c(23),a,i,l,s;n[0]!==t?(s=t.sidecarChildren,a=t.initialCarouselIndex,l=t.post,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s):(a=n[1],i=n[2],l=n[3],s=n[4]);var c;n[5]!==i.onChildIndexChange?(c=function(t,n,r){return[i.onChildIndexChange].filter(Boolean).forEach(function(e){return e(t,n,r)})},n[5]=i.onChildIndexChange,n[6]=c):c=n[6];var d=c,p;n[7]!==l||n[8]!==s?(p={post:l,sidecarChildren:s},n[7]=l,n[8]=s,n[9]=p):p=n[9];var _=r("usePolarisSidecarMediaOrUpsell")(p),f;n[10]!==i||n[11]!==l||n[12]!==_?(f=function(t,n){return _.map(function(e,o){return u.jsx(r("PolarisSidecarChild.react"),babelHelpers.extends({index:o,media:e,mediaWidth:t,post:l,sidecarChildIndex:n,sidecarChildren:_},i),o)})},n[10]=i,n[11]=l,n[12]=_,n[13]=f):f=n[13];var g=f,h;n[14]!==_?(h=_.map(m).filter(Boolean),n[14]=_,n[15]=h):h=n[15];var y=h,C;n[16]!==y||n[17]!==a||n[18]!==d||n[19]!==i.mediaFooter||n[20]!==g||n[21]!==_.length?(C=u.jsx(o("PolarisSidecar_DEPRECATED.react").Sidecar,{dimensions:y,initialCarouselIndex:a,mediaFooter:i.mediaFooter,numSidecarChildren:_.length,onChildIndexChange:d,renderSidecarChildren:g}),n[16]=y,n[17]=a,n[18]=d,n[19]=i.mediaFooter,n[20]=g,n[21]=_.length,n[22]=C):C=n[22];var b=C;return b}function m(e){var t=e.dimensions;return t}l.default=d}),98);
__d("PolarisMediaContainer.react",["PolarisMedia_DEPRECATED.react","PolarisReactRedux.react","polarisPostSelectors","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["onPostMediaRendered","onPostSidecarChildIndexChange"],s,u=s||(s=o("react"));function c(e,t){return{onMediaRendered:o("polarisPostSelectors").getOnMediaRendered(e,t.onPostMediaRendered)}}function d(e,t){return{onSidecarChildIndexChange:function(n,r,o){var e=t.onPostSidecarChildIndexChange;e&&e(r)}}}function m(t,n,r){var o=r.onPostMediaRendered,a=r.onPostSidecarChildIndexChange,i=babelHelpers.objectWithoutPropertiesLoose(r,e);return babelHelpers.extends({},i,t,n)}var p=o("PolarisReactRedux.react").connect(c,d,m)(r("PolarisMedia_DEPRECATED.react"));l.default=p}),98);
__d("PolarisPostActionLikePost",["PolarisAPILikePost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisSentryFeedbackActions","PolarisToastActions","QPLUserFlow","polarisLogAction","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(t,n,a){return function(i){return r("polarisLogAction")("likeAttempt",n),r("QPLUserFlow").start(r("qpl")._(379204822,"720"),{annotations:{string:{source:n==null?void 0:n.source}}}),i({postId:t,type:"LIKE_POST_REQUESTED"}),o("PolarisAPILikePost").likePost(t).then(function(){a!=null?o("PolarisAdsEngagementLogger").logAdLike(n,a):o("PolarisEngagementLogger").logOrganicLike(n),r("QPLUserFlow").endSuccess(r("qpl")._(379204822,"720")),i({postId:t,type:"LIKE_POST_SUCCEEDED"})},function(a){var l;r("polarisLogAction")("likeFailure",n),r("QPLUserFlow").endFailure(r("qpl")._(379204822,"720"),"request_failed");var s=((l=a.responseObject)==null?void 0:l.spam)||!1;if(s){var u,c,d,m,p,_,f,g=(u=a.responseObject)==null?void 0:u.feedback_title,h=(c=a.responseObject)==null?void 0:c.feedback_message,y=(d=a.responseObject)==null?void 0:d.feedback_url,C=(m=a.responseObject)==null?void 0:m.feedback_action,b=(p=a.responseObject)==null?void 0:p.feedback_appeal_label,v=(_=a.responseObject)==null?void 0:_.restriction_enrollment_data,S=(f=a.responseObject)==null?void 0:f.enforcement_transparency_instance_identifier;i(o("PolarisSentryFeedbackActions").showSentryFeedback({action:C,enforcement_transparency_instance_identifier:S,feedback_appeal_label:b,message:h,restriction_enrollment_data:v,source:n.source,sourceOfAction:"like_post",title:g,url:y}))}i({postId:t,type:"LIKE_POST_FAILED"}),i(o("PolarisToastActions").showToast({actionHandler:function(){return i(e(t,n))},actionText:o("PolarisGenericStrings").RETRY_TEXT,text:o("PolarisGenericStrings").GENERIC_ERROR_MESSAGE}))})}}l.likePost=e}),98);
__d("PolarisPostActionRemovePostFromCollection",["InstagramODS","PolarisAPIEditCollection"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.collectionId,n=e.postId;return function(e){return e({collectionId:t,postId:n,type:"REMOVE_POST_FROM_COLLECTION_REQUESTED"}),r("InstagramODS").incr("web.unsaveFromCollection.attempt"),o("PolarisAPIEditCollection").editCollection({collectionId:t,postIdsToRemove:[n]}).then(function(){e({collectionId:t,postId:n,type:"REMOVE_POST_FROM_COLLECTION_SUCCEEDED"}),r("InstagramODS").incr("web.unsaveFromCollection.success")}).catch(function(){e({collectionId:t,postId:n,type:"REMOVE_POST_FROM_COLLECTION_FAILED"}),r("InstagramODS").incr("web.unsaveFromCollection.failure")})}}l.removePostFromCollection=e}),98);
__d("PolarisPostActionSavePost",["PolarisAPISavePost","PolarisAdsEngagementLogger","polarisLogAction"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return function(a){return r("polarisLogAction")("saveAttempt",t),a({postId:e,type:"SAVE_POST_REQUESTED"}),o("PolarisAPISavePost").savePost(e).then(function(){r("polarisLogAction")("saveSuccess",t),a({postId:e,type:"SAVE_POST_SUCCEEDED"}),n!=null&&o("PolarisAdsEngagementLogger").logAdSave(n)},function(){r("polarisLogAction")("saveFailure",t),a({postId:e,type:"SAVE_POST_FAILED"})})}}l.savePost=e}),98);
__d("PolarisPostActionUnlikePost",["PolarisAPIUnlikePost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisSentryFeedbackActions","PolarisToastActions","QPLUserFlow","polarisLogAction","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(t,n,a){return function(i){return r("polarisLogAction")("unlikeAttempt",n),r("QPLUserFlow").start(r("qpl")._(379198902,"749"),{annotations:{string:{source:n==null?void 0:n.source}}}),i({postId:t,type:"UNLIKE_POST_REQUESTED"}),o("PolarisAPIUnlikePost").unlikePost(t).then(function(){a!=null?o("PolarisAdsEngagementLogger").logAdUnlike(n,a):o("PolarisEngagementLogger").logOrganicUnlike(n),r("QPLUserFlow").endSuccess(r("qpl")._(379198902,"749")),i({postId:t,type:"UNLIKE_POST_SUCCEEDED"})},function(a){var l,s=((l=a.responseObject)==null?void 0:l.spam)||!1;if(s){var u,c,d,m,p,_,f,g=(u=a.responseObject)==null?void 0:u.feedback_title,h=(c=a.responseObject)==null?void 0:c.feedback_message,y=(d=a.responseObject)==null?void 0:d.feedback_url,C=(m=a.responseObject)==null?void 0:m.feedback_action,b=(p=a.responseObject)==null?void 0:p.feedback_appeal_label,v=(_=a.responseObject)==null?void 0:_.restriction_enrollment_data,S=(f=a.responseObject)==null?void 0:f.enforcement_transparency_instance_identifier;i(o("PolarisSentryFeedbackActions").showSentryFeedback({action:C,enforcement_transparency_instance_identifier:S,feedback_appeal_label:b,message:h,restriction_enrollment_data:v,source:n.source,sourceOfAction:"unlike_post",title:g,url:y}))}r("polarisLogAction")("unlikeFailure",n),r("QPLUserFlow").endFailure(r("qpl")._(379198902,"749"),"request_failed"),i({postId:t,type:"UNLIKE_POST_FAILED"}),i(o("PolarisToastActions").showToast({actionHandler:function(){return i(e(t,n))},actionText:o("PolarisGenericStrings").RETRY_TEXT,text:o("PolarisGenericStrings").GENERIC_ERROR_MESSAGE}))})}}l.unlikePost=e}),98);
__d("PolarisPostActionUnsavePost",["PolarisAPIUnsavePost","PolarisAdsEngagementLogger","polarisLogAction"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return function(a){return r("polarisLogAction")("unsaveAttempt",t),a({postId:e,type:"UNSAVE_POST_REQUESTED"}),o("PolarisAPIUnsavePost").unsavePost(e).then(function(){r("polarisLogAction")("unsaveSuccess",t),a({postId:e,type:"UNSAVE_POST_SUCCEEDED"}),n!=null&&o("PolarisAdsEngagementLogger").logAdUnsave(n)},function(){r("polarisLogAction")("unsaveFailure",t),a({postId:e,type:"UNSAVE_POST_FAILED"})})}}l.unsavePost=e}),98);
__d("PolarisPostCoauthorReviewOverlayFooterCTA.react",["fbt","FBLogger","IGDSBox.react","IGDSButton.react","IGDSTextVariants.react","JSResourceForInteraction","PolarisConfig","PolarisUserHoverCard.react","PolarisUserLink.react","err","gkx","polarisGetPostFromGraphMediaInterface","react","react-compiler-runtime","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback,d=r("JSResourceForInteraction")("PolarisCoauthorReviewDialog.react").__setRef("PolarisPostCoauthorReviewOverlayFooterCTA.react");function m(e){var t,n,a=o("react-compiler-runtime").c(22),i=e.invitedCoauthorProducers,l=e.mediaId,c=e.mediaShortcode,m=e.productType,p=e.user,_=r("useIGDSLazyDialog")(d),f=_[0],g;a[0]!==l||a[1]!==c||a[2]!==m||a[3]!==f||a[4]!==(p==null?void 0:p.username)?(g=function(){var e;f({mediaId:l!=null?l:"",mediaShortcode:c!=null?c:"",productType:m,username:(e=p==null?void 0:p.username)!=null?e:""})},a[0]=l,a[1]=c,a[2]=m,a[3]=f,a[4]=p==null?void 0:p.username,a[5]=g):g=a[5];var h=g;if(p==null||p.username==null||l==null){var y=r("err")("PolarisPostCoauthorReviewOverlayFooterCTA requires a post user");return r("FBLogger")("ig_web").catching(y),null}var C=o("PolarisConfig").getViewerIdOrZero(),b=i!=null&&i.some(function(e){return(e==null?void 0:e.id)===C});if(!b)return null;var v=!p.isUnpublished,S=(t=p==null?void 0:p.username)!=null?t:"",R=(n=p==null?void 0:p.username)!=null?n:"",L;a[6]!==R?(L=u.jsx(r("PolarisUserLink.react"),{username:R}),a[6]=R,a[7]=L):L=a[7];var E;a[8]!==v||a[9]!==S||a[10]!==L||a[11]!==p.id?(E=u.jsx(r("PolarisUserHoverCard.react"),{display:"inline-block",isUserAvailable:v,userId:p.id,username:S,children:L}),a[8]=v,a[9]=S,a[10]=L,a[11]=p.id,a[12]=E):E=a[12];var k=E,I;a[13]!==k?(I=s._(/*BTDS*/"{media_owner_username} invited you to be a collaborator on their post.",[s._param("media_owner_username",k)]),a[13]=k,a[14]=I):I=a[14];var T=I,D;a[15]!==k?(D=s._(/*BTDS*/"{media_owner_username} invited you to be a collaborator on their reel.",[s._param("media_owner_username",k)]),a[15]=k,a[16]=D):D=a[16];var x=D,$;return a[17]!==h||a[18]!==T||a[19]!==m||a[20]!==x?($=r("gkx")("4757")?u.jsxs(r("IGDSBox.react"),{alignItems:"center",color:"primaryBackground",direction:"row",justifyContent:"between",paddingX:3,paddingY:2,position:"relative",children:[u.jsx(r("IGDSBox.react"),{flex:"shrink",marginEnd:5,marginStart:1,maxWidth:350,overflow:"auto",wrap:!0,children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"primaryText",maxLines:3,zeroMargin:!0,children:m===o("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_CLIPS?x:T})}),u.jsx(r("IGDSBox.react"),{flex:"shrink",marginEnd:1,children:u.jsx(r("IGDSButton.react"),{display:"inline",label:s._(/*BTDS*/"Review"),onClick:h,variant:"tertiary"})})]}):null,a[17]=h,a[18]=T,a[19]=m,a[20]=x,a[21]=$):$=a[21],$}l.default=m}),226);
__d("PolarisPostCommentInputPicker.react",["CometPlaceholder.react","PolarisUA","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react")),c=r("deferredLoadComponent")(r("requireDeferredForDisplay")("PolarisPostCommentInput.react").__setRef("PolarisPostCommentInputPicker.react"));function d(t){var n=o("react-compiler-runtime").c(17),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=r("usePolarisIsOnFeedPage")(),s=r("usePolarisIsOnAdsActivityPage")(),d;n[3]!==s||n[4]!==l||n[5]!==a?(d=(l||s)&&a.inModal!==!0&&o("PolarisUA").isDesktop(),n[3]=s,n[4]=l,n[5]=a,n[6]=d):d=n[6];var m=d,p;n[7]!==m?(p={0:{className:"x1qjc9v5 x5ur3kl x13fuv20 x178xt8z x9f619 x78zum5 xdt5ytf x2lah0s xnnlda6 x1gslohp x1n2onr6"},1:{className:"x1qjc9v5 x9f619 x78zum5 xdt5ytf x2lah0s x1d6elog"}}[!!m<<0],n[7]=m,n[8]=p):p=n[8];var _;n[9]!==p?(_=u.jsx("div",babelHelpers.extends({},p)),n[9]=p,n[10]=_):_=n[10];var f;n[11]!==a||n[12]!==i?(f=u.jsx(c,babelHelpers.extends({},a,{ref:i})),n[11]=a,n[12]=i,n[13]=f):f=n[13];var g;return n[14]!==_||n[15]!==f?(g=u.jsx(r("CometPlaceholder.react"),{fallback:_,name:"PostCommentInputPicker",children:f}),n[14]=_,n[15]=f,n[16]=g):g=n[16],g}l.default=d}),98);
__d("PolarisPostFeatures.react",["FBLogger","PolarisPostConstants","PolarisPostModalRenderingContext.react","PolarisPostVariants","PolarisReactRedux.react","PolarisRelationshipTypes","PolarisUA","polarisRelationshipSelectors.react","react-compiler-runtime","usePolarisDisplayProperties","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[{overrides:{threeLineHeaderEnabled:!0},predicate:"isThreeLineHeaderEnabled"},{overrides:{avatarSize:(e=o("PolarisPostConstants")).AVATAR_SIZE_SMALL,commentsAreStacked:!0},predicate:"isFeed"},{overrides:{avatarSize:e.AVATAR_SIZE_SMALL,commentsAreStacked:!0},predicate:"isWidePhotoOnMediumScreen"},{overrides:{avatarSize:e.AVATAR_SIZE_SMALL,hasThreadedSidebarComments:!0,showPostButton:!0},predicate:"isRichCommentsEnabled"},{overrides:{avatarSize:e.AVATAR_SIZE_SMALL,commentsAreStacked:!0,hasThreadedSidebarComments:!1,showPostButton:!0},predicate:"isStackedScreenSize"},{overrides:{hasPhotosOfYouOption:!0},predicate:"isViewerInUserTags"},{overrides:{showFollowButton:!1},predicate:"isFeedAndOwnerFollowedByViewer"},{overrides:{showFollowButton:!1},predicate:"isModalAndOwnerFollowedByViewer"},{overrides:{canViewerProvideFeedback:!1},predicate:"isOwnerPrivate"},{overrides:{canViewerProvideFeedback:!0},predicate:"isOwnerFollowedByViewer"},{overrides:{canViewerProvideFeedback:!0,showFollowButton:!1},predicate:"isOwnerTheViewer"},{overrides:{showFollowButton:!1},predicate:"isOwnerUnpublished"},{overrides:{showFollowButton:!1},predicate:"isBlocked"},{overrides:{showFollowButton:!1},predicate:"hasFollowHashtagInfo"},{overrides:{canViewerProvideFeedback:!1},predicate:"isLoggedOut"}],u={avatarSize:e.AVATAR_SIZE_LARGE,canViewerProvideFeedback:!0,commentsAreStacked:!1,hasPhotosOfYouOption:!1,hasThreadedSidebarComments:!1,showFollowButton:!0,showPostButton:!1,threeLineHeaderEnabled:!1};function c(e){var t,n=e.isInModal,r=e.owner,a=e.post,i=e.relationship,l=e.variant,s=e.viewer,u=e.viewportWidth,c=l===o("PolarisPostVariants").VARIANTS.feed,d=!!s,m=!s,p=(s==null?void 0:s.id)===r.id,_=i.followedByViewer.state===o("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING,f=!!a.followHashtagInfo,g=!!a.location&&(a.sponsors||[]).length>0;return{hasFollowHashtagInfo:f,isBlocked:i.hasBlockedViewer.state===o("PolarisRelationshipTypes").BLOCK_STATUS_BLOCKED,isFavorited:((t=i.favoritedByViewer)==null?void 0:t.state)===o("PolarisRelationshipTypes").FAVORITE_STATUS_FAVORITED,isFeed:c,isFeedAndOwnerFollowedByViewer:c&&_,isLoggedIn:d,isLoggedOut:m,isModalAndOwnerFollowedByViewer:n&&_,isOwnerFollowedByViewer:_,isOwnerPrivate:!!r.isPrivate,isOwnerTheViewer:p,isOwnerUnpublished:!!r.isUnpublished,isRichCommentsEnabled:!0,isSidecar:(a.sidecarChildren||[]).length>0,isStackedScreenSize:u<o("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF,isThreeLineHeaderEnabled:g,isViewerInUserTags:d&&(a.usertags||[]).some(function(e){return e.user.id===(s==null?void 0:s.id)}),isWidePhotoOnMediumScreen:!!(a.dimensions&&a.dimensions.width/a.dimensions.height>1.5&&u>o("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF&&u<=o("PolarisPostConstants").MEDIUM_SCREEN_MAX)}}function d(e){var t=c(e),n=t.isBlocked,o=t.isFavorited,a=t.isLoggedIn,i=t.isSidecar,l=t.isStackedScreenSize;return babelHelpers.extends({isBlocked:n,isFavorited:o,isLoggedIn:a,isSidecar:i,isStackedScreenSize:l},s.filter(function(e){var n=e.predicate,o=t[n];if(typeof o!="boolean")throw r("FBLogger")("instagram_web").mustfixThrow("Could not find predicate %s",n);return o}).reduce(function(e,t){var n=t.overrides;return babelHelpers.extends({},e,n)},u))}function m(e){var t=o("react-compiler-runtime").c(12),n=e.owner,a=e.path,i=e.post,l=e.variant,s;t[0]!==n.id?(s=function(t){return o("polarisRelationshipSelectors.react").getRelationship(t.relationships,n.id)},t[0]=n.id,t[1]=s):s=t[1];var u=o("PolarisReactRedux.react").useSelector(s),c=r("usePolarisViewer")(),m=r("usePolarisDisplayProperties")(),p=m.viewportHeight,_=m.viewportWidth,f=o("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext(),g=f.isInModal,h;if(t[2]!==g||t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==u||t[7]!==l||t[8]!==c||t[9]!==p||t[10]!==_){var y={isInModal:g,isMobile:o("PolarisUA").isMobile(),owner:n,path:a,post:i,relationship:u,variant:l,viewer:c,viewportHeight:p,viewportWidth:_};h=d(y),t[2]=g,t[3]=n,t[4]=a,t[5]=i,t[6]=u,t[7]=l,t[8]=c,t[9]=p,t[10]=_,t[11]=h}else h=t[11];return h}l.getPostFeatures=d,l.usePolarisPostFeatures=m}),98);
__d("PolarisInFeedPostModalContext",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s(r("emptyFunction"));l.InFeedPostModalContext=u}),98);
__d("PolarisPostFastShareButton.react",["CometPlaceholder.react","IGDContactSearchDialogType.flow","IGDSMessagesOutlineIcon.react","IGDSecureShareSheetDialogPlaceholder.react","JSResourceForInteraction","PolarisIGCoreSVGIconButton.react","PolarisIsLoggedIn","PolarisPostModalContext.react","PolarisPostStrings","PolarisPostTypeUtils","QPLUserFlow","lazyLoadComponent","polarisLogAction","qpl","react","react-compiler-runtime","useIGDSLazyDialog","useIGDSecureShareSheetInteractionLogger","useIGDShareSheetOnSubmitPost","usePolarisPost","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useMemo,m=u.useState,p=r("JSResourceForInteraction")("IGDSecureShareSheetDialog.react").__setRef("PolarisPostFastShareButton.react"),_=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostFastShareButton.react"));function f(e){var t=o("react-compiler-runtime").c(42),n=e.analyticsContext,a=e["data-testid"],l=e.mediaId,u=e.mediaOverlayInfo,c=e.postId,d=e.sharingFrictionInfo,f=o("usePolarisPost").usePost(c,h),y=o("PolarisPostModalContext.react").useSetPostModal(),C=r("useIGDSLazyDialog")(p,g),b=C[0],v=C[1],S=m(!1),R=S[0],L=S[1],E=(d==null?void 0:d.bloksAppUrl)!=null&&(d==null?void 0:d.shouldHaveSharingFriction)===!0,k=u!=null?u:f.mediaOverlayInfo,I;t[0]!==f||t[1]!==k?(I=babelHelpers.extends({},f,{mediaOverlayInfo:k}),t[0]=f,t[1]=k,t[2]=I):I=t[2];var T=I,D=r("useIGDShareSheetOnSubmitPost")(T),x=o("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction(),$;t[3]!==n||t[4]!==x||t[5]!==D||t[6]!==b||t[7]!==f||t[8]!==y||t[9]!==E||t[10]!==T?($=function(){if(r("polarisLogAction")("shareClick",{source:n,type:o("PolarisPostTypeUtils").getPostType(f)}),r("QPLUserFlow").start(r("qpl")._(379205139,"1723"),{annotations:{bool:{is_graphql:!1},string:{source:n}}}),!E){if(!o("PolarisIsLoggedIn").isLoggedIn())y("share");else{var e=r("uuidv4")();x("igd_sharesheet_open",{flowInstanceId:e,shareType:o("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:n}),b({flowInstanceId:e,onSubmit:D,post:T})}L(!0)}},t[3]=n,t[4]=x,t[5]=D,t[6]=b,t[7]=f,t[8]=y,t[9]=E,t[10]=T,t[11]=$):$=t[11];var P=$,N;t[12]!==n||t[13]!==x||t[14]!==D||t[15]!==b||t[16]!==T?(N=function(t){L(!1);var e=r("uuidv4")();x("igd_sharesheet_open",{flowInstanceId:e,shareType:o("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:n}),b({flowInstanceId:e,onSubmit:D,post:T})},t[12]=n,t[13]=x,t[14]=D,t[15]=b,t[16]=T,t[17]=N):N=t[17];var M=N,w;t[18]===Symbol.for("react.memo_cache_sentinel")?(w=function(t){L(!1)},t[18]=w):w=t[18];var A=w,F;t[19]!==n||t[20]!==l?(F={media_id:l,module:n},t[19]=n,t[20]=l,t[21]=F):F=t[21];var O=F,B;t[22]!==M?(B={"ig.action.navigation.OpenShareSheet":M,"ig.action.navigation.ResumeStoryPlayback":A},t[22]=M,t[23]=B):B=t[23];var W=B,q;t[24]!==W||t[25]!==O||t[26]!==l||t[27]!==E||t[28]!==(d==null?void 0:d.bloksAppUrl)||t[29]!==R?(q=function(){return E?R&&(d==null?void 0:d.bloksAppUrl)!=null&&s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(_,{actionOverrides:W,appId:d==null?void 0:d.bloksAppUrl,params:O},l)}):null},t[24]=W,t[25]=O,t[26]=l,t[27]=E,t[28]=d==null?void 0:d.bloksAppUrl,t[29]=R,t[30]=q):q=t[30];var U=q,V;t[31]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(r("IGDSMessagesOutlineIcon.react"),{alt:o("PolarisPostStrings").SHARE_TEXT,color:"ig-secondary-text",size:24}),t[31]=V):V=t[31];var H;t[32]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(r("IGDSMessagesOutlineIcon.react"),{alt:o("PolarisPostStrings").SHARE_TEXT,color:"ig-primary-text",size:24}),t[32]=H):H=t[32];var G;t[33]!==a||t[34]!==P||t[35]!==v?(G=s.jsx(r("PolarisIGCoreSVGIconButton.react"),{"data-testid":void 0,hover:V,onClick:P,ref:v,children:H}),t[33]=a,t[34]=P,t[35]=v,t[36]=G):G=t[36];var z;t[37]!==U?(z=U(),t[37]=U,t[38]=z):z=t[38];var j;return t[39]!==G||t[40]!==z?(j=s.jsxs(s.Fragment,{children:[G,z]}),t[39]=G,t[40]=z,t[41]=j):j=t[41],j}function g(e){return s.jsx(r("IGDSecureShareSheetDialogPlaceholder.react"),{onClose:e})}g.displayName=g.name+" [from "+i.id+"]";function h(e){return e}l.default=f}),98);
__d("PolarisSaveButton.react",["IGDSIconButton.react","IGDSSavePanoFilledIcon.react","IGDSSavePanoOutlineIcon.react","JSResourceForInteraction","PolarisIGCoreAnchoredPopover.react","PolarisIGCorePressable.react","PolarisPostStrings","PolarisReactRedux.react","PolarisSavedCollectionPicker.react","PolarisSavedPostsActionRequestNextSavedCollections","PolarisUA","nullthrows","polarisSavedPostsSelectors","react","react-compiler-runtime","useIGDSLazyDialog","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState,c=24,d=-16,m=5;function p(e){var t=o("react-compiler-runtime").c(40),n=e.analyticsContext,a=e.collectionsPostSavedTo,i=e["data-testid"],l=e.isSaved,p=e.onMouseEnter,f=e.onSaveMedia,g=e.onSaveMediaToCollection,h=e.onShowToast,y=e.postId,C=e.thumbnailSrcSet,b=o("PolarisReactRedux.react").useDispatch(),v=r("usePolarisViewer")(),S=!v,R;t[0]!==S||t[1]!==v?(R=function(t){if(S)return null;var e=r("nullthrows")(v);return o("polarisSavedPostsSelectors").getAllSavedCollectionsForUser(t,r("nullthrows")(e.id))},t[0]=S,t[1]=v,t[2]=R):R=t[2];var L=o("PolarisReactRedux.react").useSelector(R),E;t[3]!==S||t[4]!==v?(E=function(t){if(S)return null;var e=r("nullthrows")(v);return o("polarisSavedPostsSelectors").getSavedCollectionsPaginationForUser(t,r("nullthrows")(e.id))},t[3]=S,t[4]=v,t[5]=E):E=t[5];var k=o("PolarisReactRedux.react").useSelector(E),I;t[6]!==L||t[7]!==k?(I=function(){return L==null||k==null?!1:L.length>=m?!0:!k.moreAvailable&&L.length>1},t[6]=L,t[7]=k,t[8]=I):I=t[8];var T=I,D;t[9]!==S?(D=!S&&o("PolarisUA").isDesktop(),t[9]=S,t[10]=D):D=t[10];var x=D,$=T()&&x,P=function(t){t.preventDefault(),f(!l),!l&&$&&(h!=null&&h(),F(!0))},N=function(){if(p==null||p(),!S&&!T()&&!r("nullthrows")(k).isFetching){var e=r("nullthrows")(v);b(o("PolarisSavedPostsActionRequestNextSavedCollections").requestInitialSavedCollections(r("nullthrows")(e.id)))}F(!1)},M=u(!1),w=M[0],A=M[1],F=A,O;t[11]===Symbol.for("react.memo_cache_sentinel")?(O=r("JSResourceForInteraction")("PolarisCreateCollectionWithPostModal.react").__setRef("PolarisSaveButton.react"),t[11]=O):O=t[11];var B=r("useIGDSLazyDialog")(O),W=B[0],q;t[12]!==n||t[13]!==a||t[14]!==w||t[15]!==l||t[16]!==f||t[17]!==g||t[18]!==y||t[19]!==F||t[20]!==$||t[21]!==C||t[22]!==W?(q=$?s.jsx(r("PolarisSavedCollectionPicker.react"),{collectionsPostSavedTo:a,hidePopover:w,onSaveMedia:f,onSaveMediaToCollection:g,postId:y,postIsSaved:l,setHidePopover:F,setShowCreateCollectionModal:function(){return W({onSaveChange:f,postId:y,source:n,srcSet:C})}}):null,t[12]=n,t[13]=a,t[14]=w,t[15]=l,t[16]=f,t[17]=g,t[18]=y,t[19]=F,t[20]=$,t[21]=C,t[22]=W,t[23]=q):q=t[23];var U;t[24]!==x||t[25]!==l?(U=l||!x?null:s.jsx(r("IGDSSavePanoOutlineIcon.react"),{alt:o("PolarisPostStrings").SAVE_TEXT,color:"ig-secondary-text",size:c}),t[24]=x,t[25]=l,t[26]=U):U=t[26];var V;t[27]!==l?(V=l?s.jsx(r("IGDSSavePanoFilledIcon.react"),{alt:o("PolarisPostStrings").UNSAVE_TEXT,color:"ig-primary-text",size:c}):s.jsx(r("IGDSSavePanoOutlineIcon.react"),{alt:o("PolarisPostStrings").SAVE_TEXT,color:"ig-primary-text",size:c}),t[27]=l,t[28]=V):V=t[28];var H;t[29]!==i||t[30]!==P||t[31]!==U||t[32]!==V?(H=s.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,hover:U,onClick:P,padding:8,children:V}),t[29]=i,t[30]=P,t[31]=U,t[32]=V,t[33]=H):H=t[33];var G;t[34]!==N||t[35]!==H?(G=s.jsx(r("PolarisIGCorePressable.react"),{onMouseEnter:N,onPress:_,children:H}),t[34]=N,t[35]=H,t[36]=G):G=t[36];var z;return t[37]!==G||t[38]!==q?(z=s.jsx(r("PolarisIGCoreAnchoredPopover.react"),{content:q,offsetTop:d,preferredPositionX:"center",preferredPositionY:"top",showOnHover:!0,children:G}),t[37]=G,t[38]=q,t[39]=z):z=t[39],z}function _(){}l.default=p}),98);
__d("usePolarisMediaSaveToCollectionReduxHandler",["PolarisPostActionAddPostToCollection","PolarisPostActionRemovePostFromCollection","PolarisReactRedux.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(3),n=o("PolarisReactRedux.react").useDispatch(),r;return t[0]!==n||t[1]!==e?(r=function(r,a){n(r?o("PolarisPostActionRemovePostFromCollection").removePostFromCollection({collectionId:a,postId:e}):o("PolarisPostActionAddPostToCollection").addPostToCollection({collectionId:a,postIds:[e]}))},t[0]=n,t[1]=e,t[2]=r):r=t[2],r}l.default=u}),98);
__d("PolarisPostFeedbackControls_DEPRECATED.react",["IGRouter_DO_NOT_USE.react","PolarisCommentButton.react","PolarisFeedActionOpenPostModalForId","PolarisInFeedPostModalContext","PolarisInteractionsLogger","PolarisIsLoggedIn","PolarisLikeButton.react","PolarisPostFastShareButton.react","PolarisPostVariants","PolarisReactRedux.react","PolarisRepostButton.react","PolarisSaveButton.react","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","XPolarisMobileAllCommentsControllerRouteBuilder","logPolarisPostModalOpen","maybeGetViewerRepostId","polarisLogAction","polarisPostSelectors","qex","react","react-compiler-runtime","stylex","usePolarisMediaSaveToCollectionReduxHandler","usePolarisNavigateToLogin","usePolarisPostShowSavedToastHandler","usePolarisSelector"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext,p={repostButton:{display:"x1rg5ohu",$$css:!0},root:{display:"x78zum5",flexDirection:"x1q0g3np",marginTop:"x1gslohp",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(84),a=t.analyticsContext,i=t.canViewerProvideFeedback,l=t.canViewerRepost,s=t.canViewerReshare,c=t.code,d=t.commentsDisabled,_=t.containerRef,h=t.customAlignment,y=t.hideShareButton,C=t.isBlocked,b=t.isSidecar,v=t.isVideo,S=t.likedByViewer,R=t.mediaId,L=t.onCommentClick,E=t.onLikeChange,k=t.onSaveChange,I=t.ownerIsPrivate,T=t.ownerUsername,D=t.postId,x=t.savedByViewer,$=t.sharingFrictionInfo,P=t.variant,N=t.xstyle,M=t.history,w=o("PolarisReactRedux.react").useDispatch(),A;n[0]!==D?(A=function(t){return o("polarisPostSelectors").getPostById(t,D)},n[0]=D,n[1]=A):A=n[1];var F=r("usePolarisSelector")(A),O;n[2]!==D?(O=function(t){return o("polarisPostSelectors").getSavedCollectionsForPost(t,D)},n[2]=D,n[3]=O):O=n[3];var B=r("usePolarisSelector")(O),W;if(n[4]!==F.floating_context_items){var q,U=(q=F.floating_context_items)==null?void 0:q.map(g).filter(Boolean);W=r("maybeGetViewerRepostId")(U==null?void 0:U.map(f)),n[4]=F.floating_context_items,n[5]=W}else W=n[5];var V=W,H=r("usePolarisPostShowSavedToastHandler")(),G=m(o("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),z=G.canUserSeePersistentCta,j=m(o("PolarisInFeedPostModalContext").InFeedPostModalContext),K=r("usePolarisNavigateToLogin")(c,T),Q=K[0],X=K[1],Y;n[6]!==a||n[7]!==Q||n[8]!==E?(Y=function(t){o("PolarisIsLoggedIn").isLoggedIn()?E(t,"button"):(r("polarisLogAction")("likeAttempt",{source:a}),Q("like"))},n[6]=a,n[7]=Q,n[8]=E,n[9]=Y):Y=n[9];var J=Y,Z;n[10]!==a||n[11]!==Q||n[12]!==k?(Z=function(t){o("PolarisIsLoggedIn").isLoggedIn()?k(t):(r("polarisLogAction")("saveAttempt",{source:a}),Q("save"))},n[10]=a,n[11]=Q,n[12]=k,n[13]=Z):Z=n[13];var ee=Z,te;n[14]!==X?(te=function(){o("PolarisIsLoggedIn").isLoggedIn()||X()},n[14]=X,n[15]=te):te=n[15];var ne=te,re=r("usePolarisMediaSaveToCollectionReduxHandler")(D),oe;n[16]!==a||n[17]!==z||n[18]!==c||n[19]!==w||n[20]!==M||n[21]!==b||n[22]!==v||n[23]!==Q||n[24]!==L||n[25]!==j||n[26]!==D||n[27]!==P?(oe=function(){var e=o("PolarisUA").isMobile();if(r("polarisLogAction")("commentButtonClicked",{isLoggedIn:o("PolarisIsLoggedIn").isLoggedIn(),source:a,type:v?"video":"photo"}),o("PolarisIsLoggedIn").isLoggedIn())if(o("PolarisUA").isDesktop()&&P===o("PolarisPostVariants").VARIANTS.feed)w(o("PolarisFeedActionOpenPostModalForId").openPostModalForId(D)),j(D),r("logPolarisPostModalOpen")(a,o("PolarisInteractionsLogger").getMediaTypeFromPost({isSidecar:b,isVideo:v}),"feed_comment");else if(P===o("PolarisPostVariants").VARIANTS.feed||e){var t,n=r("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((t={},t[o("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=z||void 0,t.shortcode=c,t));M.push(n)}else L();else Q("comment")},n[16]=a,n[17]=z,n[18]=c,n[19]=w,n[20]=M,n[21]=b,n[22]=v,n[23]=Q,n[24]=L,n[25]=j,n[26]=D,n[27]=P,n[28]=oe):oe=n[28];var ae=oe,ie=!o("PolarisIsLoggedIn").isLoggedIn()||i;if(C||!ie)return null;var le;n[29]!==l?(le=l===!0&&r("qex")._("4562")===!0,n[29]=l,n[30]=le):le=n[30];var se=le,ue=I!==!0&&!!s,ce=h==="left",de;n[31]!==ce?(de={0:"x1rg5ohu x1qfufaz",1:"x1rg5ohu x1qfufaz x1xegmmw x9ek82g"}[!!ce<<0],n[31]=ce,n[32]=de):de=n[32];var me;n[33]!==J||n[34]!==ne||n[35]!==S||n[36]!==de?(me=u.jsx(r("PolarisLikeButton.react"),{className:de,"data-testid":void 0,isLiked:S,onChange:J,onMouseEnter:ne}),n[33]=J,n[34]=ne,n[35]=S,n[36]=de,n[37]=me):me=n[37];var pe;n[38]!==d||n[39]!==ae||n[40]!==ne||n[41]!==ce?(pe=!d&&u.jsx(r("PolarisCommentButton.react"),{className:{0:"x1rg5ohu",1:"x1rg5ohu x1xegmmw x182iqb8"}[!!ce<<0],"data-testid":void 0,onClick:ae,onHoverStart:ne}),n[38]=d,n[39]=ae,n[40]=ne,n[41]=ce,n[42]=pe):pe=n[42];var _e;n[43]!==D||n[44]!==se||n[45]!==V?(_e=se&&u.jsx(r("PolarisRepostButton.react"),{mediaId:D,viewerRepostId:V,xstyle:p.repostButton}),n[43]=D,n[44]=se,n[45]=V,n[46]=_e):_e=n[46];var fe;n[47]!==a||n[48]!==y||n[49]!==ce||n[50]!==R||n[51]!==D||n[52]!==ue||n[53]!==$?(fe=ue&&y!==!0&&u.jsx("span",babelHelpers.extends({},{0:{className:"x1rg5ohu"},1:{className:"x1rg5ohu x1xegmmw x14yy4lh"}}[!!ce<<0],{children:u.jsx(r("PolarisPostFastShareButton.react"),{analyticsContext:a,"data-testid":void 0,mediaId:R,mediaOverlayInfo:null,postId:D,sharingFrictionInfo:$})})),n[47]=a,n[48]=y,n[49]=ce,n[50]=R,n[51]=D,n[52]=ue,n[53]=$,n[54]=fe):fe=n[54];var ge;n[55]!==me||n[56]!==pe||n[57]!==_e||n[58]!==fe?(ge=u.jsxs(u.Fragment,{children:[me,pe,_e,fe]}),n[55]=me,n[56]=pe,n[57]=_e,n[58]=fe,n[59]=ge):ge=n[59];var he=ge,ye;n[60]!==N?(ye=(e||(e=r("stylex"))).props(p.root,N),n[60]=N,n[61]=ye):ye=n[61];var Ce;n[62]!==ce?(Ce={0:{className:"x972fbf x10w94by x1qhh985 x14e42zd x1rg5ohu xln7xf2 xk390pu xdj266r xat24cr x1ows92d xvc5jky xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},1:{className:"x972fbf x10w94by x1qhh985 x14e42zd x1rg5ohu xln7xf2 xk390pu xdj266r xat24cr xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf x1xegmmw x1lziwak xo1ph6p"}}[!!ce<<0],n[62]=ce,n[63]=Ce):Ce=n[63];var be;n[64]!==B?(be=B!=null?B:[],n[64]=B,n[65]=be):be=n[65];var ve;n[66]!==a||n[67]!==ee||n[68]!==ne||n[69]!==re||n[70]!==H||n[71]!==F.displayResources||n[72]!==D||n[73]!==x||n[74]!==be?(ve=u.jsx(r("PolarisSaveButton.react"),{analyticsContext:a,collectionsPostSavedTo:be,"data-testid":void 0,isSaved:x,onMouseEnter:ne,onSaveMedia:ee,onSaveMediaToCollection:re,onShowToast:H,postId:D,thumbnailSrcSet:F.displayResources}),n[66]=a,n[67]=ee,n[68]=ne,n[69]=re,n[70]=H,n[71]=F.displayResources,n[72]=D,n[73]=x,n[74]=be,n[75]=ve):ve=n[75];var Se;n[76]!==Ce||n[77]!==ve?(Se=u.jsx("span",babelHelpers.extends({},Ce,{children:ve})),n[76]=Ce,n[77]=ve,n[78]=Se):Se=n[78];var Re;return n[79]!==he||n[80]!==_||n[81]!==ye||n[82]!==Se?(Re=u.jsxs("section",babelHelpers.extends({},ye,{ref:_,children:[he,Se]})),n[79]=he,n[80]=_,n[81]=ye,n[82]=Se,n[83]=Re):Re=n[83],Re}function f(e){return{id:e.id,user_id:e.user_id}}function g(e){return e.media_note}var h=o("IGRouter_DO_NOT_USE.react").withIGRouter(_);l.default=h}),98);
__d("PolarisPostFooter.react",["IGDSBox.react","IGDSDivider.react","PolarisBoostMultiBoostUtils.react","PolarisBoostUtils","PolarisPostAboveFooterSection.react","PolarisPostBoostButton.react","PolarisPostViewInsights.react","nullthrows","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={marginTop0:{marginTop:"xdj266r",$$css:!0},marginTop16:{marginTop:"xw7yly9",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(29),n=e.analyticsContext,a=e.bloksAppId,i=e.boostedStatus,l=e.boostUnavailableIdentifier,c=e.boostUnavailableReason,d=e.className,m=e.hasViewInsights,p=e.mediaId,_=e.mediaOwnerIGID,f=e.productType,g=e.viewerId,h=o("PolarisBoostUtils").useIsEligibleForBoost(i!=null&&g!=null),y;t[0]!==l||t[1]!==i?(y=o("PolarisBoostMultiBoostUtils.react").isEligibleForMultiBoostWebWithinBoostFlow(i,l),t[0]=l,t[1]=i,t[2]=y):y=t[2];var C=y;if(!m&&!h)return null;var b=m?"between":"end",v=m?u.marginTop0:u.marginTop16,S;t[3]!==a||t[4]!==m||t[5]!==p?(S=m&&s.jsx(r("PolarisPostViewInsights.react"),{bloksAppId:a,mediaId:p}),t[3]=a,t[4]=m,t[5]=p,t[6]=S):S=t[6];var R;t[7]!==n||t[8]!==l||t[9]!==c||t[10]!==i||t[11]!==p||t[12]!==_||t[13]!==f||t[14]!==h?(R=h&&i!=null&&f!=="ad"&&s.jsx(r("PolarisPostBoostButton.react"),{analyticsContext:n,boostedStatus:i,boostUnavailableIdentifier:l,boostUnavailableReason:c,mediaId:p,mediaOwnerIGID:_,productType:r("nullthrows")(f)}),t[7]=n,t[8]=l,t[9]=c,t[10]=i,t[11]=p,t[12]=_,t[13]=f,t[14]=h,t[15]=R):R=t[15];var L;t[16]!==b||t[17]!==v||t[18]!==S||t[19]!==R?(L=s.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:b,paddingX:4,paddingY:3,position:"relative",xstyle:v,children:[S,R]}),t[16]=b,t[17]=v,t[18]=S,t[19]=R,t[20]=L):L=t[20];var E=L,k;t[21]!==n||t[22]!==i||t[23]!==C||t[24]!==E?(k=C?s.jsxs(r("IGDSBox.react"),{children:[s.jsx(r("PolarisPostAboveFooterSection.react"),{analyticsContext:n,boostedStatus:i}),s.jsx(r("IGDSBox.react"),{marginStart:4,width:"90%",children:s.jsx(r("IGDSDivider.react"),{})}),E]}):E,t[21]=n,t[22]=i,t[23]=C,t[24]=E,t[25]=k):k=t[25];var I;return t[26]!==d||t[27]!==k?(I=s.jsx("section",{className:d,children:k}),t[26]=d,t[27]=k,t[28]=I):I=t[28],I}l.default=c}),98);
__d("PolarisPostRemoveCommentsSelectors",["reselect"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.postRemoveComments}var s=o("reselect").createSelector(e,function(e){var t=e.isVisible;return t});l.getPostRemoveCommentsIsVisible=s}),98);
__d("PolarisThreadedComments.react",["cx","fbt","FBLogger","IGDSBox.react","IGDSDivider.react","PolarisBatchDOM","PolarisCommentCover.react","PolarisCommentThread.react","PolarisCommentsSectionText.react","PolarisCommentsSortContext.react","PolarisCommentsStrings","PolarisConfig","PolarisFacebookCommentCountSheet.react","PolarisInteractionsLogger","PolarisIsLoggedIn","PolarisLinkBuilder","PolarisNoCommentsPlaceholder.react","PolarisPaginationUtils","PolarisPendingCommentState","PolarisPostComment.react","PolarisPostCommentsContainerPlaceholder.react","PolarisPostVariants","PolarisReactRedux.react","PolarisSortCommentsUtil","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","PolarisThreadedCommentsLoadMoreButton.react","PolarisUA","PolarisWebStorage","cr:1342","isStringNullOrEmpty","nullthrows","polarisCommentReducer","polarisUserSelectors","qex","react","react-compiler-runtime","requestIdleCallback","useIGDSToaster"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d={commentsCover:{marginInlineStart:"x1diwwjn",$$css:!0}};function m(e,t){var n=t.getBoundingClientRect().top,r=n-t.scrollTop,o=e.getBoundingClientRect().top;return o-r}function p(e){var t=o("react-compiler-runtime").c(22),n=e.innerRef,a=e.isPermalinkedComment,i=e.onHidePermalinkReply,l=e.parentComment,s=e.parentProps,u=e.parentState,d=e.permalinkedReplyId,m=e.permalinkedReplyNodeRef,p=e.replyPagerNodeRef,_=s.analyticsContext,f=s.code,g=s.commentingDisabledForViewer,h=s.customIndentationPadding,y=s.handleDeleteCommentClick,C=s.hideUserAvatar,b=s.id,v=s.isDeletingComments,S=s.loggedIn,R=s.onLikeCountClick,L=s.ownerId,E=s.reducedAvatarMargin,k=s.showCommentOptionsInline,I=u.commentPermalinkAnimEnabled,T;return t[0]!==_||t[1]!==f||t[2]!==I||t[3]!==g||t[4]!==h||t[5]!==y||t[6]!==C||t[7]!==b||t[8]!==n||t[9]!==v||t[10]!==a||t[11]!==S||t[12]!==i||t[13]!==R||t[14]!==L||t[15]!==l||t[16]!==d||t[17]!==m||t[18]!==E||t[19]!==p||t[20]!==k?(T=c.jsx(r("PolarisCommentThread.react"),{analyticsContext:_,code:f,commentingDisabledForViewer:g,customIndentationPadding:h,hideUserAvatar:C,innerRef:n,isPermalinkedComment:a,loggedIn:S,onDeleteCommentClick:y,onHidePermalinkReply:i,onLikeCountClick:R,parentComment:l,permalinkedReplyAnimating:I,permalinkedReplyId:d,permalinkedReplyNodeRef:m,postId:b,postOwnerId:L,reducedAvatarMargin:E,replyPagerNodeRef:p,showCommentOptionsInline:k,showRemoveIcon:v}),t[0]=_,t[1]=f,t[2]=I,t[3]=g,t[4]=h,t[5]=y,t[6]=C,t[7]=b,t[8]=n,t[9]=v,t[10]=a,t[11]=S,t[12]=i,t[13]=R,t[14]=L,t[15]=l,t[16]=d,t[17]=m,t[18]=E,t[19]=p,t[20]=k,t[21]=T):T=t[21],T}var _=(function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,t.$2=c.createRef(),t.$3=c.createRef(),t.$4=c.createRef(),t.$5=[],t.state={commentPermalinkAnimEnabled:!1,commentsSortOrder:t.props.sortOrder,isAutoscrollingCommentPermalink:!1,replyPermalinkLastHideTime:null,showHiddenComments:!1},t.$13=function(e){var n=t.props,r=n.analyticsContext,a=n.code,i=n.hasRankedComments,l=n.id,s=n.loadMore,u=n.mediaType,c=n.ownerId;s(l,i,a),o("PolarisInteractionsLogger").logInteractionAction({containerModule:r,eventName:"instagram_child_comments_load_more",mediaAuthorId:c,mediaId:l,mediaType:u})},t.$14=function(){t.setState({showHiddenComments:!0})},t.$15=function(e){var n,a=(n=r("qex")._("4381"))!=null?n:!1;if(t.setState({commentsSortOrder:e}),a){var i,l=t.props.add,s=(i=o("PolarisConfig").getViewerId())!=null?i:"",c="last_comments_sort_"+s,d=r("PolarisWebStorage").getLocalStorage();if(d)try{var m={sortOrder:e};d.setItem(c,JSON.stringify(m))}catch(e){r("FBLogger")("ig_web").mustfix("Unable to set comments sort value")}if(e===o("PolarisSortCommentsUtil").CommentsOptionValues.RECENT&&l){var p=u._(/*BTDS*/"You'll see the most recent comments from people that you follow unless you change your preference."),_={message:p,target:"bottom"};l(_,{duration:5e3})}}},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var a=t.prototype;return a.$6=function(){return this.$2.current||null},a.$7=function(){return this.$3.current||null},a.$8=function(){return this.$4.current||null},a.$9=function(t,n,a,i){var e=this;this.setState({commentPermalinkAnimEnabled:!1,isAutoscrollingCommentPermalink:!0}),o("PolarisBatchDOM").measure(function(){var l,s=m(n,t);if(a){var u=m(a,t),c=a.getBoundingClientRect().height,d=t.getBoundingClientRect().height,p=Math.max(d-c,0);l=Math.max(s,u-p)}else l=s;o("PolarisBatchDOM").mutate(function(){t.scrollTop=l;var n=function(){e.setState({commentPermalinkAnimEnabled:!0,isAutoscrollingCommentPermalink:!1})};i?r("requestIdleCallback")(function(){n()}):n()})})},a.componentDidMount=function(){var e,t,n=this.$1;if(n){var a=this.$6();if(a)this.$9(n,a,this.$7(),!0);else if(!this.props.hasRankedComments){if(o("PolarisUA").isDesktop())return;n.scrollTop=n.scrollHeight}var i=(e=o("PolarisConfig").getViewerId())!=null?e:"",l="last_comments_sort_"+i,s=r("PolarisWebStorage").getLocalStorage(),u=(t=r("qex")._("4381"))!=null?t:!1;if(s&&u)try{var c=s.getItem(l);if(!r("isStringNullOrEmpty")(c)){var d=JSON.parse(c);d.sortOrder&&d.sortOrder!==this.state.commentsSortOrder&&(this.setState({commentsSortOrder:d.sortOrder}),this.props.requestComments(this.props.id,void 0,d.sortOrder))}}catch(e){r("FBLogger")("ig_web").mustfix("Unable to get comments sort value from localStorage")}}},a.componentDidUpdate=function(t,n,r){var e=this.$1;if(e){var o=this.$6();if(o){if(this.state.isAutoscrollingCommentPermalink)return;if(this.props.permalinkedCommentId!==t.permalinkedCommentId||this.props.permalinkedReplyId!==t.permalinkedReplyId||this.props.permalinkedComment!==t.permalinkedComment){this.$9(e,o,this.$7(),!1);return}}this.$10(t,n,r,e,o)}},a.$10=function(t,n,r,a,i){var e=this,l=t.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,s=r||{},u=s.newCommentCachedOffset,c=t.id===this.props.id&&t.permalinkedCommentId===this.props.permalinkedCommentId&&t.permalinkedReplyId===this.props.permalinkedReplyId&&n.replyPermalinkLastHideTime!==this.state.replyPermalinkLastHideTime,d=this.$8();l&&!t.commentWasReply&&this.$5[0]&&this.$5[0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),o("PolarisBatchDOM").measure(function(){var n=null;l&&!t.commentWasReply&&!e.props.hasRankedComments?n=a.scrollHeight:u!=null?n=a.scrollHeight-u:c&&i&&d&&(n=e.$11(a,i,d)),o("PolarisBatchDOM").mutate(function(){n!=null&&(a.scrollTop=n)})})},a.$11=function(t,n,r){var e=m(r,t),o=m(n,t),a=6,i=Math.max(e-a,o);return t.scrollTop>i?i:null},a.getSnapshotBeforeUpdate=function(t,n){var e=t.comments,r=this.props.comments,o=this.$1;return o&&t.id===this.props.id&&r.count()>e.count()&&!this.props.hasRankedComments?{newCommentCachedOffset:o.scrollHeight-o.scrollTop}:null},a.$12=function(){this.setState({replyPermalinkLastHideTime:new Date().valueOf()})},a.render=function(){var e=this,t=this.props,a=t.analyticsContext,i=t.captionAndTitle,l=t.captionCreatedAt,s=t.captionIsEdited,u=t.captionsDisabled,m=t.className,_=t.comments,f=t.commentsDisabled,g=t.commentsHasNextPage,h=t.communityNoteComponent,y=t.disableScroll,C=t.fbCommentCount,b=t.hasCoveredComments,v=t.hasRankedComments,S=t.hideUserAvatar,R=t.id,L=t.initialCommentsLoading,E=t.isFeedFeedbackAggregated,k=t.isOwnerVerified,I=t.loggedIn,T=t.mediaType,D=t.ownerId,x=t.permalinkedComment,$=t.permalinkedReplyId,P=t.postedAt,N=t.reducedAvatarMargin,M=t.requestComments,w=t.showCommentOptionsInline,A=t.showPagerBelowComments,F=f!==!0&&!!g,O=L&&_.size===0,B=C!=null&&C!==0&&T===2,W=C!=null&&C!==0&&E===!0,q=B||W;if((i==null||i==="")&&_.count()===0&&!F&&!O&&!q)return o("PolarisUA").isDesktop()?c.jsxs("div",{className:m,children:[h,c.jsx(r("PolarisNoCommentsPlaceholder.react"),{})]}):c.jsx("div",{className:m});var U=null,V=null,H=null;if(!O&&f!==!0){U=x?c.jsx("div",{className:"_a9z3"+(this.state.commentPermalinkAnimEnabled&&!$?" _a9yl":""),ref:this.$2,children:c.jsx(p,{isPermalinkedComment:!0,onHidePermalinkReply:function(){return e.$12()},parentComment:x,parentProps:this.props,parentState:this.state,permalinkedReplyId:$,permalinkedReplyNodeRef:this.$3,replyPagerNodeRef:this.$4})}):null;var G=function(){var t;return(t=e.props.comments.findIndex(function(e){return e.isAuthorVerified===!1}))!=null?t:-1};V=_.map(function(t,n){return x&&t.id===x.id||t.isCovered===!0?null:c.jsxs(r("IGDSBox.react"),{marginBottom:4,children:[c.jsx(p,{innerRef:function(r){return e.$5[n]=r},parentComment:t,parentProps:e.props,parentState:e.state},n),e.props.sortOrder===o("PolarisSortCommentsUtil").CommentsOptionValues.META_VERIFIED&&G()===n+1&&c.jsx(r("IGDSDivider.react"),{})]},n)}).filter(function(e){return!!e}),H=_.filter(function(e){return e.isCovered===!0}).map(function(t,n){return c.jsx(p,{innerRef:function(r){return e.$5[n]=r},parentComment:t,parentProps:e.props,parentState:e.state},n)})}var z=null;u!==!0&&(r("isStringNullOrEmpty")(i)?h!=null&&(z=c.jsxs(c.Fragment,{children:[h,c.jsx(r("IGDSDivider.react"),{})]})):z=c.jsxs(c.Fragment,{children:[c.jsx(r("PolarisPostComment.react"),{analyticsContext:a,captionCreatedAt:l,className:(o("PolarisUA").isMobile()?"_a9z4":"")+" _a9z5",commentOwnerId:D,communityNoteComponent:h,hideUserAvatar:!!S,isAuthorVerified:!!k,isCaption:!0,isEdited:!!s,isRestrictedPending:!1,loggedIn:I,mediaType:T,postedAt:r("nullthrows")(P),postId:R,postOwnerId:D,reducedAvatarMargin:N,showCommentOptionsInline:w,showRemoveIcon:!1,showRichComment:!0,text:i,variant:o("PolarisPostVariants").VARIANTS.flexible},"captionAndTitle"),h!=null&&c.jsx(r("IGDSDivider.react"),{})]}));var j=F&&this.renderLoadMoreCommentsLink(U!=null),K=v||A===!0,Q=function(t){return M(R,void 0,t)},X=o("PolarisSortCommentsUtil").showCommentsSortOptions(this.props.sortOrder,_.size),Y=function(){return _.some(function(e){return e.isAuthorVerified===!0})},J=this.props.sortOrder===o("PolarisSortCommentsUtil").CommentsOptionValues.META_VERIFIED&&!Y(),Z=c.jsx(r("IGDSBox.react"),{marginEnd:o("PolarisUA").isMobile()?4:0,marginStart:o("PolarisUA").isMobile()?4:0,children:c.jsx(r("IGDSDivider.react"),{})});return c.jsx(o("PolarisCommentsSortContext.react").PolarisCommentsSortContextProvider,{commentsSortOrder:this.state.commentsSortOrder,setCommentsSortOrder:this.$15,children:c.jsx("div",{className:m,children:c.jsxs("ul",{className:"_a9z6"+(y?" _a9z7":"")+(U!==null?" _a9z8":"")+(z===null?" _a9z9":"")+(!j||K?" _a9za":""),ref:function(n){return e.$1=n},children:[z,c.jsxs(r("IGDSBox.react"),{direction:"column",display:"flex",children:[X&&n("cr:1342")!=null&&c.jsx(r("IGDSBox.react"),{marginStart:12,marginTop:2,children:c.jsx(n("cr:1342"),{commentsCount:_.size,fetchComments:Q})}),U]}),O?c.jsx(r("PolarisPostCommentsContainerPlaceholder.react"),{}):null,!K&&j,c.jsxs(r("IGDSBox.react"),{children:[L?c.jsx(r("PolarisPostCommentsContainerPlaceholder.react"),{}):c.jsxs(r("IGDSBox.react"),{children:[J&&c.jsx(r("PolarisCommentsSectionText.react"),{commentsDivider:Z,marginStart:12,text:o("PolarisSortCommentsUtil").NO_META_VERIFIED_COMMENTS}),c.jsxs(r("IGDSBox.react"),{children:[!o("PolarisConfig").isLoggedOutFRXEligible()&&V,K&&j,!j&&b&&!this.state.showHiddenComments&&c.jsx(r("PolarisCommentCover.react"),{onClick:this.$14,postId:R,postOwnerId:D,xstyle:d.commentsCover}),this.state.showHiddenComments&&c.jsxs(c.Fragment,{children:[c.jsx(r("PolarisCommentsSectionText.react"),{commentsDivider:Z,marginStart:12,text:o("PolarisCommentsStrings").COVERED_COMMENTS}),H]})]})]}),q&&c.jsx(r("PolarisFacebookCommentCountSheet.react"),{fbCommentCount:C,isReels:T===2,marginStart:4})]})]})})})},a.renderLoadMoreCommentsLink=function(t){var e=this.props,n=e.code,a=e.commentsIsFetching,i=e.hasRankedComments,l=o("PolarisLinkBuilder").buildMediaCommentsLink(r("nullthrows")(n),o("PolarisUA").isMobile()),s,u;return i?(s=0,u=0):t?(s=2,u=2):(s=0,u=4),c.jsx("li",{children:c.jsx(r("PolarisThreadedCommentsLoadMoreButton.react"),{commentsIsFetching:a,handleLoadMoreCommentsClick:this.$13,marginBottom:u,marginTop:s,url:l})})},t})(c.PureComponent);function f(e,t){var n,r,a,i,l=t.id,s=t.ownerId,u=t.permalinkedCommentId,c=o("PolarisThreadedCommentSelectors").getThreadedCommentsLoading(e,l),d=o("PolarisThreadedCommentSelectors").selectVisibleParentCommentsForPostId(e,l),m=(n=e.threadedComments.parentByPostId[l])!=null?n:o("polarisCommentReducer").EMPTY_POST_COMMENTS_STATE,p=m.count,_=m.pagination,f=(r=e.pendingComments[l])!=null?r:o("PolarisPendingCommentState").EMPTY_PENDING_COMMENT,g=null;!c&&u!=null&&u!==""&&(g=e.comments.byId.get(u));var h=(a=(i=e.threadedComments.parentByPostId[l])==null?void 0:i.sortOrder)!=null?a:o("PolarisSortCommentsUtil").CommentsOptionValues.TOP;return{comments:d,commentSaveIsInFlight:f.committing,commentsHasNextPage:o("PolarisPaginationUtils").hasNextPage(_),commentsIsFetching:o("PolarisPaginationUtils").isFetching(_),commentsTotalCount:p!=null?p:0,commentWasReply:f.repliedToCommentId!=null,hasCoveredComments:d.some(function(e){return e.isCovered===!0}),initialCommentsLoading:c,isOwnerVerified:o("polarisUserSelectors").getUserByIdOrThrows(e,s).isVerified,permalinkedComment:g,sortOrder:h}}function g(e){return{loadMore:function(n,r,a){o("PolarisIsLoggedIn").isLoggedIn()&&e(o("PolarisThreadedCommentActions").requestNextParentCommentPageV2(n,r))},requestComments:function(n,r,a){e(o("PolarisThreadedCommentActions").requestInitialComments(n,r,a))}}}var h=o("PolarisReactRedux.react").connect(f,g)(_);function y(e){var t=o("react-compiler-runtime").c(3),n=r("useIGDSToaster")(),a=n.add,i;return t[0]!==a||t[1]!==e?(i=c.jsx(h,babelHelpers.extends({add:a},e)),t[0]=a,t[1]=e,t[2]=i):i=t[2],i}var C=y;l.default=C}),226);
__d("PolarisThreadedCommentsLoader.react",["CometErrorBoundary.react","CometPlaceholder.react","FBLogger","IGDSBox.react","IGDSSpinner.react","PolarisReactRedux.react","PolarisThreadedCommentActions","react","react-compiler-runtime","usePolarisGetQuerySetup"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.children,a=e.initialCommentsQuery,i=e.postId,l;return t[0]!==i?(l=o("PolarisThreadedCommentActions").setupPostComments(i),t[0]=i,t[1]=l):l=t[1],r("usePolarisGetQuerySetup")(a,l),n}function c(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.initialCommentsQuery,l=e.postId,c=o("PolarisReactRedux.react").useDispatch(),m;t[0]!==c||t[1]!==l?(m=function(t){c(o("PolarisThreadedCommentActions").initialCommentsError(l)),r("FBLogger")("ig_web").catching(t)},t[0]=c,t[1]=l,t[2]=m):m=t[2];var p=m,_;t[3]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(r("IGDSBox.react"),{direction:"row",justifyContent:"center",position:"relative",children:s.jsx(r("IGDSSpinner.react"),{})}),t[3]=_):_=t[3];var f;t[4]!==n||t[5]!==a||t[6]!==l?(f=s.jsx(r("CometPlaceholder.react"),{fallback:_,name:i.id,children:s.jsx(u,{initialCommentsQuery:a,postId:l,children:n})}),t[4]=n,t[5]=a,t[6]=l,t[7]=f):f=t[7];var g;return t[8]!==p||t[9]!==f?(g=s.jsx(r("CometErrorBoundary.react"),{fallback:d,onError:p,type:"warn",children:f}),t[8]=p,t[9]=f,t[10]=g):g=t[10],g}function d(){return null}l.default=c}),98);
__d("PolarisPostComments.react",["PolarisDeleteCommentModal.react","PolarisPostRemoveCommentsSelectors","PolarisPostVariants","PolarisReactRedux.react","PolarisThreadedComments.react","PolarisThreadedCommentsLoader.react","PolarisUA","nullthrows","polarisUserSelectors","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={commentToDeleteId:null,showDeleteCommentModal:!1},t.$1=function(e){t.setState({commentToDeleteId:e,showDeleteCommentModal:!0})},t.$2=function(){t.setState({commentToDeleteId:null,showDeleteCommentModal:!1})},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.$3=function(){return this.props.variant!==o("PolarisPostVariants").VARIANTS.feed&&!o("PolarisUA").isMobile()},n.render=function(){var e=this.props,t=e.analyticsContext,n=e.caption,o=e.captionCreatedAt,a=e.captionIsEdited,i=e.captionsDisabled,l=e.className,u=e.code,c=e.commentingDisabledForViewer,d=e.commentsDisabled,m=e.communityNoteComponent,p=e.customIndentationPadding,_=e.fbCommentCount,f=e.hasRankedComments,g=e.hideUserAvatar,h=e.id,y=e.initialCommentsQuery,C=e.isFeedFeedbackAggregated,b=e.mediaType,v=e.onLikeCountClick,S=e.ownerId,R=e.permalinkedCommentId,L=e.permalinkedReplyId,E=e.postedAt,k=e.reducedAvatarMargin,I=e.showCommentOptionsInline,T=e.showRemoveCommentIcons,D=e.viewerId,x=D!=null,$;return $=s.jsx(r("PolarisThreadedComments.react"),{analyticsContext:t,captionAndTitle:n,captionCreatedAt:o,captionIsEdited:a,captionsDisabled:i,className:l,code:u,commentingDisabledForViewer:c,commentsDisabled:d,communityNoteComponent:m,customIndentationPadding:p,fbCommentCount:_,handleDeleteCommentClick:this.$1,hasRankedComments:f,hideUserAvatar:!!g,id:h,isDeletingComments:T,isFeedFeedbackAggregated:C,loggedIn:x,mediaType:b,onLikeCountClick:v,ownerId:S,permalinkedCommentId:R,permalinkedReplyId:L,postedAt:E,reducedAvatarMargin:k,showCommentOptionsInline:I}),y!=null&&($=s.jsx(r("PolarisThreadedCommentsLoader.react"),{initialCommentsQuery:y,postId:h,children:$})),s.jsxs(s.Fragment,{children:[$,this.state.showDeleteCommentModal&&s.jsx(r("PolarisDeleteCommentModal.react"),{analyticsContext:t,commentId:r("nullthrows")(this.state.commentToDeleteId),onClose:this.$2,postId:h})]})},t})(s.PureComponent);u.defaultProps={variant:o("PolarisPostVariants").VARIANTS.flexible};function c(e){var t;return{showRemoveCommentIcons:o("PolarisPostRemoveCommentsSelectors").getPostRemoveCommentsIsVisible(e),viewerId:(t=o("polarisUserSelectors").getViewer__DEPRECATED(e))==null?void 0:t.id}}var d=o("PolarisReactRedux.react").connect(c)(u);l.default=d}),98);
__d("PolarisPostFastPreviewCaption.react",["IGDSBox.react","PolarisPostFastCommentPrimitive.react","PolarisPostFastCrawlerComment.react","PolarisUA","nullthrows","polarisCommentSelectors.react","react","react-compiler-runtime","usePolarisIsOnFeedPage","usePolarisPost"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.enableTruncation,a=e.inModal,i=e.postId,l=r("usePolarisIsOnFeedPage")(),u=l&&a!==!0&&o("PolarisUA").isDesktop(),g=o("usePolarisPost").usePostAndOwner(i,f),h=o("usePolarisPost").usePostAndOwner(i,_),y=o("usePolarisPost").usePostAndOwner(i,p),C=o("usePolarisPost").usePostAndOwner(i,m),b=o("usePolarisPost").usePost(i,d),v=o("usePolarisPost").usePost(i,c),S=o("polarisCommentSelectors.react").useCommentTranslation(v);if(b==null||b==="")return null;(S==null?void 0:S.showTranslatedText)===!0&&S.translatedText!=null&&(b=S.translatedText);var R=u?2:1,L;t[0]!==n||t[1]!==C||t[2]!==y||t[3]!==b||t[4]!==g||t[5]!==h?(L=n===!0?s.jsx(r("PolarisPostFastCrawlerComment.react"),{isAuthorUnpublished:C,isAuthorVerified:y,text:b,userId:g,username:h}):s.jsx(r("PolarisPostFastCommentPrimitive.react"),{isAuthorUnpublished:C,isAuthorVerified:y,isCaption:!0,text:b,userId:g,username:h}),t[0]=n,t[1]=C,t[2]=y,t[3]=b,t[4]=g,t[5]=h,t[6]=L):L=t[6];var E;return t[7]!==R||t[8]!==L?(E=s.jsx(r("IGDSBox.react"),{marginBottom:R,position:"relative",children:L}),t[7]=R,t[8]=L,t[9]=E):E=t[9],E}function c(e){return e.captionCommentId}function d(e){return e.caption}function m(e,t){return t.isUnpublished}function p(e,t){return t.isVerified}function _(e,t){return r("nullthrows")(t.username)}function f(e,t){return r("nullthrows")(t.id)}l.default=u}),98);
__d("PolarisPostFastCommentLikeButton.react",["PolarisCommentActions","PolarisConfig","PolarisInteractionsLogger","PolarisLikeButton.react","PolarisReactRedux.react","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisComment","usePolarisPost"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e,t){var n=o("react-compiler-runtime").c(8),a=o("usePolarisComment").useComment(e,d),i=o("usePolarisPost").usePost(t,o("PolarisInteractionsLogger").getMediaTypeFromPost),l=o("usePolarisPost").usePostAndOwner(t,c),s=r("usePolarisAnalyticsContext")(),u;if(n[0]===Symbol.for("react.memo_cache_sentinel")){var m;u=(m=o("PolarisConfig").getViewerId())!=null?m:"",n[0]=u}else u=n[0];var p;return n[1]!==s||n[2]!==a||n[3]!==e||n[4]!==t||n[5]!==l||n[6]!==i?(p={commentAuthorId:a,commentId:e,containerModule:s,mediaAuthorId:l,mediaId:t,mediaType:i,userId:u},n[1]=s,n[2]=a,n[3]=e,n[4]=t,n[5]=l,n[6]=i,n[7]=p):p=n[7],p}function c(e,t){return t.id}function d(e){return e.id}function m(e){var t=o("react-compiler-runtime").c(7),n=e.color,a=e.commentId,i=e.postId,l=o("PolarisReactRedux.react").useDispatch(),c=u(a,i),d=o("usePolarisComment").useComment(a,p),m;t[0]!==l||t[1]!==c?(m=function(t){l(t?o("PolarisCommentActions").likeComment(c):o("PolarisCommentActions").unlikeComment(c))},t[0]=l,t[1]=c,t[2]=m):m=t[2];var _=m,f;return t[3]!==n||t[4]!==d||t[5]!==_?(f=s.jsx(r("PolarisLikeButton.react"),{color:n,isLiked:d,onChange:_,padding:0,size:12}),t[3]=n,t[4]=d,t[5]=_,t[6]=f):f=t[6],f}function p(e){return e.likedByViewer}var _=s.memo(m);l.default=_}),98);
__d("PolarisPostFastPreviewComment.react",["PolarisPostFastCommentPrimitive.react","nullthrows","react","react-compiler-runtime","usePolarisComment"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,n=o("react-compiler-runtime").c(5),a=e.commentId,i=(t=o("usePolarisComment")).useCommentAndOwner(a,p),l=t.useCommentAndOwner(a,m),u=t.useComment(a,d),_=t.useComment(a,c),f;return n[0]!==_||n[1]!==u||n[2]!==i||n[3]!==l?(f=s.jsx(r("PolarisPostFastCommentPrimitive.react"),{isAuthorVerified:_,text:u,userId:i,username:l}),n[0]=_,n[1]=u,n[2]=i,n[3]=l,n[4]=f):f=n[4],f}function c(e){return e.isAuthorVerified}function d(e){return e.text}function m(e,t){return r("nullthrows")(t.username)}function p(e,t){return r("nullthrows")(t.id)}l.default=u}),98);
__d("PolarisPostFastViewAllComments.react",["fbt","IGDSText.react","PolarisBigNumber.react","PolarisConfig","PolarisFastLink.react","PolarisFeedActionOpenPostModalForId","PolarisInFeedPostModalContext","PolarisInteractionsLogger","PolarisIsLoggedIn","PolarisReactRedux.react","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","XPolarisMobileAllCommentsControllerRouteBuilder","logPolarisPostModalOpen","nullthrows","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisLoggedOutBlockingEntryPointDialog","usePolarisLoggedOutIntentEntryPointDialog","usePolarisPost"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useContext;function p(e){var t=o("react-compiler-runtime").c(26),n=e.postId,a=o("usePolarisPost").usePost(n,f),i=o("usePolarisPost").usePost(n,_),l=o("usePolarisPost").usePost(n,o("PolarisInteractionsLogger").getMediaTypeFromPost),c=m(o("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),d=c.canUserSeePersistentCta,p;t[0]!==d?(p=function(t){var e;return r("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((e={},e[o("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=d||void 0,e.shortcode=r("nullthrows")(t.code),e))},t[0]=d,t[1]=p):p=t[1];var g=o("usePolarisPost").usePost(n,p),h=o("PolarisReactRedux.react").useDispatch(),y=r("usePolarisAnalyticsContext")(),C=m(o("PolarisInFeedPostModalContext").InFeedPostModalContext),b;t[2]===Symbol.for("react.memo_cache_sentinel")?(b=!o("PolarisIsLoggedIn").isLoggedIn()&&o("PolarisUA").isMobile(),t[2]=b):b=t[2];var v=b,S;t[3]===Symbol.for("react.memo_cache_sentinel")?(S=v||o("PolarisIsLoggedIn").isLoggedIn()&&o("PolarisUA").isDesktop(),t[3]=S):S=t[3];var R=S,L=r("usePolarisLoggedOutBlockingEntryPointDialog")(),E=L[0],k=L[1],I=r("usePolarisLoggedOutIntentEntryPointDialog")(),T=I[0],D=I[1],x;t[4]!==k||t[5]!==D?(x=function(){o("PolarisUA").isDesktop()||o("PolarisConfig").isLoggedOutFRXEligible()?D==null||D(!0):k==null||k(!0)},t[4]=k,t[5]=D,t[6]=x):x=t[6];var $=x,P;t[7]!==y||t[8]!==h||t[9]!==C||t[10]!==E||t[11]!==T||t[12]!==i||t[13]!==n||t[14]!==l?(P=function(t,a){if(o("PolarisIsLoggedIn").isLoggedIn())o("PolarisInteractionsLogger").logInteractionAction({containerModule:y,eventName:"instagram_organic_comment_view_all",mediaAuthorId:i,mediaId:n,mediaType:l}),o("PolarisUA").isDesktop()&&(t.preventDefault(),h(o("PolarisFeedActionOpenPostModalForId").openPostModalForId(n)),r("logPolarisPostModalOpen")(y,l,"feed_view_all_comments"),C(n));else if(v){t.preventDefault();var e={contentReportingLink:n,nextUrl:a,source:"post_comment_view_all"};o("PolarisUA").isDesktop()||o("PolarisConfig").isLoggedOutFRXEligible()?T==null||T(e):E==null||E(e)}},t[7]=y,t[8]=h,t[9]=C,t[10]=E,t[11]=T,t[12]=i,t[13]=n,t[14]=l,t[15]=P):P=t[15];var N=P,M;t[16]!==N||t[17]!==g?(M=function(t){return N(t,g)},t[16]=N,t[17]=g,t[18]=M):M=t[18];var w;t[19]!==a?(w=u.jsx(r("IGDSText.react"),{color:"secondaryText",zeroMargin:!0,children:a===1?s._(/*BTDS*/"View 1 comment"):s._(/*BTDS*/"View all {count} comments",[s._param("count",u.jsx(r("PolarisBigNumber.react"),{value:a}))])}),t[19]=a,t[20]=w):w=t[20];var A;return t[21]!==$||t[22]!==M||t[23]!==w||t[24]!==g?(A=u.jsx(r("PolarisFastLink.react"),{"data-testid":void 0,href:g,onClick:M,onMouseEnter:$,shouldOpenModal:R,children:w}),t[21]=$,t[22]=M,t[23]=w,t[24]=g,t[25]=A):A=t[25],A}function _(e){var t;return r("nullthrows")((t=e.owner)==null?void 0:t.id)}function f(e){return e.numComments||0}l.default=p}),226);
__d("PolarisPostFastPreviewCommentsList.react",["IGDSBox.react","PolarisConfig","PolarisIsLoggedIn","PolarisPostFastCommentLikeButton.react","PolarisPostFastPreviewComment.react","PolarisPostFastViewAllComments.react","PolarisReactRedux.react","PolarisThreadedCommentSelectors","PolarisUA","isTruthy","polarisCommentSelectors.react","react","react-compiler-runtime","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePolarisPost"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=o("react-compiler-runtime").c(13),n=e.postId,a=e.previewCommentIds,i=r("usePolarisIsOnFeedPage")(),l=r("usePolarisIsOnAdsActivityPage")(),u;t[0]!==l||t[1]!==i?(u=(i||l)&&o("PolarisUA").isDesktop(),t[0]=l,t[1]=i,t[2]=u):u=t[2];var c=u,d=c;if(o("PolarisConfig").isLoggedOutFRXEligible())return null;if(a.length>0){var m=c?1:0,p;if(t[3]!==d||t[4]!==n||t[5]!==a){var _;t[7]!==d||t[8]!==n?(_=function(t){return s.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:1,position:"relative",children:[s.jsx(r("PolarisPostFastPreviewComment.react"),{commentId:t}),o("PolarisIsLoggedIn").isLoggedIn()&&s.jsx(r("IGDSBox.react"),{marginStart:d?2:0,position:"relative",children:s.jsx(r("PolarisPostFastCommentLikeButton.react"),{color:d?"ig-secondary-icon":void 0,commentId:t,postId:n})})]},t)},t[7]=d,t[8]=n,t[9]=_):_=t[9],p=a.map(_),t[3]=d,t[4]=n,t[5]=a,t[6]=p}else p=t[6];var f;return t[10]!==m||t[11]!==p?(f=s.jsx(r("IGDSBox.react"),{marginBottom:m,position:"relative",children:p}),t[10]=m,t[11]=p,t[12]=f):f=t[12],f}return null}function d(e){var t=o("react-compiler-runtime").c(26),n=e.inModal,a=e.postId,i=e.shouldIncreaseCommentPreviews,l=i===void 0?!1:i,u=r("usePolarisIsOnFeedPage")(),d;t[0]!==n||t[1]!==u?(d=u&&n!==!0&&o("PolarisUA").isDesktop(),t[0]=n,t[1]=u,t[2]=d):d=t[2];var f=d,g;t[3]!==l?(g=r("isTruthy")(l),t[3]=l,t[4]=g):g=t[4];var h=g,y=o("usePolarisPost").usePost(a,_),C;t[5]!==h||t[6]!==a?(C=function(t){return h?o("PolarisThreadedCommentSelectors").selectVisibleParentCommentsForPostId(t,a).toArray():o("polarisCommentSelectors.react").getPreviewCommentsForPostId(t,a)},t[5]=h,t[6]=a,t[7]=C):C=t[7];var b=o("PolarisReactRedux.react").useSelector(C),v;t[8]!==b?(v=b.map(p),t[8]=b,t[9]=v):v=t[9];var S=v,R=o("usePolarisPost").usePost(a,m),L=R>S.length;if(!y||R<=0)return null;var E;t[10]!==S.length||t[11]!==h?(E=!o("PolarisIsLoggedIn").isLoggedIn()&&S.length>0&&!h,t[10]=S.length,t[11]=h,t[12]=E):E=t[12];var k=E,I;t[13]!==L||t[14]!==f||t[15]!==a?(I=L&&s.jsx(r("IGDSBox.react"),{alignItems:"start",marginBottom:f?2:1,position:"relative",children:s.jsx(r("PolarisPostFastViewAllComments.react"),{postId:a})}),t[13]=L,t[14]=f,t[15]=a,t[16]=I):I=t[16];var T;t[17]!==S||t[18]!==k?(T=k?S.slice(-1):S,t[17]=S,t[18]=k,t[19]=T):T=t[19];var D;t[20]!==a||t[21]!==T?(D=s.jsx(c,{postId:a,previewCommentIds:T}),t[20]=a,t[21]=T,t[22]=D):D=t[22];var x;return t[23]!==I||t[24]!==D?(x=s.jsxs(s.Fragment,{children:[I,D]}),t[23]=I,t[24]=D,t[25]=x):x=t[25],x}function m(e){var t;return(t=e.numComments)!=null?t:0}function p(e){return e.id}function _(e){return!e.commentsDisabled}l.default=d}),98);
__d("PolarisPostPreviewCommentsPicker.react",["CometPlaceholder.react","IGDSBox.react","IGDSSpinner.react","PolarisPostCaptionTranslationPrompt.react","PolarisPostComments.react","PolarisPostFastPreviewCaption.react","PolarisPostFastPreviewCommentsList.react","PolarisPostVariants","PolarisUA","react","react-compiler-runtime","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","xigRequireInterop"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(34),a=r("usePolarisIsOnFeedPage")(),l=r("usePolarisIsOnAdsActivityPage")(),u;t[0]!==l||t[1]!==a?(u=(a||l)&&o("PolarisUA").isDesktop(),t[0]=l,t[1]=a,t[2]=u):u=t[2];var c=u,d=e.variant!==o("PolarisPostVariants").VARIANTS.feed&&!o("PolarisUA").isMobile(),m=e.communityNoteComponent;if(d){var p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(r("IGDSSpinner.react"),{position:"absolute"}),t[3]=p):p=t[3];var _;t[4]!==e.className?(_=s.jsx("div",{className:e.className,children:p}),t[4]=e.className,t[5]=_):_=t[5];var f;t[6]!==e?(f=s.jsx(r("PolarisPostComments.react"),babelHelpers.extends({},e)),t[6]=e,t[7]=f):f=t[7];var g;return t[8]!==_||t[9]!==f?(g=s.jsx(r("CometPlaceholder.react"),{fallback:_,name:i.id,children:f}),t[8]=_,t[9]=f,t[10]=g):g=t[10],g}var h;t[11]===Symbol.for("react.memo_cache_sentinel")?(h=r("xigRequireInterop")(n("PolarisPostFastPreviewCommentsList.react")),t[11]=h):h=t[11];var y=h.default,C;t[12]===Symbol.for("react.memo_cache_sentinel")?(C=r("xigRequireInterop")(n("PolarisPostFastPreviewCaption.react")),t[12]=C):C=t[12];var b=C.default,v;t[13]!==b||t[14]!==e.enableTruncation||t[15]!==e.id||t[16]!==e.inModal?(v=s.jsx(b,{enableTruncation:e.enableTruncation,inModal:e.inModal,postId:e.id}),t[13]=b,t[14]=e.enableTruncation,t[15]=e.id,t[16]=e.inModal,t[17]=v):v=t[17];var S;t[18]!==c||t[19]!==e.id?(S=c&&s.jsx(r("PolarisPostCaptionTranslationPrompt.react"),{inFeed:!0,marginBottom:2,postId:e.id}),t[18]=c,t[19]=e.id,t[20]=S):S=t[20];var R;t[21]!==y||t[22]!==e.id||t[23]!==e.inModal||t[24]!==e.shouldIncreaseCommentPreviews?(R=s.jsx(y,{inModal:e.inModal,postId:e.id,shouldIncreaseCommentPreviews:e.shouldIncreaseCommentPreviews}),t[21]=y,t[22]=e.id,t[23]=e.inModal,t[24]=e.shouldIncreaseCommentPreviews,t[25]=R):R=t[25];var L;t[26]!==m||t[27]!==v||t[28]!==S||t[29]!==R?(L=s.jsxs(r("IGDSBox.react"),{position:"relative",children:[v,S,m,R]}),t[26]=m,t[27]=v,t[28]=S,t[29]=R,t[30]=L):L=t[30];var E;return t[31]!==e.className||t[32]!==L?(E=s.jsx("div",{className:e.className,children:L}),t[31]=e.className,t[32]=L,t[33]=E):E=t[33],E}l.default=u}),98);
__d("PolarisPostLikers.react",["IGDSBox.react","IGDSText.react","IGRouter_DO_NOT_USE.react","PolarisFacepile.next.react","PolarisLikedByListActions","PolarisLikedByListButton.react","PolarisLikedByText.react","PolarisLinkBuilder","PolarisPostUtils","PolarisReactRedux.react","PolarisUA","polarisLogAction","react","react-compiler-runtime","usePolarisLoggedOutBlockingEntryPointDialog","usePolarisLoggedOutIntentEntryPointDialog","usePolarisLoggedOutShowIncreasedFeatureWalls"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.$2=function(){n.props.onLike()},n.$3=function(e){n.$1(),!n.props.viewer&&n.props.inModal!==!0?(e.preventDefault(),n.props.onGoToLoginModal(n.props.code)):o("PolarisUA").isDesktop()&&(e.preventDefault(),n.props.onViewLikedByList(n.props.mediaId),n.props.onLikeCountClick(e))},n.$4=function(){!n.props.viewer&&n.props.inModal!==!0&&n.props.onPreloadDialog()},n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.$1=function(){r("polarisLogAction")("likeCountClick")},n.render=function(){var e=o("PolarisPostUtils").getOrderedUsersForLikedByList(this.props.users,this.props.viewer).map(function(e){return e.profilePictureUrl}).filter(Boolean),t=s.jsx(r("PolarisFacepile.next.react"),{avatarSize:this.props.avatarSize,border:"transparent",userProfilePicUrls:e}),n=!!this.props.viewer;return s.jsxs(r("IGDSBox.react"),{direction:"row",flex:"grow",position:"relative",children:[e.length>0&&n===!0&&s.jsx(r("IGDSBox.react"),{alignItems:"start",direction:"column",justifyContent:"start",marginEnd:1,position:"relative",children:s.jsx(r("PolarisLikedByListButton.react"),{code:this.props.code,fbLikeCount:this.props.fbLikeCount,inModal:this.props.inModal,isFeedbackAggregated:this.props.isFeedbackAggregated,isFeedFeedbackAggregated:this.props.isFeedFeedbackAggregated,isSharedToFb:this.props.isSharedToFb,onClick:this.$3,onMouseEnter:this.$4,children:t})}),s.jsx(r("IGDSBox.react"),{alignItems:"start",direction:"column",flex:"grow",margin:"auto",position:"relative",wrap:!0,children:s.jsx(r("IGDSText.react"),{zeroMargin:!0,children:s.jsx(r("PolarisLikedByText.react"),{code:this.props.code,fbLikeCount:this.props.fbLikeCount,hideCounts:this.props.hideCounts,inModal:!!this.props.inModal,isFeedbackAggregated:this.props.isFeedbackAggregated,isSharedToFb:this.props.isSharedToFb,mediaId:this.props.mediaId,onClick:this.$3,onLike:this.$2,onMouseEnter:this.$4,topLikers:this.props.topLikers,totalCount:this.props.totalCount,users:this.props.users})})})]})},t})(s.Component);function d(e){return{onViewLikedByList:function(n){return e(o("PolarisLikedByListActions").requestNativeLikedByList(n))}}}function m(e){var t=o("react-compiler-runtime").c(12),n=r("usePolarisLoggedOutBlockingEntryPointDialog")(),a=n[0],i=n[1],l=r("usePolarisLoggedOutIntentEntryPointDialog")(),u=l[0],d=l[1],m=r("usePolarisLoggedOutShowIncreasedFeatureWalls")(),p;t[0]!==i||t[1]!==d||t[2]!==m?(p=function(){m()?d==null||d(!0):i==null||i(!0)},t[0]=i,t[1]=d,t[2]=m,t[3]=p):p=t[3];var _=p,f;t[4]!==a||t[5]!==u||t[6]!==m?(f=function(t){var e=o("PolarisLinkBuilder").buildMediaLink(t),n={contentReportingLink:e,nextUrl:e,source:"post_likers"};m()?u==null||u(n):a==null||a(n)},t[4]=a,t[5]=u,t[6]=m,t[7]=f):f=t[7];var g=f,h;return t[8]!==g||t[9]!==_||t[10]!==e?(h=s.jsx(c,babelHelpers.extends({},e,{onGoToLoginModal:g,onPreloadDialog:_})),t[8]=g,t[9]=_,t[10]=e,t[11]=h):h=t[11],h}var p=o("IGRouter_DO_NOT_USE.react").withIGRouter(o("PolarisReactRedux.react").connect(null,d)(m));l.default=p}),98);
__d("PolarisPostSocialProof.react",["PolarisPostLikers.react","PolarisPostVariants","PolarisPostViews.react","PolarisShouldHideLikeCountsWithControls","PolarisUA","nullthrows","polarisGetPostFromGraphMediaInterface","react","react-compiler-runtime","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(36),n=e.analyticsContext,a=e.canLike,i=e.className,l=e.code,u=e.containerRef,c=e.fbLikeCount,d=e.inModal,m=e.isFeedbackAggregated,p=e.isFeedFeedbackAggregated,_=e.isSharedToFb,f=e.likeAndViewCountsDisabled,g=e.likedByViewer,h=e.likers,y=e.mediaId,C=e.numPreviewLikes,b=e.onLikeChange,v=e.onLikeCountClick,S=e.productType,R=e.topLikers,L=e.variant,E=e.videoViews,k=e.viewer,I=e.viewerIsOwner,T=E!=null&&E>0,D=C!==0,x=r("usePolarisIsOnFeedPage")(),$=r("usePolarisIsOnAdsActivityPage")(),P;L===o("PolarisPostVariants").VARIANTS.feed?P=D||T:P=D||T||a;var N=k==null?void 0:k.hideLikeAndViewCounts,M;t[0]!==f||t[1]!==N||t[2]!==I?(M=o("PolarisShouldHideLikeCountsWithControls").shouldHideLikeCountsWithControls(N,f,I),t[0]=f,t[1]=N,t[2]=I,t[3]=M):M=t[3];var w=M,A;t[4]!==T||t[5]!==w||t[6]!==S?(A=T&&!w&&!o("polarisGetPostFromGraphMediaInterface").isClipsProductType(S),t[4]=T,t[5]=w,t[6]=S,t[7]=A):A=t[7];var F=A;if(!P)return null;var O;t[8]!==d||t[9]!==$||t[10]!==x?(O=(x||$)&&d!==!0&&o("PolarisUA").isDesktop(),t[8]=d,t[9]=$,t[10]=x,t[11]=O):O=t[11];var B=O,W;t[12]!==n||t[13]!==l||t[14]!==B||t[15]!==c||t[16]!==w||t[17]!==d||t[18]!==p||t[19]!==m||t[20]!==_||t[21]!==g||t[22]!==h||t[23]!==y||t[24]!==C||t[25]!==b||t[26]!==v||t[27]!==F||t[28]!==R||t[29]!==E||t[30]!==k?(W=F?s.jsx(r("PolarisPostViews.react"),{analyticsContext:n,likeCount:C,viewCount:r("nullthrows")(E)}):s.jsx(r("PolarisPostLikers.react"),{avatarSize:B?"micro":void 0,code:l,fbLikeCount:c,hideCounts:w,inModal:!!d,isFeedbackAggregated:m,isFeedFeedbackAggregated:p,isSharedToFb:_,likedByViewer:g,mediaId:y,onLike:function(){b(!0,"beTheFirstPrompt")},onLikeCountClick:v,topLikers:R,totalCount:C,users:h,viewer:k}),t[12]=n,t[13]=l,t[14]=B,t[15]=c,t[16]=w,t[17]=d,t[18]=p,t[19]=m,t[20]=_,t[21]=g,t[22]=h,t[23]=y,t[24]=C,t[25]=b,t[26]=v,t[27]=F,t[28]=R,t[29]=E,t[30]=k,t[31]=W):W=t[31];var q;return t[32]!==i||t[33]!==u||t[34]!==W?(q=s.jsx("section",{className:i,ref:u,children:W}),t[32]=i,t[33]=u,t[34]=W,t[35]=q):q=t[35],q}l.default=u}),98);
__d("PolarisPostDetailsSection.react",["IGDSBox.react","IGDSText.react","PolarisCommentLikedByListContainerLazy.react","PolarisFeedPageConstants","PolarisGenericStrings","PolarisHotKeys.react","PolarisIGTheme.react","PolarisInteractionsLogger","PolarisLikedByListContainerLazy.react","PolarisLikedByListVariant","PolarisMediaOverlayCommunityNote","PolarisMediaOverlayInfoTypes","PolarisPendingCommentState","PolarisPostCaptionTranslationPrompt.react","PolarisPostCommentInputPicker.react","PolarisPostConstants","PolarisPostFeatures.react","PolarisPostFeedbackControls_DEPRECATED.react","PolarisPostFooter.react","PolarisPostModalRenderingContext.react","PolarisPostPreviewCommentsPicker.react","PolarisPostSocialProof.react","PolarisPostTimestamp.react","PolarisPostVariants","PolarisReactRedux.react","PolarisUA","isStringNullOrEmpty","nullthrows","polarisAdsSelectors.react","polarisGetAppPlatform","react","react-compiler-runtime","stylex","usePolarisDisplayProperties","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useMemo,p=c.useRef,_=c.useState,f={commentInput:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},commentInputAsSidebar:{order:"x1hrcb2b",$$css:!0},commentInputHidden:{display:"x1s85apg",minHeight:"x1wxaq2x",$$css:!0},commentInputStatic:{paddingInlineEnd:"xv54qhq",$$css:!0},commentInputV2:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},commentInputV2WithRichComments:{paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",$$css:!0},comments:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",overflowX:"xw2csxc",overflowY:"x1odjw0f",position:"x1n2onr6",$$css:!0},commentsAsSidebar:{marginTop:"xdj266r",marginInlineEnd:"xule2z1",marginBottom:"xat24cr",marginInlineStart:"xwqyzqf",order:"x9ek82g",overflowX:"x6ikm8r",$$css:!0},commentsMarginBottom:{marginBottom:"x12nagc",$$css:!0},commentsMarginBottomDense:{marginBottom:"xat24cr",$$css:!0},commentsV2:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"x4ii5y1",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xpdmqnj",paddingBottom:"x18d9i69",paddingInlineStart:"x1g0dm76",$$css:!0},commentsWithRichComments:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"x4ii5y1",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xv54qhq",paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",$$css:!0},expandedSidebarContainerResponsive:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"xbiv7yw",$$css:!0},feedback:{marginTop:"x1gslohp",paddingBottom:"xwib8y2",paddingTop:"x1yrsyyn",$$css:!0},feedbackAsSidebar:{borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",order:"xo1ph6p",$$css:!0},feedbackV2:{paddingBottom:"x10b6aqq",paddingTop:"xexx8yu",$$css:!0},feedbackV2WithRichComments:{paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",$$css:!0},feedbackWithRichComments:{paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",$$css:!0},msite:{borderBottomColor:"xh05dso",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},responsiveViewInsights:{marginInlineStart:"x162z183",width:"x1j7kr1c",$$css:!0},roundedSidebarContainer:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},sectionWithNoPadding:{overflowX:"x1plvlek",overflowY:"xryxfnj",paddingInlineEnd:"xyri2b",paddingInlineStart:"x1c1uobl",$$css:!0},sidebarContainer:{display:"x78zum5",flexDirection:"xdt5ytf",pointerEvents:"x67bb7w",position:"x1n2onr6",$$css:!0},sidebarContainerAsSidebar:{backgroundColor:"xvbhtw8",height:"x5yr21d",width:"x4h1yfo",$$css:!0},sidebarContainerFeedRoot:{backgroundColor:"xvbhtw8",$$css:!0},sidebarContainerInModal:{backgroundColor:"xvbhtw8",height:"x5yr21d",$$css:!0},sidebarContainerV2:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},timestamp:{marginBottom:"x1yztbdb",$$css:!0},timestampAsSidebar:{order:"x1h3rv7z",$$css:!0},timestampDense:{marginBottom:"x1e56ztr",$$css:!0},timestampV2:{paddingInlineStart:"x1g0dm76",$$css:!0},timestampWithRichComments:{paddingInlineStart:"xf7dkkf",$$css:!0},viewInsights:{borderBottomStyle:"x1sy0etr",borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",order:"x14yy4lh",$$css:!0}};function g(t){var n,a,i,l,s=o("react-compiler-runtime").c(98),c=t.analyticsContext,m=t.bloksAppId,g=t.communityNoteComponent,C=t.currSidecarIndex,b=t.currSidecarItem,v=t.enableTruncation,S=t.handleLikeChange,R=t.handleSaveChange,L=t.hasDenserFeedRedesign,E=t.hasSidebarInRedesign,k=t.hasViewInsights,I=t.initialCommentsQuery,T=t.owner,D=t.permalinkedCommentId,x=t.permalinkedReplyId,$=t.post,P=t.postAuthorId,N=t.postAuthorUsername,M=t.postFeedbackControlsRef,w=t.postHeader,A=t.redesignWithoutSidebar,F=t.redesignWithSidebar,O=t.shouldIncreaseCommentPreviews,B=t.showDetailsAsSidebar,W=t.variant,q=t.viewer,U;if(s[0]!==T.followedByViewer||s[1]!==((n=$.mediaOverlayInfo)==null?void 0:n.overlay_type)){var V,H;U=((V=$.mediaOverlayInfo)==null||(V=V.overlay_type)==null?void 0:V.toUpperCase())==="EARLY_ACCESS"&&T.followedByViewer!==!0,s[0]=T.followedByViewer,s[1]=(H=$.mediaOverlayInfo)==null?void 0:H.overlay_type,s[2]=U}else U=s[2];var G=U,z;if(s[3]!==$.commentsDisabled||s[4]!==((a=$.mediaOverlayInfo)==null?void 0:a.overlay_type)||s[5]!==G){var j,K;z=$.commentsDisabled===!0||((j=$.mediaOverlayInfo)==null||(j=j.overlay_type)==null?void 0:j.toUpperCase())==="SECRET_LINK"||G,s[3]=$.commentsDisabled,s[4]=(K=$.mediaOverlayInfo)==null?void 0:K.overlay_type,s[5]=G,s[6]=z}else z=s[6];var Q=z,X;s[7]===Symbol.for("react.memo_cache_sentinel")?(X=o("PolarisUA").isDesktop(),s[7]=X):X=s[7];var Y=!X,J=_(null),Z=J[0],ee=J[1],te=_(!1),ne=te[0],re=te[1],oe=_(!1),ae=oe[0],ie=oe[1],le=r("usePolarisDisplayProperties")(),se=le.viewportWidth,ue=p(null),ce;s[8]!==Q||s[9]!==ae||s[10]!==$.commentingDisabledForViewer||s[11]!==se?(ce=function(){return!Q&&$.commentingDisabledForViewer!==!0&&(ae||se>=o("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF)},s[8]=Q,s[9]=ae,s[10]=$.commentingDisabledForViewer,s[11]=se,s[12]=ce):ce=s[12];var de=ce,me;s[13]!==$.id?(me=function(t){var e;return(e=t.pendingComments[$.id])!=null?e:o("PolarisPendingCommentState").EMPTY_PENDING_COMMENT},s[13]=$.id,s[14]=me):me=s[14];var pe=o("PolarisReactRedux.react").useSelector(me),_e=pe.committing,fe=r("usePrevious")(_e),ge=o("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext(),he=ge.isInModal,ye;s[15]===Symbol.for("react.memo_cache_sentinel")?(ye=function(){ie(!0),ue.current&&ue.current.focusAndScroll()},s[15]=ye):ye=s[15];var Ce=ye,be;s[16]===Symbol.for("react.memo_cache_sentinel")?(be=function(){re(!1)},s[16]=be):be=s[16];var ve=be,Se;s[17]===Symbol.for("react.memo_cache_sentinel")?(Se=function(t){re(!0)},s[17]=Se):Se=s[17];var Re=Se,Le;s[18]===Symbol.for("react.memo_cache_sentinel")?(Le=function(){ee(null)},s[18]=Le):Le=s[18];var Ee=Le,ke;s[19]===Symbol.for("react.memo_cache_sentinel")?(ke=function(t){ee(t)},s[19]=ke):ke=s[19];var Ie=ke,Te;s[20]!==$.commentsDisabled||s[21]!==q?(Te=q?{c:function(){$.commentsDisabled!==!0&&Ce()}}:{},s[20]=$.commentsDisabled,s[21]=q,s[22]=Te):Te=s[22];var De=Te,xe=r("usePrevious")($),$e,Pe;s[23]!==$||s[24]!==xe?($e=function(){xe!=null&&$!=null&&xe!==$&&(ee(null),re(!1))},Pe=[$,xe],s[23]=$,s[24]=xe,s[25]=$e,s[26]=Pe):($e=s[25],Pe=s[26]),d($e,Pe);var Ne,Me;s[27]!==_e||s[28]!==fe?(Ne=function(){fe===!0&&_e===!1&&ie(!1)},Me=[_e,fe],s[27]=_e,s[28]=fe,s[29]=Ne,s[30]=Me):(Ne=s[29],Me=s[30]),d(Ne,Me);var we;s[31]!==T||s[32]!==$||s[33]!==W?(we={owner:T,post:$,variant:W},s[31]=T,s[32]=$,s[33]=W,s[34]=we):we=s[34];var Ae=o("PolarisPostFeatures.react").usePolarisPostFeatures(we),Fe=Ae.canViewerProvideFeedback,Oe=Ae.commentsAreStacked,Be=Ae.hasThreadedSidebarComments,We=Ae.isBlocked,qe=Ae.isSidecar,Ue=Ae.isStackedScreenSize,Ve=Ae.showPostButton,He=o("polarisAdsSelectors.react").useFeedAdInfo($==null?void 0:$.id,y),Ge=r("usePolarisIsOnFeedPage")(),ze=r("usePolarisIsOnAdsActivityPage")(),je;s[35]!==he||s[36]!==ze||s[37]!==Ge?(je=(Ge||ze)&&he!==!0&&o("PolarisUA").isDesktop(),s[35]=he,s[36]=ze,s[37]=Ge,s[38]=je):je=s[38];var Ke=je,Qe=Ke,Xe=o("PolarisIGTheme.react").useTheme(),Ye;s[39]!==Xe?(Ye=Xe.getTheme(),s[39]=Xe,s[40]=Ye):Ye=s[40];var Je=Ye===o("PolarisIGTheme.react").IGTheme.Dark,Ze=g;(i=$.mediaOverlayInfo)==null||i.overlay_type,(l=$.mediaOverlayInfo)==null||l.buttons;var et;e:{var tt;if(G){et=null;break e}if(Ze!=null){et=Ze;break e}var nt;if(s[41]!==((tt=$.mediaOverlayInfo)==null?void 0:tt.buttons)){var rt,ot;nt=$==null||(rt=$.mediaOverlayInfo)==null||(rt=rt.buttons)==null?void 0:rt.find(h),s[41]=(ot=$.mediaOverlayInfo)==null?void 0:ot.buttons,s[42]=nt}else nt=s[42];var at=nt,it;s[43]!==at||s[44]!==$.id?(it=at!=null?u.jsx(r("PolarisMediaOverlayCommunityNote"),{communityNoteButtonsProp:at,entityID:$.id}):null,s[43]=at,s[44]=$.id,s[45]=it):it=s[45],et=it}var lt=et,st=F?"grow":"none",ut;s[46]!==He||s[47]!==c||s[48]!==m||s[49]!==Fe||s[50]!==Z||s[51]!==Oe||s[52]!==Q||s[53]!==lt||s[54]!==C||s[55]!==b||s[56]!==v||s[57]!==Qe||s[58]!==S||s[59]!==R||s[60]!==L||s[61]!==E||s[62]!==Be||s[63]!==k||s[64]!==I||s[65]!==We||s[66]!==Je||s[67]!==he||s[68]!==qe||s[69]!==Ue||s[70]!==T||s[71]!==D||s[72]!==x||s[73]!==$||s[74]!==P||s[75]!==N||s[76]!==M||s[77]!==w||s[78]!==F||s[79]!==A||s[80]!==O||s[81]!==de||s[82]!==G||s[83]!==B||s[84]!==ne||s[85]!==Ve||s[86]!==W||s[87]!==q?(ut=function(n,a,i){var t,l,s,d;return u.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(f.sidebarContainer,W===o("PolarisPostVariants").VARIANTS.feed&&f.sidebarContainerFeedRoot,B&&!he&&f.sidebarContainerAsSidebar,he&&f.sidebarContainerInModal,!he&&L&&f.sidebarContainerV2,A&&f.roundedSidebarContainer,F&&f.expandedSidebarContainerResponsive),{onKeyUp:n,role:a,tabIndex:i,children:[(he===!0?E:!Oe)?w:null,u.jsxs("div",babelHelpers.extends({},{0:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw xexx8yu xv54qhq x18d9i69 xf7dkkf x1n2onr6 xh8yej3"},8:{className:"x78zum5 xdt5ytf x1q2y9iw xexx8yu x18d9i69 x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x64bnmy x13jy36j"},4:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x13lttk3 x1t7ytsu xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl"},12:{className:"x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x13lttk3 x1t7ytsu xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl"},2:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw xexx8yu xv54qhq x18d9i69 xf7dkkf x1n2onr6 xh8yej3 x1ejq31n x18oe1m7 x1sy0etr xstzfhl"},10:{className:"x78zum5 xdt5ytf x1q2y9iw xexx8yu x18d9i69 x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x64bnmy x13jy36j x1ejq31n x18oe1m7 x1sy0etr xstzfhl"},6:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x13lttk3 xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl x1ejq31n x18oe1m7 x1sy0etr xstzfhl"},14:{className:"x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x13lttk3 xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl x1ejq31n x18oe1m7 x1sy0etr xstzfhl"},1:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw xexx8yu xv54qhq x18d9i69 xf7dkkf x1n2onr6 xh8yej3 x1b5io7h"},9:{className:"x78zum5 xdt5ytf x1q2y9iw xexx8yu x18d9i69 x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x64bnmy x13jy36j x1b5io7h"},5:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x13lttk3 x1t7ytsu xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl x1b5io7h"},13:{className:"x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x13lttk3 x1t7ytsu xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl x1b5io7h"},3:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw xexx8yu xv54qhq x18d9i69 xf7dkkf x1n2onr6 xh8yej3 x1ejq31n x18oe1m7 x1sy0etr xstzfhl x1b5io7h"},11:{className:"x78zum5 xdt5ytf x1q2y9iw xexx8yu x18d9i69 x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x64bnmy x13jy36j x1ejq31n x18oe1m7 x1sy0etr xstzfhl x1b5io7h"},7:{className:"x9f619 x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x13lttk3 xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl x1ejq31n x18oe1m7 x1sy0etr xstzfhl x1b5io7h"},15:{className:"x78zum5 xdt5ytf x1q2y9iw x1n2onr6 xh8yej3 x9f619 x1iyjqo2 x13lttk3 xpilrb4 xexx8yu xyri2b x18d9i69 x1c1uobl x1ejq31n x18oe1m7 x1sy0etr xstzfhl x1b5io7h"}}[!!B<<3|!!Be<<2|!!Qe<<1|!!Je<<0],{children:[u.jsx(r("PolarisPostFooter.react"),{analyticsContext:c,bloksAppId:m,boostedStatus:$.boostedStatus,boostUnavailableIdentifier:$.boostUnavailableIdentifier,boostUnavailableReason:$.boostUnavailableReason,className:e(o("PolarisUA").isMobile()?f.msite:f.viewInsights,!E&&f.responsiveViewInsights,Oe&&qe),hasViewInsights:k,mediaId:$.id,mediaOwnerIGID:P,productType:$.productType,viewerId:q==null?void 0:q.id}),u.jsx(r("PolarisPostFeedbackControls_DEPRECATED.react"),{analyticsContext:c,canViewerProvideFeedback:Fe,canViewerRepost:$.canViewerRepost,canViewerReshare:$.viewerCanReshare,code:r("nullthrows")($.code),commentsDisabled:Q,containerRef:M,currSidecarIndex:C,hideShareButton:$.igMediaSharingDisabled===!0,isBlocked:We,isSidecar:qe,isVideo:!!$.isVideo,likedByViewer:!!$.likedByViewer,mediaId:b!=null?b.id:$.id,numSteps:(t=$.sidecarChildren)==null?void 0:t.length,onCommentClick:Ce,onLikeChange:S,onSaveChange:R,ownerIsPrivate:T.isPrivate,ownerUsername:T.username,postId:$.id,savedByViewer:!!$.savedByViewer,sharingFrictionInfo:b!=null?b.sharingFrictionInfo:$.sharingFrictionInfo,variant:W,xstyle:[f.feedback,L&&f.feedbackV2,L&&Be&&f.feedbackV2WithRichComments,B&&f.feedbackAsSidebar,Be&&f.feedbackWithRichComments,Qe&&f.sectionWithNoPadding]}),$.code!=null&&u.jsx(r("PolarisPostSocialProof.react"),{analyticsContext:c,canLike:!We&&Fe,className:{0:"x1e56ztr",8:"x12nagc x182iqb8",4:"x1e56ztr xv54qhq xf7dkkf",12:"x12nagc x182iqb8 xv54qhq xf7dkkf",2:"x1e56ztr xpdmqnj x1g0dm76",10:"x12nagc x182iqb8 xpdmqnj x1g0dm76",6:"x1e56ztr xpdmqnj x1g0dm76",14:"x12nagc x182iqb8 xpdmqnj x1g0dm76",1:"x1e56ztr x1plvlek xryxfnj xyri2b x1c1uobl",9:"x12nagc x182iqb8 x1plvlek xryxfnj xyri2b x1c1uobl",5:"x1e56ztr x1plvlek xryxfnj xyri2b x1c1uobl",13:"x12nagc x182iqb8 x1plvlek xryxfnj xyri2b x1c1uobl",3:"x1e56ztr x1plvlek xryxfnj xyri2b x1c1uobl",11:"x12nagc x182iqb8 x1plvlek xryxfnj xyri2b x1c1uobl",7:"x1e56ztr x1plvlek xryxfnj xyri2b x1c1uobl",15:"x12nagc x182iqb8 x1plvlek xryxfnj xyri2b x1c1uobl"}[!!B<<3|!!Be<<2|!!(L&&Be)<<1|!!Qe<<0],code:r("nullthrows")($.code),fbLikeCount:$.fbLikeCount,inModal:he,isFeedbackAggregated:$.isFeedbackAggregated,isFeedFeedbackAggregated:$.isFeedFeedbackAggregated,isSharedToFb:$.isSharedToFb,likeAndViewCountsDisabled:$.likeAndViewCountsDisabled,likedByViewer:!!$.likedByViewer,likers:$.likers||[],mediaId:$.id,numPreviewLikes:$.numPreviewLikes||0,onLikeChange:S,onLikeCountClick:Re,productType:$.productType,topLikers:$.topLikers,variant:W,videoViews:$.videoViews,viewer:q,viewerIsOwner:P===(q==null?void 0:q.id)}),u.jsx(r("PolarisPostPreviewCommentsPicker.react"),{analyticsContext:c,caption:$.caption,captionCreatedAt:$.captionCreatedAt,captionHasTranslation:$.captionHasTranslation,captionId:$.captionCommentId,captionIsEdited:$.captionIsEdited,captionsDisabled:G,className:e(f.comments,!Y&&f.commentsMarginBottom,Y&&f.commentsMarginBottomDense,B&&f.commentsAsSidebar,Be&&f.commentsWithRichComments,L&&Be&&f.commentsV2,Qe&&f.sectionWithNoPadding),code:$.code,commentingDisabledForViewer:(l=$.commentingDisabledForViewer)!=null?l:!1,commentsDisabled:Q,commentsQuery:null,communityNoteComponent:lt,enableTruncation:v,fbCommentCount:$.fbCommentCount,hasRankedComments:$.hasRankedComments===!0,id:$.id,initialCommentsQuery:I,inModal:he,isFeedFeedbackAggregated:$.isFeedFeedbackAggregated,mediaType:o("PolarisInteractionsLogger").getMediaTypeFromPost($),onLikeCountClick:Ie,owner:T,ownerId:P,permalinkedCommentId:D,permalinkedReplyId:x,postedAt:r("nullthrows")($.postedAt),postId:$.id,shouldIncreaseCommentPreviews:O,showCommentOptionsInline:!0,title:$.title,variant:W}),!Qe&&u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(!Y&&f.timestamp,Y&&f.timestampDense,B&&f.timestampAsSidebar,Be&&f.timestampWithRichComments,L&&Be&&f.timestampV2),{children:$.isSponsored===!0?null:u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:[u.jsx(r("PolarisPostTimestamp.react"),{code:r("nullthrows")($.code),isVideo:$.isVideo,postedAt:r("nullthrows")($.postedAt),productType:(s=$.productType)!=null?s:"",username:T.username}),c===o("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT&&u.jsx(r("IGDSBox.react"),{marginStart:2,position:"relative",children:u.jsx(r("PolarisPostCaptionTranslationPrompt.react"),{inFeed:!0,postId:$.id})})]})})),(o("polarisGetAppPlatform").isIOS()||de())&&u.jsx(r("PolarisPostCommentInputPicker.react"),{adInfo:He,analyticsContext:c,canViewerProvideFeedback:Fe,hasPostButton:Ve,id:$.id,inModal:he,isRevampVersion:!1,isVideo:$.isVideo,ownerId:T.id,ref:ue,xstyle:[f.commentInput,B&&f.commentInputAsSidebar,L&&f.commentInputV2,L&&Be&&f.commentInputV2WithRichComments,!de()&&f.commentInputHidden,!Ue&&f.commentInputStatic]},$.id),!de()&&o("PolarisUA").isDesktop()&&$.commentsDisabled!==!0&&$.commentingDisabledForViewer===!0&&u.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x1xp8e9x x13fuv20 x178xt8z x78zum5 x1dnml7z xl56j7k x1gslohp x1hrcb2b"},2:{className:"x6s0dn4 x1xp8e9x x13fuv20 x178xt8z x78zum5 x1dnml7z xl56j7k x1hrcb2b xdj266r"},1:{className:"x6s0dn4 x1xp8e9x x178xt8z x78zum5 xl56j7k x1gslohp x1hrcb2b x1ejq31n x18oe1m7 x1sy0etr xstzfhl xxeg0ib"},3:{className:"x6s0dn4 x1xp8e9x x178xt8z x78zum5 xl56j7k x1hrcb2b xdj266r x1ejq31n x18oe1m7 x1sy0etr xstzfhl xxeg0ib"}}[!!L<<1|!!Qe<<0],{children:u.jsx(r("IGDSText.react"),{color:"tertiaryText",textAlign:"center",children:o("PolarisGenericStrings").COMMENTING_LIMITED})}))]})),ne&&u.jsx(r("PolarisLikedByListContainerLazy.react"),{display:r("PolarisLikedByListVariant").Modal,fbLikeCount:$.fbLikeCount,isFeedbackAggregated:$.isFeedbackAggregated,isFeedFeedbackAggregated:$.isFeedFeedbackAggregated,isOwnerTheViewer:(q==null?void 0:q.id)===P,isSharedToFb:$.isSharedToFb,likeAndViewCountsDisabled:$.likeAndViewCountsDisabled,likeCount:$.numLikes||0,mediaId:$.id,onClose:ve,ownerUsername:N,productType:(d=$.productType)!=null?d:"",shortcode:r("nullthrows")($.code),viewCount:$.videoViews}),!r("isStringNullOrEmpty")(Z)&&u.jsx(r("PolarisCommentLikedByListContainerLazy.react"),{commentId:Z,display:r("PolarisLikedByListVariant").Modal,onClose:Ee})]}))},s[46]=He,s[47]=c,s[48]=m,s[49]=Fe,s[50]=Z,s[51]=Oe,s[52]=Q,s[53]=lt,s[54]=C,s[55]=b,s[56]=v,s[57]=Qe,s[58]=S,s[59]=R,s[60]=L,s[61]=E,s[62]=Be,s[63]=k,s[64]=I,s[65]=We,s[66]=Je,s[67]=he,s[68]=qe,s[69]=Ue,s[70]=T,s[71]=D,s[72]=x,s[73]=$,s[74]=P,s[75]=N,s[76]=M,s[77]=w,s[78]=F,s[79]=A,s[80]=O,s[81]=de,s[82]=G,s[83]=B,s[84]=ne,s[85]=Ve,s[86]=W,s[87]=q,s[88]=ut):ut=s[88];var ct;s[89]!==De||s[90]!==ut?(ct=u.jsx(r("PolarisHotKeys.react"),{keyMap:De,children:ut}),s[89]=De,s[90]=ut,s[91]=ct):ct=s[91];var dt;s[92]!==st||s[93]!==ct?(dt=u.jsx(r("IGDSBox.react"),{flex:st,position:"relative",children:ct}),s[92]=st,s[93]=ct,s[94]=dt):dt=s[94];var mt=dt;if(F){var pt;s[95]===Symbol.for("react.memo_cache_sentinel")?(pt={className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 x5wqa0o xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak x65f84u x1vq45kp xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf"},s[95]=pt):pt=s[95];var _t;return s[96]!==mt?(_t=u.jsx("div",babelHelpers.extends({},pt,{children:mt})),s[96]=mt,s[97]=_t):_t=s[97],_t}return mt}function h(e){return(e==null?void 0:e.button_type)===o("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_TYPES.COMMUNITY_NOTE}function y(e){return e}l.default=g}),98);
__d("PolarisPostHeaderFavoritedIconButton.react",["IGDSBox.react","IGDSIconButton.react","IGDSStarPanoFilledGradientIcon.react","PolarisFavoritesStrings","PolarisPostModalContext.react","polarisLogAction","react","react-compiler-runtime","usePolarisAnalyticsContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.isFavorited,a=o("PolarisPostModalContext.react").useSetPostModal(),i=r("usePolarisAnalyticsContext")();if(n&&(i==="feedPage"||i==="postPage")){var l;t[0]!==a?(l=function(){r("polarisLogAction")("favoriteIconInPostHeaderClick"),a("favorites")},t[0]=a,t[1]=l):l=t[1];var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(r("IGDSBox.react"),{marginEnd:2,position:"relative",children:s.jsx(r("IGDSStarPanoFilledGradientIcon.react"),{alt:o("PolarisFavoritesStrings").FAVORITED_ICON_ALT,size:16})}),t[2]=u):u=t[2];var c;return t[3]!==l?(c=s.jsx(r("IGDSIconButton.react"),{onClick:l,children:u}),t[3]=l,t[4]=c):c=t[4],c}return null}l.default=u}),98);
__d("PolarisPostInvitedCoauthorsOverlayFooterCTA.react",["fbt","IGDSBox.react","IGDSTextVariants.react","PolarisConfig","PolarisInvitedCoauthorsCountWithSheet.react","PolarisUserHoverCard.react","PolarisUserLink.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(19),n=e.invitedCoauthorProducers,a=e.mediaId,i=e.user,l=o("PolarisConfig").getViewerIdOrZero(),c=n!=null;if(!c||(i==null?void 0:i.id)!==l||i==null||(i==null?void 0:i.username)==null)return null;var p;t[0]!==n?(p=n==null?void 0:n.map(m),t[0]=n,t[1]=p):p=t[1];var _=p,f;t[2]!==n?(f=n!=null?n:[],t[2]=n,t[3]=f):f=t[3];var g;t[4]!==f?(g=f.map(d),t[4]=f,t[5]=g):g=t[5];var h=g,y;t[6]!==_?(y=s._(/*BTDS*/"{invited_coauthor_username} was invited to be a collaborator but hasn't accepted yet.",[s._param("invited_coauthor_username",_!=null&&_[0])]),t[6]=_,t[7]=y):y=t[7];var C=y,b;t[8]!==_?(b=s._(/*BTDS*/"{invited_coauthor_username_1} and {invited_coauthor_username_2} were invited to be collaborators but haven't accepted yet.",[s._param("invited_coauthor_username_1",_!=null&&_[0]),s._param("invited_coauthor_username_2",_!=null&&_[1])]),t[8]=_,t[9]=b):b=t[9];var v=b,S;t[10]!==h||t[11]!==_||t[12]!==a?(S=s._(/*BTDS*/"{invited_coauthor_username_1} and {=m2} were invited to be collaborators but haven't accepted yet.",[s._param("invited_coauthor_username_1",_!=null&&_[0]),s._implicitParam("=m2",u.jsx(r("PolarisInvitedCoauthorsCountWithSheet.react"),{analyticsContext:"post_invited_coauthors_overlay_footer_cta",coauthors:h,mediaId:a,children:s._(/*BTDS*/"")}))]),t[10]=h,t[11]=_,t[12]=a,t[13]=S):S=t[13];var R=S,L;return t[14]!==n||t[15]!==C||t[16]!==R||t[17]!==v?(L=n!=null&&n.length>0&&r("gkx")("4757")?u.jsx(r("IGDSBox.react"),{alignItems:"center",color:"primaryBackground",direction:"row",justifyContent:"between",paddingX:3,paddingY:2,position:"relative",children:u.jsx(r("IGDSBox.react"),{flex:"shrink",marginEnd:5,marginStart:1,maxWidth:350,overflow:"auto",wrap:!0,children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"primaryText",maxLines:3,zeroMargin:!0,children:n.length===1?C:n.length===2?v:n.length>2?R:null})})}):null,t[14]=n,t[15]=C,t[16]=R,t[17]=v,t[18]=L):L=t[18],L}function d(e){var t,n,r,o;return{user:{fullName:(t=e.fullName)!=null?t:"",id:e.id,isVerified:(n=e.isVerified)!=null?n:!1,profilePictureUrl:(r=e.profilePictureUrl)!=null?r:"",username:(o=e.username)!=null?o:""}}}function m(e,t){var n,o,a;return u.jsx(r("PolarisUserHoverCard.react"),{display:"inline-block",isUserAvailable:!(e!=null&&e.isUnpublished),userId:(n=e==null?void 0:e.id)!=null?n:"",username:(o=e==null?void 0:e.username)!=null?o:"",children:u.jsx(r("PolarisUserLink.react"),{username:(a=e==null?void 0:e.username)!=null?a:""})},t)}m.displayName=m.name+" [from "+i.id+"]",l.default=c}),226);
__d("PolarisPostFastOptionsButton.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSMoreVerticalPanoOutline24Icon.react","InstagramAdActionMenuFalcoEvent","PolarisContainerModuleUtils","PolarisPostModalContext.react","PolarisViewpointActionUtils","identityFunction","polarisAdsSelectors.react","polarisLogAction","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisPost","usePolarisViewer"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"More Options");function d(e){var t=o("react-compiler-runtime").c(3),n=e.color,a=e.orientation,i=r(a==="horizontal"?"IGDSMoreHorizontalPanoOutlineIcon.react":"IGDSMoreVerticalPanoOutline24Icon.react"),l;return t[0]!==i||t[1]!==n?(l=u.jsx(r("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:u.jsx(i,{alt:c,color:n})}),t[0]=i,t[1]=n,t[2]=l):l=t[2],l}function m(e){var t=o("react-compiler-runtime").c(27),n=e.className,a=e.orientation,i=e.padding,l=e.postId,s=a===void 0?"horizontal":a,c=o("PolarisPostModalContext.react").useSetPostModal(),m=r("usePolarisAnalyticsContext")(),f;t[0]!==m?(f=o("PolarisContainerModuleUtils").getContainerModule(m),t[0]=m,t[1]=f):f=t[1];var g=f,h=o("usePolarisPost").usePost(l,r("identityFunction")),y=!!h.isVideo,C=r("usePolarisViewer")(),b=C==null?void 0:C.id,v=o("polarisAdsSelectors.react").useFeedAdInfo(l,_),S=o("polarisAdsSelectors.react").useFeedAdInfo(l,p),R;t[2]!==h?(R=o("PolarisViewpointActionUtils").getMPKForFeedMedia(h),t[2]=h,t[3]=R):R=t[3];var L=R,E;t[4]!==v||t[5]!==m||t[6]!==g||t[7]!==y||t[8]!==L||t[9]!==h.isSponsored||t[10]!==l||t[11]!==c||t[12]!==S||t[13]!==b?(E=function(){r("polarisLogAction")("postOptionsClick",{mediaId:l,source:m,type:y?"video":"photo"}),h.isSponsored===!0&&b!=null&&r("InstagramAdActionMenuFalcoEvent").log(function(){return{ad_id:v,m_pk:L,pigeon_reserved_keyword_module:g,pk:b,source_of_action:g,tracking_token:S}}),c("options")},t[4]=v,t[5]=m,t[6]=g,t[7]=y,t[8]=L,t[9]=h.isSponsored,t[10]=l,t[11]=c,t[12]=S,t[13]=b,t[14]=E):E=t[14];var k=E,I;t[15]!==s?(I=u.jsx(d,{color:"ig-secondary-text",orientation:s}),t[15]=s,t[16]=I):I=t[16];var T;t[17]!==s?(T=u.jsx(d,{color:"ig-primary-text",orientation:s}),t[17]=s,t[18]=T):T=t[18];var D;t[19]!==k||t[20]!==i||t[21]!==I||t[22]!==T?(D=u.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,hover:I,onClick:k,padding:i,children:T}),t[19]=k,t[20]=i,t[21]=I,t[22]=T,t[23]=D):D=t[23];var x;return t[24]!==n||t[25]!==D?(x=u.jsx("div",{className:n,children:D}),t[24]=n,t[25]=D,t[26]=x):x=t[26],x}function p(e){return e==null?void 0:e.tracking_token}function _(e){return e==null?void 0:e.ad_id}var f=u.memo(m);l.default=f}),226);
__d("PolarisPostOptionsButtonPicker.react",["PolarisPostFastOptionsButton.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.buttonClassName,a=e.mediaPK,i;t[0]!==a?(i=s.jsx(r("PolarisPostFastOptionsButton.react"),{postId:a}),t[0]=a,t[1]=i):i=t[1];var l;return t[2]!==n||t[3]!==i?(l=s.jsx("div",{className:n,children:i}),t[2]=n,t[3]=i,t[4]=l):l=t[4],l}l.default=u}),98);
__d("PolarisPostPageRouteReferrerContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({referrerTracePolicy:null});l.default=u}),98);
__d("PolarisSponsoredPostCTAFooter.react",["InstagramODS","PolarisClickEventLoggerProvider.react","PolarisPostFooterCTA.react","PolarisPostUtils","PolarisTrackingNodeProvider.react","polarisAdsSelectors.react","react","react-compiler-runtime","usePolarisSponsoredPostCTAFooterDominantColor"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,n=o("react-compiler-runtime").c(17),a=e.isMediaRendered,i=e.post,l=e.sidecarIndex,u=o("polarisAdsSelectors.react").useFeedAdInfo(i.id,d),m=i.isSidecar,p=m===!0?(t=o("PolarisPostUtils").getCurrentSidecarItemFromPost(i,l))==null?void 0:t.id:i.id,_;n[0]!==a||n[1]!==p||n[2]!==i?(_={isMediaRendered:a,mediaId:p,post:i},n[0]=a,n[1]=p,n[2]=i,n[3]=_):_=n[3];var f=r("usePolarisSponsoredPostCTAFooterDominantColor")(_),g=f.ctaDominantColor,h=f.ctaFooterViewpointRef;if(p==null)return null;var y;if(n[4]!==(u==null?void 0:u.ctaItems)||n[5]!==p){var C;y=u==null||(C=u.ctaItems)==null||(C=C.get(p))==null?void 0:C.ctaLinkUrl,n[4]=u==null?void 0:u.ctaItems,n[5]=p,n[6]=y}else y=n[6];var b=y,v;if(n[7]!==(u==null?void 0:u.ctaItems)||n[8]!==p){var S;v=u==null||(S=u.ctaItems)==null||(S=S.get(p))==null?void 0:S.ctaLinkText,n[7]=u==null?void 0:u.ctaItems,n[8]=p,n[9]=v}else v=n[9];var R=v,L=c;if(b!=null&&R!=null){var E;n[10]!==g||n[11]!==R||n[12]!==b?(E=function(t){return s.jsx("div",{ref:t,children:s.jsx(r("PolarisPostFooterCTA.react"),{ctaDominantColor:g,"data-testid":void 0,disableAnimation:!1,externalURL:b,forceBottomBorder:!0,isActive:!0,isForAd:!0,onClick:L,showChevron:!0,text:R})})},n[10]=g,n[11]=R,n[12]=b,n[13]=E):E=n[13];var k;return n[14]!==h||n[15]!==E?(k=s.jsx(r("PolarisClickEventLoggerProvider.react"),{children:s.jsx(r("PolarisTrackingNodeProvider.react"),{ref:h,trackingNode:86,children:E})}),n[14]=h,n[15]=E,n[16]=k):k=n[16],k}return null}function c(){r("InstagramODS").incr("web.ads.feed.link_click")}function d(e){return e}l.default=u}),98);
__d("PolarisUnsaveFromCollectionDialog.react",["fbt","IGCoreDialog.react","PolarisGenericStrings","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(16),n=e.onClose,r=e.onUnsaveFromAll,a=e.onUnsaveFromCollection,i;t[0]!==a?(i=a?s._(/*BTDS*/"You can remove it from this collection or remove it from everything you've saved."):s._(/*BTDS*/"Removing this from Saved will also remove it from collections."),t[0]=a,t[1]=i):i=t[1];var l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Remove from Saved and collections?"),t[2]=l):l=t[2];var c;t[3]!==a?(c=a&&u.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:s._(/*BTDS*/"Remove From Collection")}),t[3]=a,t[4]=c):c=t[4];var d;t[5]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Remove"),t[5]=d):d=t[5];var m;t[6]!==r?(m=u.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{color:o("PolarisUA").isDesktop()?"ig-error-or-destructive":"ig-primary-button",onClick:r,children:d}),t[6]=r,t[7]=m):m=t[7];var p;t[8]!==n?(p=u.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{onClick:n,children:o("PolarisGenericStrings").CANCEL_TEXT}),t[8]=n,t[9]=p):p=t[9];var _;return t[10]!==n||t[11]!==i||t[12]!==c||t[13]!==m||t[14]!==p?(_=u.jsxs(o("IGCoreDialog.react").IGCoreDialog,{body:i,onModalClose:n,title:l,children:[c,m,p]}),t[10]=n,t[11]=i,t[12]=c,t[13]=m,t[14]=p,t[15]=_):_=t[15],_}l.default=c}),226);
__d("PolarisPost.react",["cx","fbt","CometErrorBoundary.react","CometRouteURL","IGDSBox.react","PolarisContainerModuleUtils","PolarisHeroPageletLogger","PolarisHotKeys.react","PolarisIGCoreConstants","PolarisIGTheme.react","PolarisInsightsUtils","PolarisInteractionsLogger","PolarisMediaContainer.react","PolarisOrganicImpressionAction","PolarisPanavisionQEHelpers","PolarisPostActionLikePost","PolarisPostActionRemovePostFromCollection","PolarisPostActionSavePost","PolarisPostActionUnlikePost","PolarisPostActionUnsavePost","PolarisPostCoauthorReviewOverlayFooterCTA.react","PolarisPostConstants","PolarisPostDetailsSection.react","PolarisPostFeatures.react","PolarisPostHeader.react","PolarisPostHeaderFavoritedIconButton.react","PolarisPostInvitedCoauthorsOverlayFooterCTA.react","PolarisPostModalContext.react","PolarisPostModalRenderingContext.react","PolarisPostOptionsButtonPicker.react","PolarisPostOverlayInfoFooterCTA.react","PolarisPostPageRouteReferrerContext.react","PolarisPostSuggestedHeader.react","PolarisPostToast.react","PolarisPostToastProvider.react","PolarisPostUtils","PolarisPostVariants","PolarisReactRedux.react","PolarisSavedPostsActionEditCollection","PolarisSavedPostsTypes","PolarisSponsoredPostCTAFooter.react","PolarisTrackingNodeProvider.react","PolarisUA","PolarisUnsaveFromCollectionDialog.react","PolarisViewpointActionUtils","PolarisViewpointReact.react","PolarisVpvdImpressionAction","URI","hero-tracing","joinClasses","nullthrows","polarisAdsSelectors.react","polarisDeveloperSettings","polarisLogAction","polarisPostModalHelpers","polarisPostSelectors","polarisRelationshipSelectors.react","polarisUserSelectors","polarisWithPPRLogging","qex","react","react-compiler-runtime","useMergeRefs","usePolarisDisplayProperties","usePolarisIsOnFeedPage","usePolarisPostSetURLSidecarIndex","usePolarisShowFooterCTA","usePolarisViewer","usePrevious"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=c||(c=o("react")),m=c,p=m.useContext,_=m.useEffect,f=m.useRef,g=m.useState;function h(t){var n,a,i,l,s,c,m,h=t.adImpressionRefs,y=t.analyticsContext,C=t.autoplay,b=t.className,v=t.communityNoteComponent,S=v===void 0?null:v,R=t.enableTruncation,L=t.id,E=t.imageMediaActsAsCta,k=t.initialCarouselIndex,I=t.initialCommentsQuery,T=t.isSponsored,D=T===void 0?!1:T,x=t.isVisible,$=t.lightLetterbox,P=t.onMediaRendered,N=t.permalinkedCommentId,M=t.permalinkedReplyId,w=t.position,A=t.shortcode,F=t.shouldIncreaseCommentPreviews,O=t.testid,B=O===void 0?"post":O,W=t.variant,q=W===void 0?o("PolarisPostVariants").VARIANTS.flexible:W,U=t.viewpointActionsForSponsoredPost,V=t.visiblePosition,H=t.willScrollTo,G=o("PolarisReactRedux.react").useDispatch(),z=o("CometRouteURL").useRouteURL(),j=new(e||(e=r("URI")))(z).getPath(),K=o("PolarisReactRedux.react").useSelector(function(e){return o("polarisPostSelectors").getPostById(e,L)}),Q=r("nullthrows")(K.owner).id,X=(n=K.group)==null?void 0:n.id,Y=X!=null?X:Q,J=p(r("PolarisPostPageRouteReferrerContext.react")),Z=J.referrerTracePolicy,ee=K.invitedCoauthorProducers,te=o("PolarisReactRedux.react").useSelector(function(e){return o("polarisUserSelectors").getUserByIdOrThrows(e,Q)}),ne=o("PolarisReactRedux.react").useSelector(function(e){return o("polarisUserSelectors").getUserByIdOrThrows(e,Y)}),re=o("PolarisReactRedux.react").useSelector(function(e){return o("polarisRelationshipSelectors.react").getRelationship(e.relationships,Y)}),oe=r("usePolarisViewer")(),ae=!!(oe!=null&&oe.canSeeOrganicInsights),ie=!!K.canSeeInsightsAsBrand,le=o("polarisAdsSelectors.react").useFeedAdInfo(K==null?void 0:K.id,function(e){return e}),se=r("usePolarisDisplayProperties")(),ue=se.viewportHeight,ce=se.viewportWidth,de=o("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext(),me=de.isInModal,pe=(a=k!=null?k:o("PolarisPostUtils").getInitialSidecarIndexFromPost(K))!=null?a:0;K.isSidecar===!0&&(pe<0||K.sidecarChildren!=null&&pe>=K.sidecarChildren.length)&&(pe=0);var _e=g(pe),fe=_e[0],ge=_e[1],he=g({}),ye=he[0],Ce=he[1],be=g(!1),ve=be[0],Se=be[1],Re=g({}),Le=Re[0],Ee=Re[1],ke=g(!1),Ie=ke[0],Te=ke[1],De=g(!1),xe=De[0],$e=De[1],Pe=g(null),Ne=Pe[0],Me=Pe[1],we=f(null),Ae=r("usePolarisPostSetURLSidecarIndex")();_(function(){H==="top"&&window.setTimeout(function(){window.scrollTo(0,0)})},[H]);var Fe=r("usePrevious")(K);_(function(){Fe!=null&&K.id!==Fe.id&&(Ce({}),Ee({}))},[K,Fe]),_(function(){A!=null&&K.isSidecar===!0&&Ae(fe+1)},[fe,K.isSidecar,Ae,A]);var Oe=function(t){Se(!0),P!=null&&P(K.id,t)},Be=function(t){ge(t)},We=function(t,n){var e,r={containerModule:o("PolarisContainerModuleUtils").getContainerModule(y),inventorySource:K.inventorySource,mediaAuthorId:(e=K.owner)==null?void 0:e.id,mediaId:K.id,rankingInfoToken:K.loggingInfoToken,source:y,sourceOfLike:n,trackingToken:K.trackingToken},a=null;(le==null?void 0:le.ad_id)!=null&&(le==null?void 0:le.tracking_token)!=null&&kt!=null&&(a={adId:le==null?void 0:le.ad_id,adTrackingToken:le==null?void 0:le.tracking_token,viewerId:kt}),t?K.likedByViewer!==!0&&G(o("PolarisPostActionLikePost").likePost(K.id,r,a)):G(o("PolarisPostActionUnlikePost").unlikePost(K.id,r,a))},qe=function(){We(!0,"double_tap_media")},Ue=function(t){var e={source:y},n=null;if((le==null?void 0:le.ad_id)!=null&&(le==null?void 0:le.tracking_token)!=null&&kt!=null){var a;n={adId:le==null?void 0:le.ad_id,adTrackingToken:le==null?void 0:le.tracking_token,analyticsContext:y,followStatus:o("PolarisViewpointActionUtils").getFollowStatus(re),mediaPk:o("PolarisViewpointActionUtils").getMPKForFeedMedia(K),mediaType:o("PolarisInteractionsLogger").getMediaTypeFromPost(K),ownerId:(a=K.owner)==null?void 0:a.id,viewerId:kt}}t?K.savedByViewer!==!0&&G(o("PolarisPostActionSavePost").savePost(K.id,e,n)):K.savedByViewer===!0&&(K.savedByViewerToCollection===!0?(r("polarisLogAction")("removeSavedItemFromCollectionDialogShown"),Te(!0)):G(o("PolarisPostActionUnsavePost").unsavePost(K.id,e,n)))},Ve=function(){r("polarisLogAction")("removeSavedItemFromCollectionDialogCancelled"),Te(!1)},He=function(){Te(!1),G(o("PolarisPostActionUnsavePost").unsavePost(K.id,{source:y})),r("polarisLogAction")("removeSavedItemFromCollectionDialogAccepted")},Ge=function(){var e={source:y};Te(!1);var t=o("polarisPostModalHelpers").getCollectionIdFromPath(j);t!=null&&oe!=null&&(G(o("PolarisPostActionRemovePostFromCollection").removePostFromCollection({collectionId:t,postId:K.id})),G(o("PolarisSavedPostsActionEditCollection").editCollection({collectionId:t,postIdsToRemove:[K.id],source:e.source,userId:r("nullthrows")(oe==null?void 0:oe.id)})))},ze=function(t){Ke(t)&&Xe(t.id)},je=function(t){Ye(t)},Ke=function(t){return ye[t.id]===!0},Qe=function(t){return Le[t]===!0},Xe=function(t){var e=babelHelpers.extends({},ye);e[t]=!0,Ce(e)},Ye=function(t){var e=babelHelpers.extends({},Le);e[t]=!0,Ee(e)},Je=function(t){$e(!0),Me(t)},Ze=function(){$e(!1)},et=o("PolarisPostFeatures.react").usePolarisPostFeatures({owner:ne,path:j,post:K,variant:q}),tt=et.commentsAreStacked,nt=et.hasPhotosOfYouOption,rt=et.hasThreadedSidebarComments,ot=et.isFavorited,at=et.isSidecar,it=et.isStackedScreenSize,lt=et.showFollowButton,st=o("polarisPostModalHelpers").getCollectionIdFromPath(j),ut=st!=null&&st!==o("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION,ct=!!lt&&(!K.coauthorProducers||K.coauthorProducers.length===0)&&!D,dt=ce>=o("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF,mt=dt&&me===!0,pt=!dt&&me===!0,_t=me===!0?dt:!tt,ft=r("usePolarisIsOnFeedPage")(),gt=y==="adsActivityFeed",ht=r("qex")._("34")===!0,yt=(ft||gt)&&me!==!0&&o("PolarisUA").isDesktop(),Ct=(ft||gt)&&me!==!0&&o("PolarisUA").isDesktop(),bt=o("PolarisPostUtils").getCurrentSidecarItemFromPost(K,fe),vt=o("PolarisIGTheme.react").useTheme().getTheme()===o("PolarisIGTheme.react").IGTheme.Dark,St=d.jsxs("div",{className:"_aasi"+(yt?" _aasj":"")+(pt?" _aask":"")+(Ct?" _ai9a":"")+(vt?" _at8n":""),children:[K.inventorySource==="mixed_unconnected"&&ft&&!me&&!ht&&d.jsx(r("PolarisPostSuggestedHeader.react"),{postId:K.id,rankingInfoToken:K.loggingInfoToken,title:(i=K.explore)==null?void 0:i.title}),d.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",position:"relative",children:[d.jsx(r("PolarisPostHeader.react"),{adTitle:le==null?void 0:le.ad_title,analyticsContext:y,clipsAttributionInfo:K.clipsAttributionInfo,clipsAudioAttributionInfo:K.clipsMusicAttributionInfo,coauthorProducers:K.coauthorProducers,displayFBPageName:le==null?void 0:le.display_fb_page_name,followHashtagInfo:K.followHashtagInfo,headerAvatarSize:r("PolarisIGCoreConstants").AVATAR_SIZES.small,inModal:me,isAffiliate:K.isAffiliate===!0,isPaidPartnership:K.isPaidPartnership===!0,isSharedFromEdits:K.isSharedFromBasel===!0,isSharedToCloseFriends:K.audience==="MediaAudience.BESTIES",isSponsored:K.isSponsored===!0,location:K.location,mediaAttributionsData:K.mediaAttributionData,mediaId:K.id,mediaProductType:K.productType,onDisabledClipsAudioAttributionClick:Je,originalMedia:(l=K.clipsMetadata)==null||(l=l.originality_info)==null?void 0:l.original_media,owner:ne,postedAt:K.postedAt,shouldEllipsisText:!0,shouldShowFollowButton:ct,showVerifiedBadge:!0,sidebarVariantOptionsButton:rt,sponsoredLabel:le==null?void 0:le.label,sponsors:K.sponsors,suggestionText:K.inventorySource==="mixed_unconnected"&&ft&&!me&&ht?(s=(c=K.explore)==null?void 0:c.title)!=null?s:u._(/*BTDS*/"Suggested for you"):null,transparencyLabelOwner:K.owner,wearablesAttributionInfo:K.wearableAttributionInfo},K.id),d.jsx(r("PolarisPostHeaderFavoritedIconButton.react"),{isFavorited:ot}),d.jsx(r("PolarisPostOptionsButtonPicker.react"),{buttonClassName:"_aasm"+(yt||o("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()?" _aasn":"")+(Ct?" _agh1":""),mediaPK:K.id})]})]}),Rt=o("PolarisInsightsUtils").getViewInsightsInfo(oe,Q,K,ie,ae),Lt=Rt.bloksAppId,Et=Rt.hasViewInsights,kt=oe==null?void 0:oe.id,It=D&&U!=null?U:[o("PolarisOrganicImpressionAction").makePostImpressionAction(K,y,Z,w),o("PolarisVpvdImpressionAction").makePostVpvdImpressionAction(K,y)],Tt=o("PolarisViewpointReact.react").useViewpoint({action:It,id:"viewpoint"+K.id}),Dt=[Tt].concat(h!=null?h:[]),xt=r("useMergeRefs").apply(void 0,Dt),$t=oe?{l:function(){We(!K.likedByViewer,"button")},s:function(){Ue(!K.savedByViewer)}}:{},Pt=r("usePolarisShowFooterCTA")(K,fe,ye,D),Nt=null;D?Nt=d.jsx(r("PolarisSponsoredPostCTAFooter.react"),{isMediaRendered:ve,post:K,sidecarIndex:fe}):Pt||!me?Nt=d.jsx(o("PolarisPostOverlayInfoFooterCTA.react").PolarisPostOverlayInfoFooterCTA,{analyticsContext:y,currentSidecarIndex:fe,dynamicFooterRef:we,idsWithClearedBlurOverlays:ye,idsWithDisabledMediaOverlayInfoImpressionLogging:Le,onLogOverlayImpression:function(t){return je(t)},rootPost:K}):ee!=null&&ee.length>0&&(Nt=d.jsxs("div",{children:[d.jsx(r("PolarisPostCoauthorReviewOverlayFooterCTA.react"),{invitedCoauthorProducers:ee,mediaId:K.id,mediaShortcode:K.code,productType:K.productType,user:K.owner}),d.jsx(r("PolarisPostInvitedCoauthorsOverlayFooterCTA.react"),{invitedCoauthorProducers:ee,mediaId:K.id,user:K.owner})]}));var Mt=Nt!=null,wt=o("polarisPostModalHelpers").getMediaContainerProps({dimensions:K.dimensions,footerHeight:Mt?(m=we.current)==null?void 0:m.offsetHeight:void 0,hasFooter:Mt,hasSidebarInRedesign:dt,viewportHeight:ue,viewportWidth:ce}),At=!1,Ft={border:K.isSeen===!0?"2px solid green":"2px solid red"};return d.jsx(o("PolarisPostToastProvider.react").PostToastProvider,{children:function(t){return d.jsx(o("PolarisPostModalContext.react").PostModalContext,{post:K,children:d.jsx(o("hero-tracing").HeroPagelet,{name:o("PolarisHeroPageletLogger").getHeroPageletLogName(o("PolarisHeroPageletLogger").PageletLogName.POST,w),ref:xt,children:function(n,a){return d.jsx(r("PolarisHotKeys.react"),{keyMap:$t,children:function(i,l,s){return d.jsx(r("PolarisTrackingNodeProvider.react"),{ref:n,trackingNode:301,children:function(n){return d.jsxs("article",{className:r("joinClasses")(b,"_aatb"+(q===o("PolarisPostVariants").VARIANTS.feed?" _aatc":"")+(it?" _aatd":"")+(it?"":" _aate")+(tt?" _aatf":"")+(_t?" _aatg":"")+(at?" _aath":"")+(rt?" _aati":"")+(Et?" _aatj":"")),"data-testid":void 0,onKeyUp:i,ref:n,role:l,style:At?Ft:{},tabIndex:s,children:[d.jsxs(r("IGDSBox.react"),{alignSelf:pt?"center":void 0,direction:(me===!0?dt:!tt)?"row":"column",display:"flex",justifyContent:"center",maxHeight:"inherit",maxWidth:pt&&(wt==null?void 0:wt.style)!=null?wt.style.maxWidth:"inherit",position:"relative",children:[(me===!0?!dt:tt)?St:null,d.jsx("div",babelHelpers.extends({},me===!0?wt:{},{className:"_aatk"+(me===!0?" _aatl":"")+(mt&&K.dimensions!=null&&K.dimensions.width>=K.dimensions.height?" _aatm":"")+($===!0?" _aatn":"")+(Ct?" _aiao":""),children:d.jsx(r("PolarisMediaContainer.react"),{accessibilityCaption:K.accessibilityCaption,adInfo:le,analyticsContext:y,autoplay:C,checkIsSensitivityOverlayDisabledCallback:function(t){return Ke(t)},className:"_aato",commentsAreStacked:tt,hasPhotosOfYouOption:nt,hasViewInsights:Et,id:K.id,initialCarouselIndex:pe,inModal:me,isVisible:x,mediaFooter:Nt,onLike:oe?qe:null,onPostMediaRendered:Oe,onPostSidecarChildIndexChange:Be,onSensitivityOverlayCleared:ze,onToastClose:Ze,position:w,post:K,relationship:re,sensitivityOverlayMediaOverlayInfoLoggingProps:{checkIfMediaOverlayInfoImpressionLoggingDisabled:function(t){return Qe(t)},onLoggedMediaOverlayInfoImpression:function(t){return je(t)}},showToast:xe,toastString:Ne,viewer:oe,visiblePosition:V})})),d.jsx(r("PolarisPostDetailsSection.react"),{analyticsContext:y,bloksAppId:Lt,communityNoteComponent:S,currSidecarIndex:fe,currSidecarItem:bt,enableTruncation:R,handleLikeChange:We,handleSaveChange:Ue,hasDenserFeedRedesign:yt,hasSidebarInRedesign:dt,hasViewInsights:Et,initialCommentsQuery:I,owner:ne,permalinkedCommentId:N,permalinkedReplyId:M,post:K,postAuthorId:Q,postAuthorUsername:te==null?void 0:te.username,postFeedbackControlsRef:t,postHeader:St,redesignWithoutSidebar:pt,redesignWithSidebar:mt,shouldIncreaseCommentPreviews:F,showDetailsAsSidebar:_t,variant:q,viewer:oe}),Ie&&d.jsx(r("PolarisUnsaveFromCollectionDialog.react"),{onClose:Ve,onUnsaveFromAll:He,onUnsaveFromCollection:ut&&o("PolarisUA").isDesktop()?Ge:null}),d.jsx(r("PolarisPostToast.react"),{isFeedVariant:q===o("PolarisPostVariants").VARIANTS.feed,isModal:me!=null?me:!1})]}),d.jsx(a,{})]})}})}})}})},K.id)}})}h.displayName=h.name+" [from "+i.id+"]";var y=r("polarisWithPPRLogging")(h);function C(){r("polarisLogAction")("feedUnitFailure",{source:"PolarisPost"})}function b(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=d.jsx(r("CometErrorBoundary.react"),{fallback:v,onError:C,type:"warn",children:d.jsx(y,babelHelpers.extends({},e))}),t[0]=e,t[1]=n):n=t[1],n}function v(e){return null}l.default=b}),226);
__d("PolarisDynamicExplorePostModal.react",["PolarisDynamicExploreMediaHelpers","PolarisDynamicExploreTypes","PolarisInstantPostModal.react","PolarisIsLoggedInDesktop","PolarisLinkBuilder","PolarisPost.react","PolarisReactRedux.react","polarisDynamicExploreSelectors","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(16),n=e.analyticsContext,a=e.exploreGridQuery,i=e.exploreGridType,l=e.modalEntryPath,u=e.onClose,c=e.onOpen,d=e.postId,m;t[0]!==a||t[1]!==i?(m=function(t){return o("polarisDynamicExploreSelectors").getPostModalCompatibleGridItemIds(t,i,a)},t[0]=a,t[1]=i,t[2]=m):m=t[2];var p=o("PolarisReactRedux.react").useSelector(m),_;t[3]!==a||t[4]!==i||t[5]!==d?(_=function(t){return o("polarisDynamicExploreSelectors").getGridItems(t,i,a).find(function(e){return o("PolarisDynamicExploreMediaHelpers").getPostId(e)===d})},t[3]=a,t[4]=i,t[5]=d,t[6]=_):_=t[6];var f=o("PolarisReactRedux.react").useSelector(_),g;return t[7]!==n||t[8]!==p||t[9]!==i||t[10]!==f||t[11]!==l||t[12]!==u||t[13]!==c||t[14]!==d?(g=f!=null&&s.jsx(r("PolarisInstantPostModal.react"),{analyticsContext:n,combinedPostIds:p,dimensions:o("PolarisDynamicExploreMediaHelpers").getPostDimensions(f),mediaLinkBuilder:o("PolarisLinkBuilder").buildMediaLink,modalEntryPath:l,onClose:u,onlyReplaceModalHistory:i===o("PolarisDynamicExploreTypes").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,onOpen:c,postCode:o("PolarisDynamicExploreMediaHelpers").getPostCode(f),postId:d,children:s.jsx(r("PolarisPost.react"),{analyticsContext:n+"Modal",autoplay:o("PolarisIsLoggedInDesktop").isLoggedInDesktop(),id:d,isVisible:!0,visiblePosition:0})}),t[7]=n,t[8]=p,t[9]=i,t[10]=f,t[11]=l,t[12]=u,t[13]=c,t[14]=d,t[15]=g):g=t[15],g}l.default=u}),98);
__d("PolarisPostModal.react",["PolarisPostModalInternal.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("PolarisPostModalInternal.react"),babelHelpers.extends({},e,{showLoadingShimmer:!0})),t[0]=e,t[1]=n):n=t[1],n}l.default=u}),98);/*FB_PKG_DELIM*/
__d("MAWCommonWebWorkerErrorLogging",["Env","ErrorGuard","ErrorPubSub","ErrorSetup","ErrorTransport","JSErrorLoggingConfig","SiteData","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(){(e||(e=r("ErrorGuard"))).skipGuardGlobal((s||(s=r("Env"))).nocatch),r("ErrorSetup").setup({appId:r("JSErrorLoggingConfig").appId,client_revision:r("SiteData").client_revision,extra:r("JSErrorLoggingConfig").extra,loggingFramework:"worker",projectBlocklist:r("JSErrorLoggingConfig").projectBlocklist,report_source:r("JSErrorLoggingConfig").report_source,report_source_ref:r("JSErrorLoggingConfig").report_source_ref,sample_weight:r("JSErrorLoggingConfig").sampleWeight!=null?r("JSErrorLoggingConfig").sampleWeight:0,site_category:"armadillo-worker"},o("ErrorTransport").log),self.addEventListener("unhandledrejection",function(e){var t=e.reason;(u||(u=r("ErrorPubSub"))).reportError(r("getErrorSafe")(t))})}r("ErrorSetup").preSetup(),l.init=c}),98);
__d("WAPREList",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({APP_STATE_SYNC_DAILY:"app_state_sync_daily",DECRYPT_MESSAGE_FINAL:"decrypt_message_final",DOWNLOAD_AND_DECRYPT:"download_and_decrypt",FRANKING_VALIDATION:"franking_validation",GET_DEVICES:"get_devices",ICDC_ERROR:"icdc_error",MEDIA_DOWNLOAD:"media_download",MEDIA_UPLOAD:"media_upload",MEDIA_VALIDATE:"media_validate",MESSAGE_DECRYPTION:"message_decryption",MESSAGE_ENCRYPTION:"message_encryption",OFFLINE_QUEUE:"offline_queue",OFFLINE_RETRY:"offline_retry",ONE_QUEUE:"one_queue",QUERY_GROUP:"query_group",QUERY_GROUPS:"query_groups",RECEIVE_MESSAGE:"receive_message",SEND_MESSAGE:"send_message",STANZA_QUEUE_MESSAGE_CONSUMER:"stanza_queue_message_consumer",SYNCD:"syncd",SYNCD_BOOTSTRAP_APP_STATE_DOWNLOAD:"syncd_bootstrap_app_state_download",SYNCD_BOOTSTRAP_DATA_APPLIED:"syncd_bootstrap_data_applied",SYNCD_CRITICAL_BOOTSTRAP_STAGE:"syncd_critical_bootstrap_stage",SYNCD_CRITICAL_EVENT:"syncd_critical_event",SYNCD_DECRYPT_MUTATIONS:"syncd_decrypt_mutations",SYNCD_FATAL_ERROR:"syncd_fatal_error",SYNCD_KEY_ROTATION:"syncd_key_rotation",WA_DISCONNECT:"wa_disconnect",WA_FAIL_STANZA_QUEUE_ITEM:"stanza_queue_item_failure",WA_JOB_MANAGER:"wa_job_manager",WA_JOBS_ORCHESTRATOR:"wa_jobs_orchestrator",WA_NO_SIGNED_PRE_KEY:"wa_no_signed_pre_key"});i.PRE_METRIC=e}),66);
__d("WAPREMetrics",["WALogger","WAPREList"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=6e4,d=18e4,m=600*1e3,p=0;function _(){var t=[];function n(e){t.push(e)}function r(){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Removing all listeners from PRE_METRICS"]))),t.length=0}function a(e){t.length===0&&o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[PRE] There are no subscribers to PRE events "," ",""])),e.name,e.stage),t.forEach(function(t){t(e)})}return{subscribe:n,notify:a,clear:r}}var f=_(),g=f.notify,h=f.clear,y=f.subscribe,C;"FinalizationRegistry"in self&&"WeakRef"in self&&(C=new FinalizationRegistry(function(e){var t=e.event,n=e.eventFlow;if(n.isActive())try{o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[PRE][","] EventFlow still active during garbage collection"])),t)}catch(e){}}));var b=new Set([o("WAPREList").PRE_METRIC.SEND_MESSAGE,o("WAPREList").PRE_METRIC.MEDIA_DOWNLOAD]);function v(e,t,n,r){n==null&&p++;var o=n!=null?n:p,a="open";n==null?g({name:e,stage:"START",instanceKey:o,annotations:t,timeoutInMs:r}):g({name:e,stage:"RESUME",instanceKey:o,annotations:t});var i;function l(){if(i!=null){var e=i.deref();if(e!=null){var t;(t=C)==null||t.unregister(e)}}}var s={addPoint:function(n,r){g({name:e,stage:"POINT",reason:n,instanceKey:o,annotations:r})},addAnnotations:function(n){g({name:e,stage:"ANNOTATE",instanceKey:o,annotations:n})},endSuccess:function(n){g({name:e,stage:"SUCCESS",instanceKey:o,annotations:n}),a="closed",l()},endCancel:function(n){g({name:e,stage:"CANCEL",instanceKey:o,annotations:n}),l()},endFail:function(n,r){g({name:e,stage:"FAIL",reason:n,instanceKey:o,annotations:r}),a="closed",l()},getFlowDetails:function(){return{name:e,instanceKey:o}},isActive:function(){return a==="open"}};return C&&!b.has(e)&&n==null&&(C.register(s,{event:e,eventFlow:{endCancel:s.endCancel,isActive:s.isActive}}),i=new WeakRef(s)),s}l.QPL_DEFAULT_TIMEOUT_IN_MS=c,l.QPL_RECEIVE_MESSAGE_TIMEOUT_IN_MS=d,l.QPL_MEDIA_DOWNLOAD_TIMEOUT_IN_MS=m,l.clear=h,l.subscribe=y,l.startMetric=v}),98);
__d("MAWPREListeners",["MAWODSProxy","MAWQplProxy","SiteData","WALogger","WAMapWithDefault","WAOdsEnums","WAPREList","WAPREMetrics","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f;function g(){o("WAPREMetrics").subscribe(C)}var h=new(o("WAMapWithDefault")).MapWithDefault(function(){return new Map});function y(e){return C(e)}function C(t){switch(t.name){case o("WAPREList").PRE_METRIC.FRANKING_VALIDATION:v(r("qpl")._(25299246,"150"),t);break;case o("WAPREList").PRE_METRIC.QUERY_GROUPS:v(r("qpl")._(741087294,"2028"),t);break;case o("WAPREList").PRE_METRIC.QUERY_GROUP:b(o("WAOdsEnums").Entity.WA_QUERY_GROUP,t);break;case o("WAPREList").PRE_METRIC.OFFLINE_RETRY:v(r("qpl")._(25309990,"124"),t);break;case o("WAPREList").PRE_METRIC.MEDIA_DOWNLOAD:v(r("qpl")._(25312150,"83"),t);break;case o("WAPREList").PRE_METRIC.MEDIA_UPLOAD:v(r("qpl")._(25313100,"131"),t);break;case o("WAPREList").PRE_METRIC.MEDIA_VALIDATE:v(r("qpl")._(25304678,"2352"),t);break;case o("WAPREList").PRE_METRIC.GET_DEVICES:b(o("WAOdsEnums").Entity.GET_DEVICES,t);break;case o("WAPREList").PRE_METRIC.MESSAGE_DECRYPTION:v(r("qpl")._(25306682,"11176"),t),b(o("WAOdsEnums").Entity.DECRYPTION,t);break;case o("WAPREList").PRE_METRIC.DECRYPT_MESSAGE_FINAL:v(r("qpl")._(741087294,"2028"),t);break;case o("WAPREList").PRE_METRIC.MESSAGE_ENCRYPTION:v(r("qpl")._(25299294,"12933"),t),v(r("qpl")._(741087294,"2028"),t);break;case o("WAPREList").PRE_METRIC.OFFLINE_QUEUE:v(r("qpl")._(25306361,"5664"),t);break;case o("WAPREList").PRE_METRIC.SYNCD_FATAL_ERROR:v(r("qpl")._(25310891,"540"),t);break;case o("WAPREList").PRE_METRIC.SEND_MESSAGE:v(r("qpl")._(25313175,"1551"),t);break;case o("WAPREList").PRE_METRIC.RECEIVE_MESSAGE:v(r("qpl")._(1056840931,"814"),t);break;case o("WAPREList").PRE_METRIC.SYNCD_CRITICAL_EVENT:v(r("qpl")._(25311142,"804"),t);break;case o("WAPREList").PRE_METRIC.SYNCD_CRITICAL_BOOTSTRAP_STAGE:v(r("qpl")._(741087294,"2028"),t);break;case o("WAPREList").PRE_METRIC.SYNCD_BOOTSTRAP_APP_STATE_DOWNLOAD:v(r("qpl")._(741087294,"2028"),t);break;case o("WAPREList").PRE_METRIC.SYNCD_DECRYPT_MUTATIONS:v(r("qpl")._(741087294,"2028"),t);break;case o("WAPREList").PRE_METRIC.SYNCD_BOOTSTRAP_DATA_APPLIED:v(r("qpl")._(741087294,"2028"),t);break;case o("WAPREList").PRE_METRIC.SYNCD:v(r("qpl")._(741087294,"2028"),t);break;case o("WAPREList").PRE_METRIC.APP_STATE_SYNC_DAILY:v(r("qpl")._(25306941,"813"),t);break;case o("WAPREList").PRE_METRIC.ICDC_ERROR:v(r("qpl")._(25313187,"948"),t);break;case o("WAPREList").PRE_METRIC.WA_DISCONNECT:b(o("WAOdsEnums").Entity.WA_DISCONNECT,t);break;case o("WAPREList").PRE_METRIC.WA_FAIL_STANZA_QUEUE_ITEM:b(o("WAOdsEnums").Entity.WA_FAIL_STANZA_QUEUE_ITEM,t);break;case o("WAPREList").PRE_METRIC.WA_JOBS_ORCHESTRATOR:v(r("qpl")._(25311870,"1004"),t);break;case o("WAPREList").PRE_METRIC.WA_JOB_MANAGER:v(r("qpl")._(25308825,"136"),t);break;case o("WAPREList").PRE_METRIC.SYNCD_KEY_ROTATION:v(r("qpl")._(25304909,"1204"),t);break;case o("WAPREList").PRE_METRIC.STANZA_QUEUE_MESSAGE_CONSUMER:break;case o("WAPREList").PRE_METRIC.DOWNLOAD_AND_DECRYPT:o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Event "," not implemented"])),t.name);break;case o("WAPREList").PRE_METRIC.ONE_QUEUE:v(r("qpl")._(25308201,"2007"),t);break;case o("WAPREList").PRE_METRIC.WA_NO_SIGNED_PRE_KEY:b(o("WAOdsEnums").Entity.WA_NO_SIGNED_PRE_KEY,t);break}}function b(e,t){var n,r;switch(t.stage){case"START":break;case"RESUME":case"POINT":case"ANNOTATE":case"CANCEL":break;case"SUCCESS":o("MAWODSProxy").odsBumpEntityKey({entity:e,key:(n=(r=t.annotations)==null||(r=r.string)==null?void 0:r.key)!=null?n:"success"});break;case"FAIL":o("MAWODSProxy").odsBumpEntityKey({entity:e,key:t.reason});break;default:t.stage,o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Received unreachable stage value for the ODS event"])));break}}function v(e,t){var n=babelHelpers.extends({},t.annotations);switch(t.stage){case"START":{if(h.get(e).has(t.instanceKey))return;var a=babelHelpers.extends({},n,{int:babelHelpers.extends({},n.int,{sharedWorkerRev:r("SiteData").client_revision})}),i=o("MAWQplProxy").startQplUserFlow(e,a,{providedTimeoutInMs:t.timeoutInMs});h.get(e).set(t.instanceKey,i);break}case"ANNOTATE":{var l=h.get(e).get(t.instanceKey);if(l==null){o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["The QPL event of "," was completed or failed already"])),t.name);return}l.addAnnotations(n);break}case"RESUME":{if(t.instanceKey==null){o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Cannot RESUME without instanceKey"])));return}if(S(e,t.instanceKey))return;var s=o("MAWQplProxy").startQplUserFlow(e,n,{providedInstanceKey:t.instanceKey});h.get(e).set(t.instanceKey,s);break}case"POINT":{var g=h.get(e).get(t.instanceKey);if(g==null){o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["The QPL event of "," was completed or failed already"])),t.name);return}g.addPoint(t.reason,n);break}case"SUCCESS":{var y=h.get(e).get(t.instanceKey);if(y==null){o("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["The QPL event of "," was processed already"])),t.name);return}y.endSuccess(n),h.get(e).delete(t.instanceKey);break}case"CANCEL":{var C=h.get(e).get(t.instanceKey);if(C==null){o("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["The QPL event of "," was processed already"])),t.name);return}C.endCancel(n),h.get(e).delete(t.instanceKey);break}case"FAIL":{var b=h.get(e).get(t.instanceKey);if(b==null){o("WALogger").WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["The QPL event of "," was processed already"])),t.name);return}b.endFail(t.reason,n),h.get(e).delete(t.instanceKey);break}default:{o("WALogger").ERROR(f||(f=babelHelpers.taggedTemplateLiteralLoose(["Received unreachable stage value for the event"])));break}}}function S(e,t){return h.get(e).has(t)||e===r("qpl")._(25313175,"1551")}l.initializeWAPREMetrics=g,l.testOnly_logger=y}),98);
__d("WAAbPropsHelpers",["WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=86400,m=600,p=604800;function _(e){return e==null?d:Math.max(m,Math.min(p,e))}function f(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n],o=r[0],a=r[1],i=r[2];typeof o=="number"&&t.push({configName:n,configCode:o,configDefault:i})}),t}function g(e,t){var n=e[t][0];return typeof n=="number"?n:null}function h(t,n){switch(typeof n){case"boolean":return t==="1";case"number":return parseFloat(t);case"string":return t;default:return o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["parseValue: unsure how to read ",""])),t),null}}function y(e,t){var n=new Map;t.forEach(function(e){var t=e.configCode,r=e.configValue,o=e.configExpoKey;n.set(t,{configValue:r,configExpoKey:o})});var r={},o={};return f(e).forEach(function(e){var t=e.configName,a=e.configCode,i=e.configDefault,l=n.get(a);if(l!=null){var s=l.configValue,u=l.configExpoKey,c=h(s,i);c!=null&&(r[t]=c),o[a]=u!=null?u:null}}),{values:r,expoKeys:o}}function C(e,t,n){var r=babelHelpers.extends({},t,e),a={};return Object.keys(r).forEach(function(e){if(n[e]==null){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["maybeUpdatePropValues: deleting config ",""])),e);return}a[e]=r[e]}),a}function b(e,t,n){var r=babelHelpers.extends({},t,e),a={},i=f(n).map(function(e){return e.configCode}),l=new Set(i),s=new Set;return Object.keys(r).forEach(function(e){var n=parseInt(e,10),i=t?t[n]:null;l.has(n)?(r[n]!==i&&(o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["maybeUpdateExpoKeys: config_expo_key "," changed"])),n),i!=null&&i.trim()&&s.add(i)),a[n]=r[n]):(o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["maybeUpdateExpoKeys: deleting config_expo_key ",""])),n),i!=null&&i.trim()&&s.add(i))}),{propExpoKeys:a,expoKeysToDelete:s}}function v(e,t){if(t!=null){var n=t;if(e.forEach(function(e){n.delete(e)}),n.size!==0)return{internalExpoKeys:n,expoKeyStr:Array.from(n).join(",")}}}l.maybeUpdateRefresh=_,l.asAbList=f,l.asAbCode=g,l.parseAbProps=y,l.maybeUpdatePropValues=C,l.maybeUpdateExpoKeys=b,l.maybeUpdateInternalExpoKeys=v}),98);
__d("WAAbProps",["WAAbPropsHelpers","err"],(function(t,n,r,o,a,i,l){"use strict";var e=null;function s(t){if(e)return e;throw r("err")("abProps::"+t+" called before startAbProps")}function u(t,n){e==null&&(e={config:n,db:t})}function c(){return s("getHash").db.getHash()}function d(){return s("getRefreshSecs").db.getRefreshSecs().then(function(e){return o("WAAbPropsHelpers").maybeUpdateRefresh(e)})}function m(){return s("getConfig").config}function p(){return s("getAbProps").db.getAbProps()}function _(e){return s("getAbProps").db.setAbProps(e)}l.startAbProps=u,l.getHash=c,l.getRefreshSecs=d,l.getConfig=m,l.getAbProps=p,l.setAbProps=_}),98);
__d("WAAbPropConverters",[],(function(t,n,r,o,a,i){"use strict";function e(e){if(!e)return{};var t={};return Object.keys(e).forEach(function(n){var r=e[n];r!=null&&(t[n]=r)}),t}i.convertAbPropsToPlainObject=e}),66);
__d("WAAbPropsCache",["WAAbPropConverters"],(function(t,n,r,o,a,i,l){"use strict";var e=86400,s=(function(){function t(e){var t=e.abKey,n=e.abHash,r=e.lastSyncTime,o=e.expoKeyStr,a=e.refresh,i=e.internalExpoKeys,l=e.propExpoKeys,s=e.propValues,u=e.overridePropValues;this.$1=u!=null?u:{},this.$2=s,this.$4=n,this.$3=t,this.$5=r,this.$7=a,this.$6=o,this.$8=i,this.$9=l}var n=t.prototype;return n.getAbProp=function(t){var e;return this.$1[t]!=null?this.$1[t]:(e=this.$2)==null?void 0:e[t]},n.getHash=function(){return this.$4},n.getRefreshSecs=function(){var t;return(t=this.$7)!=null?t:e},n.overrideAbProp=function(t,n){this.$1[t]=n},n.readAll=function(){var e={abKey:this.$3,hash:this.getHash(),refresh:this.getRefreshSecs(),lastSyncTime:this.$5||0};if(this.$9!=null&&(e.propExpoKeys=this.$9),this.$8!=null&&(e.internalExpoKeys=this.$8),this.$6!=null&&(e.expoKeyStr=this.$6),this.$2!=null){var t=this.$2;t!=null&&(e.propValues=o("WAAbPropConverters").convertAbPropsToPlainObject(t),this.$1!=null&&(e.propValues=babelHelpers.extends({},e.propValues,o("WAAbPropConverters").convertAbPropsToPlainObject(this.$1))))}return e},n.rewrite=function(t){var e=t.abKey,n=t.abHash,r=t.lastSyncTime,o=t.expoKeyStr,a=t.refresh,i=t.internalExpoKeys,l=t.propExpoKeys,s=t.propValues;this.$2=s,this.$4=n,this.$3=e,this.$5=r,this.$7=a,this.$6=o,this.$8=i,this.$9=l},t})();l.AbPropsCache=s}),98);
__d("WAAbPropsTypes",[],(function(t,n,r,o,a,i){"use strict";var e={noyb_opt_out_flag:[3488,"bool",!1,!1],service_improvement_opt_out_flag:[3664,"bool",!1,!1],msgrw_test_bool:[704,"bool",!1,!1],msgrw_test_int:[705,"int",0,0],msgrw_test_string:[706,"string","test_string","test_string"],msgrw_test_float:[707,"float",1,1],msgrw_icdc_alert_trigger_failure_count:[1233,"int",8,8],msgrw_icdc_cooldown_interval_in_minutes:[1234,"int",35,35],msgrw_icdc_interval_in_minutes:[1236,"int",1500,1500],msgrw_logger_entries:[1298,"int",0,0],msgrw_max_keys:[2453,"int",812,812],msgrw_job_manager_conf:[2667,"string",'{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}','{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}'],client_group_participants_limit:[618,"int",257,257],client_group_name_length_limit:[1200,"int",25,25]};i.ABPropConfigs=e}),66);
__d("WAAbPropsConverters",["WAAbPropsTypes","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n={expoKeyStr:t.expoKeyStr,internalExpoKeys:t.internalExpoKeys?Array.from(t.internalExpoKeys):[],lastSyncTime:t.lastSyncTime,refresh:t.refresh};if(t.abHash!=null&&(n.abHash=t.abHash),t.abKey!=null&&(n.abKey=t.abKey),t.propExpoKeys){var r=t.propExpoKeys,a=[];Object.keys(r).forEach(function(e){var t=Number(e),n={expoKey:t};r[t]!=null&&(n.value=r[t]),a.push(n)}),n.propExpoKeys=a}if(t.propValues){var i=t.propValues,l=[];Object.keys(i).forEach(function(t){var n={name:t,value:{}};switch(typeof i[t]){case"boolean":n.value.boolValue=i[t];break;case"number":n.value.intValue=i[t];break;case"string":n.value.strValue=i[t];break;default:o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["convertAbPropsParsedToDbEntity: unsure how to read ",""])),i[t]);return}l.push(n)}),n.propValues=l}return n}function c(e){var t={expoKeyStr:e.expoKeyStr,internalExpoKeys:e.internalExpoKeys,lastSyncTime:e.lastSyncTime,propExpoKeys:e.propExpoKeys,refresh:e.refresh};if(e.hash!=null&&(t.abHash=e.hash),e.abKey!=null&&(t.abKey=e.abKey),e.propValues){var n=e.propValues,r={};Object.keys(n).forEach(function(e){n[e]!=null&&(r[e]=n[e])}),t.propValues=r}return t}function d(e){var t=e.abHash,n=e.abKey,r=e.expoKeyStr,a=e.internalExpoKeys,i=e.lastSyncTime,l=e.propExpoKeys,u=e.propValues,c=e.refresh,d={abHash:t,abKey:n,expoKeyStr:r,lastSyncTime:i,refresh:c};if(a!=null&&(d.internalExpoKeys=new Set(a)),l!=null){var m={};l.forEach(function(e){e.expoKey!=null&&(m[e.expoKey]=e.value)}),d.propExpoKeys=m}if(u!=null){var p={};u.forEach(function(e){var t=e.name,n=o("WAAbPropsTypes").ABPropConfigs[t];if(!(n==null||n.length<3)){var r=n[2];switch(typeof r){case"boolean":p[t]=e.value.boolValue;return;case"number":p[t]=e.value.intValue;return;case"string":p[t]=e.value.strValue;return;default:o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["convertDbAbPropsToParsed: unsure how to read ",""])),r);return}}}),d.propValues=p}return d}l.convertAbPropsParsedToDbEntity=u,l.convertAbPropsDataToParsed=c,l.convertDbAbPropsToParsed=d}),98);
__d("WAAbPropsToUI",["WAAbPropsTypes"],(function(t,n,r,o,a,i,l){"use strict";var e=["client_group_participants_limit","client_group_name_length_limit"];function s(t){var n=t!=null?t:{},r={};return e.forEach(function(e){n[e]!=null?r[e]=n[e]:r[e]=o("WAAbPropsTypes").ABPropConfigs[e][2]}),r}l.prepareAbPropsForUI=s}),98);
__d("WAHandleFailureUtils",["FBLogger","MAWODSProxy","Promise","WABridge","WAOdsEnums","asyncToGeneratorRuntime","getErrorSafe","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MAWClearSignalAndTempStores").__setRef("WAHandleFailureUtils"),u={GENERIC_FAILURE:"400",NOT_AUTHORIZED:"401",TEMP_BANNED:"402",BANNED:"403",CAT_EXPIRED:"413",CAT_INVALID:"414",NOT_FOUND:"415",CAT_SESSION_INVALID:"418",INTERNAL_ERROR:"500",SERVER_UNAVAILABLE:"503"};function c(){return new(e||(e=n("Promise")))(function(e,t){s.onReady(function(n){r("promiseDone")(n.clearSignalAndTempStores(),function(){return e()},function(e){var n=r("getErrorSafe")(e);r("FBLogger")("wmi").catching(n).mustfix("Failed to clear signal and temp stores"),t(n)})})})}function d(){return c().then(function(){o("WABridge").getBridge().fireAndForget("event","logout",{})})}function m(){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield c(),o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.WA_REREGISTRATION,key:"reregister_phone"}),o("WABridge").getBridge().fireAndForget("event","reregisterDevice",{})}),p.apply(this,arguments)}l.FAILURE_CODES=u,l.clearRegistrationAndTempData=c,l.deregisterPhone=d,l.reregisterPhone=m}),98);
__d("WASignalDB",["BrowserLockManager","QPLFlow","WAHandleFailureUtils","WAHex","WAIDBTypes","WALogger","WAResolvable","Worm","WormEAR","WormIDbDriver","WormIDbUtils","asyncToGeneratorRuntime","err","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s={identity:{primaryKey:"deviceJid",indexes:{userJid:{fields:["userJid"],unique:!1}}},contacts:{primaryKey:"contactJid",indexes:{}},session:{indexes:{},primaryKey:"id"},senderKeySessions:{primaryKey:"id",indexes:{groupJid:{fields:["groupJid"],unique:!1},userJid:{fields:["userJid"],unique:!1}}},prekey:{indexes:{},primaryKey:"keyId"},prekeyGeneration:{indexes:{},primaryKey:"generationId"},signedPrekey:{indexes:{},primaryKey:"keyId"},meta:{indexes:{},primaryKey:"key"},plaintextMeta:{indexes:{},primaryKey:"key",secure:!1},icdcFails:{indexes:{},primaryKey:"contactJid"},personalSenderKeyStatuses:{indexes:{},primaryKey:"groupJid"}},u,c=new(o("WAResolvable")).Resolvable;function d(e,t,n,r,o,a){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,d,m){var p=m!=null?o("QPLFlow").startQPLFlow(m,{timeoutInMs:r("justknobx")._("3415"),annotations:{string:{operationType:"initDb"}}}):null;try{yield g(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=o("WAHex").parseHex(a),n="signalDb",r=new(o("WormEAR")).WormEAR(s,n,e),_=new(o("Worm")).WormDatabase(new(o("WormIDbDriver")).WormIDbDriver(t,n,s,r,d,{blockingErrorThreshold:i,onBlockingError:l,safeToDeleteStores:new Set(["stanzaQueue","danglingQueue","migration"]),onTransactionError:function(n){if(n instanceof o("WormEAR").DecryptionError){var e=n;if(e.store==="icdcFails")return;o("WormIDbUtils").promisifyIDbRequest(o("WAIDBTypes").idb().deleteDatabase(t)).then(function(){return o("WAHandleFailureUtils").reregisterPhone()})}}}),m);u=_,yield _.init({eventFlow:p}),c.resolve(_),p==null||p.endSuccess()}))}catch(t){throw p==null||p.endFail("error"),o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[WORM] Error performing initDb: ",""])),t),t}}),m.apply(this,arguments)}function p(){if(u==null)throw r("err")("Signal Db v3 is not initialized");return u}function _(){return c.promise}function f(e){return"Signal - "+e}function g(e){return r("BrowserLockManager")!=null?r("BrowserLockManager").request("wajs_make_signal_v3_db",e):e()}l.makeSignalDb=d,l.getDb=p,l.getDbPromise=_,l.signalOp=f}),98);
__d("WAGetMetaApi",["WASignalDB"],(function(t,n,r,o,a,i,l){"use strict";var e=function(){return o("WASignalDB").getDb().runInTransaction(["meta"],"readonly",function(e){return e.stores.meta.bulkGet(["certificateChain","deviceId","identityKeyPair","abProps","edgeInfo","clockSkew","authKeyPair"]).then(function(e){var t,n,r,o,a,i,l,s=e[0],u=e[1],c=e[2],d=e[3],m=e[4],p=e[5],_=e[6];return{abProps:d==null||(t=d.value)==null?void 0:t.abProps,authKeyPair:_==null||(n=_.value)==null?void 0:n.authKeyPair,certificateChain:s==null||(r=s.value)==null?void 0:r.certificateChain,clockSkew:p==null||(o=p.value)==null?void 0:o.clockSkew,deviceId:u==null||(a=u.value)==null?void 0:a.deviceId,edgeInfo:m==null||(i=m.value)==null?void 0:i.edgeInfo,identityKeyPair:c==null||(l=c.value)==null?void 0:l.identityKeyPair}})},o("WASignalDB").signalOp("getMeta"))};l.getMeta=e}),98);
__d("WAGetAbPropsApi",["WAGetMetaApi"],(function(t,n,r,o,a,i,l){"use strict";var e=function(){return o("WAGetMetaApi").getMeta().then(function(e){var t=e.abProps;return t})};l.getAbProps=e}),98);
__d("WASetMetaApi",["WASignalDB"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return o("WASignalDB").getDb().runInTransaction(["meta"],"readwrite",function(e){return e.stores.meta.bulkPut(Object.entries(t).map(function(e){var t,n=e[0],r=e[1];return{key:n,value:(t={},t[n]=r,t)}}))},o("WASignalDB").signalOp("setMeta")).then(function(){})};l.setMeta=e}),98);
__d("WASetAbPropsApi",["WASetMetaApi"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return o("WASetMetaApi").setMeta({abProps:t})};l.setAbProps=e}),98);
__d("WAAbPropsInit",["Promise","WAAbProps","WAAbPropsCache","WAAbPropsConverters","WAAbPropsToUI","WAAbPropsTypes","WABridge","WAGetAbPropsApi","WALogger","WASetAbPropsApi","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(){if(!c)throw r("err")("Trying to get hash before AbProps gets initialized");return(u||(u=n("Promise"))).resolve(c.getHash())}function m(){if(!c)throw r("err")("Trying to get refresh secs before AbProps gets initialized");return(u||(u=n("Promise"))).resolve(c.getRefreshSecs())}var p={getAbProps:function(){if(!c)throw r("err")("Trying to read ABProps before they gets initialized");return(u||(u=n("Promise"))).resolve(c.readAll())},getHash:d,getRefreshSecs:m,setAbProps:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=o("WAAbPropsConverters").convertAbPropsDataToParsed(e);(t=c)==null||t.rewrite(n),yield o("WASetAbPropsApi").setAbProps(o("WAAbPropsConverters").convertAbPropsParsedToDbEntity(n)),_(n)});function t(t){return e.apply(this,arguments)}return t})()};function _(e){if(e.propValues){var t=o("WAAbPropsToUI").prepareAbPropsForUI(e.propValues);o("WABridge").getBridge().fireAndForget("event","abPropsUpdated",{abProps:t})}}function f(){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Starting ABProps store"])));var t=yield o("WAGetAbPropsApi").getAbProps(),n={};t&&(n=o("WAAbPropsConverters").convertDbAbPropsToParsed(t)),c=new(o("WAAbPropsCache")).AbPropsCache(n),o("WAAbProps").startAbProps(p,o("WAAbPropsTypes").ABPropConfigs),_(n),o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["ABProps inited"])))}),g.apply(this,arguments)}function h(e,t){if(c==null)throw r("err")("Trying to override ABProp before they get initialized");var n=c;n.overrideAbProp(e,t),_(o("WAAbPropsConverters").convertAbPropsDataToParsed(n.readAll()))}function y(e){return o("WAAbPropsTypes").ABPropConfigs[e][2]}function C(){if(!c)throw r("err")("Trying to read ABProps before they get initialized");return c.readAll()}function b(e){if(!c)throw r("err")("Trying to read ABProp "+e+" before AbProps gets initialized");var t=c.getAbProp(e);return t!=null?t:y(e)}l.getHash=d,l.getRefreshSecs=m,l.initAbProps=f,l.overrideAbProp=h,l.getAbDefault=y,l.getAbProps=C,l.getAbProp=b}),98);
__d("MAWWebWorkerLogger",["MAWBridge","MAWConsoleLogger","MAWLeakDetection","MAWLoggingSwitches","MAWSaveLogToDisk","WAAbPropsInit","WAJids","WATagsLogger","asyncToGeneratorRuntime","err","fb-error","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=2;function s(){o("WATagsLogger").initializeWaLogger(c)}function u(){return r("gkx")("19609")}var c={count:function(t,n){m("count",t,n),o("MAWConsoleLogger").logToConsole("count",t,n)},debug:function(t,n,r){o("MAWConsoleLogger").logToConsole("log",t,n,r)},devConsole:function(t,n,r,a){for(var e=arguments.length,i=new Array(e>4?e-4:0),l=4;l<e;l++)i[l-4]=arguments[l];switch(t){case"COUNT":o("MAWConsoleLogger").logToConsole.apply(void 0,["count",n,r,a].concat(i));break;case"DEV":o("MAWConsoleLogger").logToConsole.apply(void 0,["log",n,r,a].concat(i));break;case"DEV_XMPP":o("MAWConsoleLogger").logToConsole.apply(void 0,["log",n,r,a].concat(i));break;case"LOG":o("MAWConsoleLogger").logToConsole.apply(void 0,["info",n,r,a].concat(i));break;case"WARN":o("MAWConsoleLogger").logToConsole.apply(void 0,["warn",n,r,a].concat(i));break;case"ERROR":o("MAWConsoleLogger").logToConsole.apply(void 0,["error",n,r,a].concat(i));break;case"CATCHING":o("MAWConsoleLogger").logToConsole.apply(void 0,["error",n,r,a].concat(i));break}},error:function(t,n,a){var e=o("MAWLeakDetection").maybeReplaceVaultedString(t);a?f(e,n,a):f("webworker",n,r("err")(o("WAJids").maybeSanitizeLogLineText(e))),o("MAWConsoleLogger").logToConsole("error",e,n)},info:function(t,n){m("log",t,n),o("MAWConsoleLogger").logToConsole("info",t,n)},logRestricted:function(t,n){m("logRestricted",t,n),o("MAWConsoleLogger").logToConsole("log",t,n)},warn:function(t,n){m("warn",t,n),o("MAWConsoleLogger").logToConsole("warn",t,n)}};function d(){try{return o("WAAbPropsInit").getAbProp("msgrw_logger_entries")}catch(e){return o("WAAbPropsInit").getAbDefault("msgrw_logger_entries")}}function m(e,t,n){if(o("MAWLoggingSwitches").removeLoggingFromBridge){if(o("MAWSaveLogToDisk").saveLogEntry("worker",o("MAWSaveLogToDisk").formatLog({date:Date.now(),logLevel:e,logString:t,tags:n})),!u()){e==="count"&&o("MAWBridge").getBridge().fireAndForget("event","log",{logLevel:e,logString:t,tags:n},!0);return}e!=="debug"&&o("MAWBridge").getBridge().fireAndForget("event","log",{logLevel:e,logString:t,tags:n},!0)}}function p(){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield o("MAWSaveLogToDisk").forceCachedLogEntryPersist()}),_.apply(this,arguments)}function f(t,n,a){var i=0;if(a.taalOpcodes!=null){var l;(l=a.taalOpcodes)==null||l.forEach(function(e){e===r("fb-error").TAALOpcode.PREVIOUS_FRAME&&i++})}else i=e;o("MAWLoggingSwitches").removeLoggingFromBridge&&o("MAWSaveLogToDisk").saveLogEntry("worker",o("MAWSaveLogToDisk").formatErrorForLogging(t,n,a,i,d(),a.stack)),u()||o("MAWBridge").getBridge().fireAndForget("event","logError",{entriesToReport:d(),framesToPop:i,logString:t,message:a.message,stack:a.stack,tags:n},!0)}l.setupWebWorkerWaLogger=s,l.flushLogs=p}),98);
__d("EARInitType",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["EB_INIT","LS_INIT","MAW_INIT","MAW_RP_INIT","MAW_IN_UI_INIT"]),l=e;i.default=l}),66);
__d("IndexedDbPolyfills",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1=new Map}var t=e.prototype;return t.emit=function(t){for(var e=this.$1.get(t),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(e!==void 0)for(var a of e)a.apply(void 0,r);var i=this["on"+t];i!=null&&i.apply(void 0,r)},t.addEventListener=function(t,n,r){var e=this;r===void 0&&(r={});var o=r,a=o.signal,i=this.$1.get(t);i===void 0&&(i=new Set,this.$1.set(t,i)),i.add(n),a!=null&&(a.onabort=function(){e.removeEventListener(t,n)})},t.removeEventListener=function(t,n){var e=this.$1.get(t);e!==void 0&&e.delete(n)},e})(),l=function(){return function(t,n){var r=this.openCursor(t!=null?t:null),o=[],a=new e;return r.onsuccess=function(e){var t=e.target.result;if(t!=null&&(n===void 0||o.length<n))o.push(t.value),t.continue();else{a.result=o,a.onsuccess==null||a.onsuccess({target:{readyState:"done",result:o}});return}},r.onerror=function(e){a.onerror==null||a.onerror(e)},a}},s=typeof window!="undefined"?window:self;typeof s.IDBObjectStore!="undefined"&&s.IDBObjectStore.prototype.getAll===void 0&&(s.IDBObjectStore.prototype.getAll=l()),i.IDBRequest=e,i.getAll=l}),66);
__d("MAWIndexedDBDeletion",["CurrentMessengerUser","FBLogger","MAWIndexedDbMetadata","Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,o){return indexedDB==null||t==null?(e||(e=n("Promise"))).resolve():new(e||(e=n("Promise")))(function(e,n){var a=indexedDB.deleteDatabase(t);a.onsuccess=function(){r("FBLogger")("maw_db").warn("%s db was deleted",o),e()},a.onblocked=function(){r("FBLogger")("maw_db").mustfix("Cannot delete %s db: blocked. Make sure DB is closed.",o)},a.onerror=function(){r("FBLogger")("maw_db").mustfix("Cannot delete %s db",o),n(a.error)}})}function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=o("CurrentMessengerUser").getID();yield(e||(e=n("Promise"))).all([s(o("MAWIndexedDbMetadata").dbName(t),"maw_v1"),s(o("MAWIndexedDbMetadata").restoreDbName2(t),"maw_v3"),s(o("MAWIndexedDbMetadata").jobsDbName(t),"signal"),s(o("MAWIndexedDbMetadata").logDbName(t),"logDb")])}),c.apply(this,arguments)}l.deleteDB=s,l.deleteMAWPersistence=u}),98);
__d("MAWEARGenNewKeychainCryptoKey",["FBLogger","MAWCryptoConsts","MAWKeychainCrypto","MAWWebInitDataHelpers","MessengerWebInitData","WATimeUtils","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var e,t=o("MAWWebInitDataHelpers").getLastAccountKeyFormatVersion(),n=(yield(e=o("MAWKeychainCrypto")).getAccountKeys(t))[0],a=e.genBrowserEncryptionKeyString(),i=e.genDatabaseEncryptionSeed(),l=yield e.encryptDataToStringBuffer(n,i),s=o("WATimeUtils").castToUnixTime(o("WATimeUtils").unixTime()+o("MAWCryptoConsts").ENC_KEY_TTL);return{accountKeyString:yield e.generateHashString(o("MAWWebInitDataHelpers").getAccountKeysString(t)[0]),appIdOrigin:r("MessengerWebInitData").appId,expiration:s,formatVersion:t,key:a,seed:l,userKeyBaseString:yield e.generateHashString(r("MessengerWebInitData").userKeyBase)}}catch(e){var u=r("getErrorSafe")(e);throw r("FBLogger")("messenger_web").catching(u).mustfixThrow("Failed to generateNewKey")}}),s.apply(this,arguments)}l.default=e}),98);
__d("MAWEARKeychainDecryptionError",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.name="MAWEARKeychainDecryptionError",n.message=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.default=e}),66);
__d("MAWWorkerSetupArgs",[],(function(t,n,r,o,a,i){"use strict";var e=null;function l(t){e=t}function s(){return e}function u(){e=null}i.setWorkerSetupArgs=l,i.getWorkerSetupArgs=s,i.resetWorkerSetupArgs=u}),66);
__d("MAWGenKeychainCryptoKeyWithVersion",["ExecutionEnvironment","FBLogger","MAWCurrentUser","MAWEARKeychainDecryptionError","MAWKeychainCrypto","MAWWebInitDataHelpers","MAWWorkerSetupArgs","MessengerWebInitData","Promise","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n,r,o,a,i){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,u,c,d){l===void 0&&(l=1);try{var m=yield o("MAWKeychainCrypto").getAccountKeys(l),p=yield(s||(s=n("Promise"))).all([o("MAWKeychainCrypto").importBrowserEncryptionKey(t),s.all(m.map(function(e){return o("MAWKeychainCrypto").decryptDataToArrayBuffer(e,a).catch(function(){return null})}))]),_=p[0],f=p[1],g=yield s.all(f.filter(Boolean).map(function(e){return o("MAWKeychainCrypto").genDatabaseEncryptionKey(_,e).catch(function(){return null})})),h=g.filter(Boolean);if(h.length===0)throw new(r("MAWEARKeychainDecryptionError"))("Failed to generate keys from seed");return{keys:h,version:i}}catch(t){var y=null,C=null,b=o("MAWWorkerSetupArgs").getWorkerSetupArgs();(e||(e=r("ExecutionEnvironment"))).isInWorker&&b!=null&&(y=b.userKeyBase===r("MessengerWebInitData").userKeyBase,C=b.fbId===o("MAWCurrentUser").getID());var v=o("MAWWebInitDataHelpers").getAccountKeysString(l),S=v&&v[0]!=null?yield o("MAWKeychainCrypto").generateHashString(v[0]):null;throw r("FBLogger")("messenger_web").catching(r("getErrorSafe")(t)).mustfix("Failed to genKeyWithVersion: accountKeyBackfilled = %s; accountKeyExists = %s; acccountKeyMatches = %s; userKeyBaseBackilled = %s; userKeyBaseExists = %s; userKeyBaseMatches = %s; appIdOrigin = %s; appIdInitData = %s; userIdMatches = %s; isInWorker = %s; userKeyBase_match_between_threads = %s; userId_match_between_threads = %s; formatVersion = %s;",u!=null,v!=null,u===S,c!=null,r("MessengerWebInitData").userKeyBase!=null,c===(yield o("MAWKeychainCrypto").generateHashString(r("MessengerWebInitData").userKeyBase)),d,r("MessengerWebInitData").appId,o("MAWCurrentUser").getID()===String(r("MessengerWebInitData").userId),(e||(e=r("ExecutionEnvironment"))).isInWorker,y,C,l),t}}),c.apply(this,arguments)}l.default=u}),98);
__d("MWEARKeychainV3Errors",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.name="EARKeychainNotFoundError",n.message=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.EARKeychainNotFoundError=e}),66);
__d("MWLocalStorageErrorHandler",["cr:3449"],(function(t,n,r,o,a,i,l){"use strict";function e(){n("cr:3449")&&n("cr:3449").clearLocalStorageBigValues()}l.onQuotaExceeded=e}),98);
__d("MAWLocalStorage",["LocalStorageWrapper","MWLocalStorageErrorHandler","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){o("WALogger").LOG([e])}function u(e){o("WALogger").ERROR([e])}function c(){return o("LocalStorageWrapper").getStorage(s)}function d(){return o("LocalStorageWrapper").isLocalStorageAvailable(s)}function m(e,t,n){return o("LocalStorageWrapper").setItemGuarded(e,t,n,u,o("MWLocalStorageErrorHandler").onQuotaExceeded)}function p(t,n){t==null?o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["not storage found"]))):t.removeItem(n)}l.getStorage=c,l.isLocalStorageAvailable=d,l.setItemGuarded=m,l.removeItemGuarded=p}),98);
__d("MWTabCommunicationChannel",["MAWLocalStorage"],(function(t,n,r,o,a,i,l){"use strict";var e=typeof window!="undefined"?window:self;function s(e){var t=o("MAWLocalStorage").getStorage(),n=function(r){o("MAWLocalStorage").setItemGuarded(t,e,JSON.stringify(r))},r=function(r){window.removeEventListener("storage",r),o("MAWLocalStorage").removeItemGuarded(t,e)},a=function(t){window.addEventListener("storage",t)},i=function(n){return n!=null&&n.key===e&&typeof n.newValue=="string"?JSON.parse(n.newValue):null};return{getMessage:i,onRequestReceived:function(t){var e=function(n){var e=i(n);e!=null&&t(e)};return a(e),{release:function(){r(e)}}},sendMessage:n,stopWaitingForReply:r,waitForReply:a}}function u(t){var n=new e.BroadcastChannel(t),r=new Set;n.addEventListener("message",function(e){r.forEach(function(t){t(e)})});var o=function(t){r.add(t)},a=function(t){r.delete(t)},i=function(t){n.postMessage(JSON.stringify(t))},l=function(t){return t!=null&&typeof t.data=="string"?JSON.parse(t.data):null};return{getMessage:l,onRequestReceived:function(t){var e=function(n){var e=l(n);e!=null&&t(e)};return o(e),{release:function(){a(e)}}},sendMessage:i,stopWaitingForReply:a,waitForReply:o}}function c(t){return e.BroadcastChannel!=null?u(t):s(t)}l.getChannel=c}),98);
__d("MWTabCommunication",["MWTabCommunicationChannel","Promise","clearTimeout","pageID","promiseDone","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t){var n=this;this.$2=null,this.$5=function(e){var t=n.$4.getMessage(e);t!=null&&t.a==="sb"&&t.t!==n.tabID()&&t.r===n.tabID()&&t.k!=null&&(n.$2&&n.$2(t.k),n.$4.stopWaitingForReply(n.$5),n.$2=null)},this.$1=e,this.$3=t!=null?t:500,this.$4=o("MWTabCommunicationChannel").getChannel(e)}var a=t.prototype;return a.tabID=function(){return r("pageID")},a.$6=function(){var e={a:"r",t:this.tabID()};this.$4.sendMessage(e)},a.listenToRequest=function(r){return this.listenToRequestAsync(function(){return(e||(e=n("Promise"))).resolve(r())})},a.listenToRequestAsync=function(t){var e=this,n=function(o){o.a==="r"&&o.t!==e.tabID()&&r("promiseDone")(t().then(function(t){var n={a:"sb",k:t,r:o.t,t:e.tabID()};e.$4.sendMessage(n)}))};return this.$4.onRequestReceived(n)},a.$7=function(){var t=this;return new(e||(e=n("Promise")))(function(e){t.$2=e,t.$4.waitForReply(t.$5),t.$6()})},a.request=function(o,a){var t=this,i,l=function(){i!=null&&r("clearTimeout")(i)};return(e||(e=n("Promise"))).race([this.$7().then(function(e){return t.$4.stopWaitingForReply(t.$5),o(e)}),new e(function(e){i=r("setTimeout")(function(){e(a()),t.$4.stopWaitingForReply(t.$5)},t.$3)})]).then(function(e){return l(),e})},t})();l.MWTabCommunication=s}),98);
__d("MWBroadcastChannelPolyfill",["FBLogger","LocalStorageWrapper","MessengerLogHistory","Random","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MessengerLogHistory").getInstance("client_init");function s(t){e.debug("[MWBroadcastChannelPolyfill] "+t)}function u(e){r("FBLogger")("messenger_web").mustfix(e)}var c={},d=o("LocalStorageWrapper").getStorage(s);function m(e){var t="$BroadcastChannel$"+e+"$",n=!1,a=function(n){var e,r;if(n.storageArea===d){var o=n.newValue;if(!(o==null||o==="")&&((e=n.key)==null?void 0:e.substring(0,t.length))===t){var a=JSON.parse(o);(r=c[t])==null||r.forEach(function(e){e({data:a})})}}};return window.addEventListener("storage",a),{addEventListener:function(n,r){c[t]=c[t]||new Set,c[t].add(r)},close:function(){n||(n=!0,c={},window.removeEventListener("storage",a))},postMessage:function(a){if(n){r("FBLogger")("ls_web_init").mustfix("Broadcast channel is closed");return}var e=JSON.stringify(a),i=t+String(Date.now())+"$"+String(r("Random").uint32());o("LocalStorageWrapper").setItemGuarded(d,i,e,u),r("setTimeout")(function(){o("LocalStorageWrapper").removeItemGuarded(d,i,u)},500)},removeEventListener:function(n,r){var e;(e=c[t])==null||e.delete(r)}}}l.default=m}),98);
__d("MWBroadcastChannel",["MWBroadcastChannelPolyfill"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return self.BroadcastChannel!=null?new self.BroadcastChannel(e):r("MWBroadcastChannelPolyfill")(e)}l.MWBroadcastChannel=e}),98);
__d("MWLSDatabaseNames",[],(function(t,n,r,o,a,i){"use strict";var e="LightSpeed",l=e+"V3";i.name=e,i.lightspeedPrefix=l}),66);
__d("MWLSIndexedDBName",["MAWCurrentUser","MWLSDatabaseNames"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("MAWCurrentUser").getID();return o("MWLSDatabaseNames").lightspeedPrefix+e}l.dbName=e}),98);
__d("ReStoreTabNotifier",["CurrentMessengerUser","FBLogger","MWBroadcastChannel","MWLSIndexedDBName","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=o("CurrentMessengerUser").getIDorEIMU();function s(t){var n=o("MWBroadcastChannel").MWBroadcastChannel(t==="restore-table-"+e+"-"+o("MWLSIndexedDBName").dbName()?"mwChat-"+e:t);function a(e,t){try{n.postMessage([e,t])}catch(e){r("FBLogger")("messenger_web").catching(r("getErrorSafe")(e)).warn("Failed to broadcast changes")}}function i(e,t){n.addEventListener("message",function(n){var r=n.data,o=r[0];o===e&&t(r[1])})}return{onEventReceive:i,postMessage:a}}l.default=s}),98);
__d("MWEARKeychainV3",["$InternalEnum","Deferred","ExecutionEnvironment","FBLogger","LSPlatformLsInitLog","MAWCryptoConsts","MAWCurrentUser","MAWEARGenNewKeychainCryptoKey","MAWGenKeychainCryptoKeyWithVersion","MAWQplProxy","MAWReliabilityMonitor","MWEARKeychainV3Errors","MWTabCommunication","Promise","QPLUserFlow","Random","ReStoreTabNotifier","WAArrayBufferUtils","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","getErrorSafe","gkx","memoizeOneWithArgs","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(){return{accountKey:null,databaseEncryptionKeys:new Map,dbReady:new(r("Deferred")),latestVersion:o("MAWCryptoConsts").VERSION}},c={global_ear:u(),maw_ear:u()},d=null,m=(function(){var e=Object.keys(c).reduce(function(e,t){return e[t]="none",e},{});return{get:function(n){return e[n]},is:function(n,r){return e[n]===r},set:function(n,r){var t;e[n]=r,(t=d)==null||t.updateState()}}})();function p(e){c[e]=u(),m.set(e,"none")}function _(e,t){m.set(e,t)}function f(e){for(var t=o("Random").uint32();e.some(function(e){return e.randomisedVersion===t});)t=o("Random").uint32();return t}var g={global_ear:function(){return null},maw_ear:function(){return null}},h=function(t){return g[t]()},y=function(t,n){g[t]=function(){return n}},C=function(t,n){y(t,n),k(t).dbReady.resolve()},b={global_ear:"browserEncryptionMetaV2",maw_ear:"encryptionMetaV3"},v=r("memoizeOneWithArgs")(function(e,t){return new(o("MWTabCommunication")).MWTabCommunication("ear_keys_"+t+"_"+e)});function S(e,t,n){return R.apply(this,arguments)}function R(){return R=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a;if(n===void 0&&(n=U),r("gkx")("9396")&&r("FBLogger")("messenger_web").info("Initialise EAR keychain: %s",e),d=B(e),m.is(e,"success")&&k(e).databaseEncryptionKeys.size!==0)return o("WAResultOrError").makeResult(E(e));var i=o("MAWCurrentUser").getID(),l=r("ReStoreTabNotifier")("channel-ear-keychain-v3-"+i);l.onEventReceive("notifyEarKeychainV2",w);var u=(s||(s=r("ExecutionEnvironment"))).isInWorker?"Worker":"UI";n(e+"_ear_init_start",{string:(a={},a["initFlow_"+e+"_"+u]=t,a)});try{var c,p=yield W(l,e,void 0,n);n(e+"_ear_import_end");for(var _ of p)k(e).databaseEncryptionKeys.set(_.result.version,{dbEntry:_.entry,keys:_.result.keys});return M(e),v(e,i).listenToRequest(function(){return JSON.stringify(Array.from(k(e).databaseEncryptionKeys.entries()).map(function(e){var t=e[0],n=e[1],r=n.dbEntry,a=n.keys;return[t,{dbEntry:r,keys:a.map(function(e){return o("WAArrayBufferUtils").arrayBufferToString(e)})}]}))}),n(e+"_ear_init_end",{string_array:(c={},c[e+"_randomisedVersionKeys"+u]=L(e).map(function(e){var t=e[0],n=e[1].dbEntry;return String(n.randomisedVersion)}),c)}),m.set(e,"success"),o("WAResultOrError").makeResult(E(e))}catch(t){return m.set(e,"failure"),n(e+"_ear_init_error"),r("gkx")("9396")&&r("FBLogger")("messenger_web").catching(r("getErrorSafe")(t)).mustfix("Failed to setup EAR Keychain V3. Namespace: %s",e),o("WAResultOrError").DEPRECATED_makeError("keychain-setup-failure",r("getErrorSafe")(t))}}),R.apply(this,arguments)}function L(e){return Array.from(k(e).databaseEncryptionKeys.entries())}function E(e){return k(e).latestVersion}function k(e){return c[e]}function I(e,t){var n=t!=null?t:E(e),a=k(e).databaseEncryptionKeys.get(n);if(a==null){r("promiseDone")($(e).then(function(e){var t=e.map(function(e){return e.version}).includes(n);r("FBLogger")("messenger_web").info("EAR Keychain DB match found: %s. Version = %s. NumberVersions = %s",t,n,e.length)}));var i=E(e),l=Array.from(k(e).databaseEncryptionKeys.keys());throw r("FBLogger")("messenger_web").mustfix("EAR Key v%s was null. Latest version: %s has key: %s, keychain length: %s, currentLatestVersion: %s, init status %s, in worker %s",n,i,k(e).databaseEncryptionKeys.get(i)==null,k(e).databaseEncryptionKeys.size,Math.max.apply(Math,l),m.get(e),(s||(s=r("ExecutionEnvironment"))).isInWorker),new(o("MWEARKeychainV3Errors")).EARKeychainNotFoundError("EAR Key "+n+" was null.")}return{dbEntry:a.dbEntry,keys:a.keys,randomisedVersion:a.dbEntry.randomisedVersion,version:n}}function T(e){return r("MAWGenKeychainCryptoKeyWithVersion")(e.key,e.seed,e.version,e.formatVersion,e.accountKeyString,e.userKeyBaseString,e.appIdOrigin)}var D=n("$InternalEnum")({UNKNOWN:-1,NO_KEY:0,EBSM_EARV2_UPGRADE:1,RANDOMISED_VERSION_UPGRADE:2,EXPIRED_KEY:3,FORCE_KEY_ROTATION:4});function x(e){if(e.length===0)return{reason:D.NO_KEY,result:!0};var t=e[e.length-1];return o("WATimeUtils").isInFuture(t.expiration)?{result:!1}:{reason:D.EXPIRED_KEY,result:!0}}function $(t){var r=N(t,"readonly");return new(e||(e=n("Promise")))(function(e,n){r.onabort=function(){return n(r.error)},r.onerror=function(){return n(r.error)};var o=r.objectStore(b[t]).getAll();o.onsuccess=function(){return e(o.result)},o.onerror=function(){return n(o.error)}}).then(P)}function P(e){var t=e.find(function(e){return e.version==null});t!=null&&r("FBLogger")("messenger_web").mustfix("EAR Keychain Rotation null version: fields nonnull: %s %s %s %s %s %s",t.id==null,t.key==null,t.seed==null,t.formatVersion==null,t.accountKeyString==null,t.userKeyBaseString==null);var n=e.filter(function(e){return e.version!=null});return n.sort(function(e,t){return e.version-t.version})}function N(e,t){var n=h(e);if(n==null)throw r("FBLogger")("messenger_web").mustfixThrow("Encryption IndexDB should've been initialized. Namespace: %s",e);return n.transaction(b[e],t,{durability:"strict"})}var M=function(t){var e=Array.from(k(t).databaseEncryptionKeys.keys());e.length>0?k(t).latestVersion=Math.max.apply(Math,e):r("FBLogger")("messenger_web").mustfix("EAR latest version does not exist")},w=function(t){var e=t.namespace,o=t.version;r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{r("FBLogger")("messenger_web").info("Received key rotation notification. Namespace: %s",e),yield k(e).dbReady.getPromise();var t=(yield $(e)).find(function(e){return e.version===o});if(t==null)throw r("FBLogger")("messenger_web").mustfixThrow("Notified new Ear Key but missing in DB");var n=yield T(t);k(e).databaseEncryptionKeys.set(n.version,{dbEntry:t,keys:n.keys}),M(e),r("FBLogger")("messenger_web").info("Rotated key successfully. Namespace: %s",e)}catch(t){return r("FBLogger")("messenger_web").catching(r("getErrorSafe")(t)).mustfix("Failed to handleNewVersion. In worker %s. Namespace: %s.",(s||(s=r("ExecutionEnvironment"))).isInWorker,e)}})())};function A(e){return m.get(e)!=="none"}function F(e){return m.get(e)}function O(e){return m.is(e,"success")?(k(e).databaseEncryptionKeys.size===0&&r("FBLogger")("messenger_web").mustfix("Keychain initialised but no keys present"),!0):!1}function B(e){return o("MAWReliabilityMonitor").MAWReliabilityMonitorSingleton.startMonitoring("EARv3",function(){return{extra:{isKeychainInitialised:O(e).toString(),latestVersion:E(e).toString()},reason:m.get(e),state:(function(){switch(m.get(e)){case"none":return o("MAWReliabilityMonitor").HealthReportState.PENDING;case"success":return o("MAWReliabilityMonitor").HealthReportState.OK;case"failure":return o("MAWReliabilityMonitor").HealthReportState.ERROR;default:return o("MAWReliabilityMonitor").HealthReportState.UNKNOWN}})()}})}function W(e,t,n,r){return q.apply(this,arguments)}function q(){return q=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,o,a,i){var l=yield r("MAWEARGenNewKeychainCryptoKey")();i(o+"_ear_raw_key_generated");var u=yield new(e||(e=n("Promise")))(function(e,n){var u=N(o,"readwrite");u.onerror=function(){return n(u.error)},u.onabort=function(){return n(u.error)};var c=u.objectStore(b[o]).getAll();c.onerror=function(){return n(c.error)},c.onsuccess=function(){var d;i(o+"_ear_keys_fetched");var m=P(c.result),p=x(m),_=p.reason,g=p.result;if((a==null?void 0:a.forceKeyRotation)!==!0&&!g)return e(m);var h=(a==null?void 0:a.forceKeyRotation)===!0?D.FORCE_KEY_ROTATION:_!=null?_:D.UNKNOWN,y=m.map(function(e){return e.version}),C=(d=y[y.length-1])!=null?d:0;r("FBLogger")("messenger_web").info("Key rotation. EAR versions: %s. Latest version: %s. Namespace: %s, Worker: %s",y.toString(),C,o,(s||(s=r("ExecutionEnvironment"))).isInWorker);var v=babelHelpers.extends({},l,{randomisedVersion:f(m),source:h,version:C+1});i(o+"_ear_adding_new_key"),u.oncomplete=function(){m.push(babelHelpers.extends({},v,{id:v.version})),t.postMessage("notifyEarKeychainV2",{namespace:o,version:v.version}),i(o+"_ear_gen_key_end"),e(m)};var S=u.objectStore(b[o]).add(v);S.onerror=function(){return n(r("FBLogger")("messenger_web").catching(S.error).mustfixThrow("Failed to rotate EAR key"))}}});i(o+"_ear_import_start");var c=yield e.allSettled(u.map(function(e){return T(e).then(function(t){return{entry:e,result:t}})})),d=c[c.length-1];if(d.status==="rejected"){var m,p=(m=a==null?void 0:a.corruptedEARRetryCount)!=null?m:0;if(p>=1)throw d.reason;return W(t,o,{corruptedEARRetryCount:p+1,forceKeyRotation:!0},i)}return c.map(function(e){if(e.status==="fulfilled")return e.value}).filter(Boolean)}),q.apply(this,arguments)}var U=function(t,n){o("LSPlatformLsInitLog").addPoint(t,n),V(t,n)},V=function(t,n){var e=r("qpl")._(25310776,"6155");(s||(s=r("ExecutionEnvironment"))).isInWorker?o("MAWQplProxy").sendQplPointThroughBridge(e,"backend_"+t,{annotations:n}):(r("QPLUserFlow").addPoint(e,"ui_"+t),n!=null&&r("QPLUserFlow").addAnnotations(e,n))},H=function(t,n){return v(t,n).request(function(e){var n=JSON.parse(e);return n.forEach(function(e){var n=e[0],r=e[1],a=r.keys.map(o("WAArrayBufferUtils").stringToArrayBuffer);k(t).databaseEncryptionKeys.set(n,{dbEntry:r.dbEntry,keys:a})}),M(t),m.set(t,"success"),!0},function(){return!1})};l.InitStatus=m,l.resetKeychain__TEST_ONLY_DO_NOT_USE=p,l.setInitStatus__TEST_ONLY_DO_NOT_USE=_,l.generateNewRandomisedVersionNumber=f,l.setNamespaceSourceDbWithoutMarkingDbReady=y,l.setNamespaceSourceDbAndMarkAsReady=C,l.getEncryptionKeysTabCommunication=v,l.init=S,l.getLatestVersion=E,l.getKeychain=k,l.getDbEncryptionKey=I,l.isKeychainSettled=A,l.getKeychainInitStatus=F,l.isKeychainInitialised=O,l.logMawInitPoint=V,l.importKeysFromOtherTab=H}),98);
__d("WAWorkerGlobalScope",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){return typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:self})();i.workerGlobalScope=e}),66);
__d("MAWEncryptionIndexedDbV2",["BrowserLockManager","EARInitType","ExecutionEnvironment","FBLogger","IndexedDbPolyfills","MAWCurrentUser","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWQplProxy","MWEARKeychainV3","Promise","QPLUserFlow","WALogger","WAWorkerGlobalScope","err","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;n("IndexedDbPolyfills");var c="browserEncryptionMetaV2",d="version",m=1,p=6e4,_=null,f=null,g=null;function h(){return _}function y(){return _!=null}var C=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));function b(e,t){t===void 0&&(t=0);var a=o("MAWCurrentUser").getID();return t>m?(L(e,"ear_idb_retry_failed_max_reached"),(u||(u=n("Promise"))).reject(new C)):_!=null?(L(e,"ear_db_exists"),(u||(u=n("Promise"))).resolve()):indexedDB==null?(L(e,"ear_idb_unavailable"),(u||(u=n("Promise"))).reject(r("err")("IndexedDB API not available"))):(L(e,"ear_db_open_start",{bool:{browserLockEnabled:r("BrowserLockManager")!=null}}),new(u||(u=n("Promise")))(function(n,i){var l=function(o){b(e,t+1).then(n).catch(function(e){if(e instanceof C)return i(o);i(e)})};try{g=o("MAWIndexedDbMetadata").encryptionDbName(a);var u=indexedDB.open(g),m=o("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){i(r("err")("IndexedDB initialisation timeout in %s flow, isInWorker: %s, openRequest: %s",String(e),(s||(s=r("ExecutionEnvironment"))).isInWorker?"true":"false",u.readyState))},p);u.onupgradeneeded=function(t){o("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m),L(e,"ear_db_upgrade_start");var n=t.target.result;if(!n.objectStoreNames.contains(c)){var r=n.createObjectStore(c,{autoIncrement:!0,keyPath:"id"});r.createIndex(d,d,{unique:!0})}L(e,"ear_db_upgrade_end")},u.onblocked=function(){L(e,"ear_db_open_blocked"),o("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){i(r("err")("EAR Open timed out while blocked"))},2e3)},u.onsuccess=function(t){o("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);var a=t.target.result;if(!a.objectStoreNames.contains(c)){var s=u.result.objectStoreNames.contains(c);return r("FBLogger")("messenger_web").warn("Missing encryption meta table. Is store present: %s",s),o("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m),S(a,"missing_encryption_meta_table").then(function(){l(r("err")("Malformed encryption DB"))}).catch(function(t){return L(e,"ear_idb_retry_failed_delete_failed"),i(r("err")("Failed to delete malformed encryption DB: "+t.message))})}a.onversionchange=function(){a.close(),r("FBLogger")("messenger_web").info("EAR onversionchange triggered"),o("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m),f==null||f()},L(e,"ear_db_open_end"),_=a,o("MWEARKeychainV3").setNamespaceSourceDbAndMarkAsReady("global_ear",_),n()},u.onerror=function(){if(o("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m),u.error.name==="UnknownError")return L(e,"ear_db_open_error_unknown_error"),l(u.error);L(e,"ear_db_open_error"),i(u.error)}}catch(t){L(e,"ear_db_error"),i(t)}}))}function v(e){f=f==null?e:f}function S(e,t){return e===void 0&&(e=_),r("FBLogger")("messenger_web").warn("EAR DB deletion triggered: %s",t),e!=null&&e.close(),o("MAWIndexedDBDeletion").deleteDB(g,"ear")}function R(t){switch(t){case r("EARInitType").EB_INIT:return r("qpl")._(521477507,"1406");case r("EARInitType").MAW_INIT:return r("qpl")._(25310776,"6155");case r("EARInitType").MAW_RP_INIT:return o("WALogger").DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[Armadillo Web Remote Presence] MAW RP Initialising EAR"]))),r("qpl")._(25310776,"6155");case r("EARInitType").LS_INIT:return r("qpl")._(25305590,"1127");case r("EARInitType").MAW_IN_UI_INIT:return null}}function L(e,t,n){var a=R(e);a!=null&&((s||(s=r("ExecutionEnvironment"))).isInWorker?o("MAWQplProxy").sendQplPointThroughBridge(a,"worker_"+t,{annotations:n}):(r("QPLUserFlow").addPoint(a,t),n!=null&&r("QPLUserFlow").addAnnotations(a,n)))}l.storeName=c,l.ENCRYPTION_MAW_STORES_INDEX=d,l.getEncryptionDB=h,l.isEncryptionDBInited=y,l.makeEncryptionDB=b,l.maybeSetEncryptionDbOnVersionChange=v,l.deleteEncryptionDB_UNSAFE=S}),98);
__d("MAWKeychain",["MWEARKeychainV3"],(function(t,n,r,o,a,i,l){"use strict";var e={getDbEncryptionKey:o("MWEARKeychainV3").getDbEncryptionKey,getLatestVersion:o("MWEARKeychainV3").getLatestVersion,init:o("MWEARKeychainV3").init};l.default=e}),98);
__d("MWSetupDBEncryption",["BrowserLockManager","ExecutionEnvironment","FBLogger","MAWEncryptionIndexedDbV2","MAWKeychain","MWEARKeychainV3","Promise","WAResultOrError","asyncToGeneratorRuntime","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(t,n){return n()};function c(e){u=e}var d="mw_ear_db";function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){try{return yield o("MAWEncryptionIndexedDbV2").makeEncryptionDB(e),yield u("init_setup_keychain",function(){return r("MAWKeychain").init("global_ear",e)})}catch(n){var t=n instanceof Error?n:r("getErrorSafe")(n);return r("FBLogger")("messenger_web").catching(t).mustfix("[%s] EAR setup error",String(e)),o("WAResultOrError").DEPRECATED_makeError("keychain-setup-failure",t)}}),p.apply(this,arguments)}function _(e){return o("MAWEncryptionIndexedDbV2").getEncryptionDB()!=null&&o("MWEARKeychainV3").isKeychainInitialised("global_ear")?(s||(s=n("Promise"))).resolve(o("WAResultOrError").makeResult(o("MWEARKeychainV3").getLatestVersion("global_ear"))):r("BrowserLockManager")!=null?new(s||(s=n("Promise")))(function(t,o){r("promiseDone")(r("BrowserLockManager").request(d,n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var n=yield m(e);t(n)}catch(e){o(e)}})),function(e){},function(e){o(e)})}):m(e)}function f(e,t){t===void 0&&(t=function(t){return!0});var r=null;return function(a){return r==null&&(r=e(a).then(function(e){return r=t(e)?(s||(s=n("Promise"))).resolve(e):null,e}).catch(function(e){throw r=null,e})),r}}var g=f(function(t){return _(t)},function(e){return(e==null?void 0:e.success)===!0}),h=(e||(e=r("ExecutionEnvironment"))).isInWorker?g:_;l.setPerformanceMeasurementTool=c,l.init=h}),98);
__d("WAQPLProxy",["WALogger","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,i,l){if(l===void 0&&(l=!0),d==null)throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["WAQPLProxy: Proxy implementation is not provided for ",""])),t),r("err")("WAQPLProxy: Proxy implementation is not provided");return d.start(t,n,a,i,l)}function c(e,t){if(d==null)throw o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WAQPLProxy: Proxy implementation is not provided for ",""])),e),r("err")("WAQPLProxy: Proxy implementation is not provided");return d.resume(e,t)}var d=null;function m(e){d=e}l.waQPLProxyStart=u,l.waQPLProxyStartResume=c,l.provideProxyImplementationForWAQPLProxy=m}),98);
__d("BackendInitLoggingUtils",["ErrorMetadata","MAWCommonWebWorkerErrorLogging","MAWLoggerUtils","MAWPREListeners","MAWQplProxy","MAWWebWorkerLogger","MWSetupDBEncryption","WAQPLProxy","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n){return o("MAWQplProxy").measurePerfInQPL_USE_WITH_CARE(r("qpl")._(25310776,"6155"),"backend_"+t,n)},s=function(t){return o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(25310776,"6155"),t)},u=function(t){return o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(1056839232,"112"),t)};function c(){o("MAWWebWorkerLogger").setupWebWorkerWaLogger(),o("MAWCommonWebWorkerErrorLogging").init(),r("ErrorMetadata").addGlobalMetadata("MESSENGER_E2EE_WEB","ENVIRONMENT","worker"),o("MAWLoggerUtils").initMessengerWebLogging(),o("WAQPLProxy").provideProxyImplementationForWAQPLProxy({resume:o("MAWQplProxy").makeQplUserFlowFromExistedInstance,start:function(t,n,r,a,i){return o("MAWQplProxy").startQplUserFlow(t,n,{callBridgeWithTimestamp:i,providedInstanceKey:r,providedTimeoutInMs:a})}}),o("MAWPREListeners").initializeWAPREMetrics(),o("MWSetupDBEncryption").setPerformanceMeasurementTool(e)}l.measureMawInit=e,l.MAWInitPoint=s,l.MAWMICPoint=u,l.initializeBackendLogging=c}),98);
__d("EBDBConsistencyApi",["$InternalEnum","EBDB","FBLogger","I64","QPLUserFlow","ReQL","asyncToGeneratorRuntime","getErrorSafe","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],u=null;function c(){return u}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){try{var a=yield o("EBDB").getEBDB(),l=BigInt((e||(e=o("I64"))).to_string(n));yield a.runInTransaction(["device_state"],"readwrite",function(e){return e.stores.device_state.bulkPut([{deviceId:l,env:t}])},"EBDB - AddDevice",i.id+":54"),u=l}catch(e){r("FBLogger")("wmi_eb").catching(r("getErrorSafe")(e)).mustfix("Error on EBDB - AddDevice")}}),m.apply(this,arguments)}function p(e){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.secure_encrypted_backups_client_state)).then(function(e){return e==null?void 0:e.deviceId})}function _(e,t,n){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){if(n!=null)return d(t,n);try{var o=yield p(e);return o==null?void 0:d(t,o)}catch(e){r("FBLogger")("wmi_eb").catching(r("getErrorSafe")(e)).mustfix("Error on fetching secure_encrypted_backups_client_state")}}),f.apply(this,arguments)}function g(e,t){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){r("QPLUserFlow").addPoint(t,"track_overprompting_start");try{var a=yield o("EBDB").getEBDB(),l=!1;yield a.runInTransaction(["device_state"],"readwrite",(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield t.stores.device_state.get(e);(n==null?void 0:n.deviceId)!=null&&(l=!0)});return function(e){return t.apply(this,arguments)}})(),"EBDB - AddDevice",i.id+":107"),r("QPLUserFlow").addAnnotations(t,{bool:{overprompting:l}}),r("QPLUserFlow").addPoint(t,"track_overprompting_end")}catch(e){r("QPLUserFlow").addPoint(t,"track_overprompting_fail"),r("FBLogger")("wmi_eb").catching(r("getErrorSafe")(e)).mustfix("Error on track overpropting")}}),h.apply(this,arguments)}var y=n("$InternalEnum")({Disabled:0,EbsmInconsistent:1,EbdbInconsistent:2,Enabled:3,Inconsistent:4});function C(e){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield p(t),r=n!=null?BigInt((e||(e=o("I64"))).to_string(n)):null;return r==null&&u==null?y.Disabled:r==null&&u!=null?y.EbsmInconsistent:r!=null&&u==null?y.EbdbInconsistent:r===u?y.Enabled:y.Inconsistent}),b.apply(this,arguments)}function v(e,t,n,r){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,o){var a=1/r("justknobx")._("3914");if(!(Math.random()>=a)){var i=r("qpl")._(521471316,"2831");try{r("QPLUserFlow").start(i);var l=yield C(e);o!=null&&r("QPLUserFlow").addAnnotations(i,o()),r("QPLUserFlow").endSuccess(i,{annotations:{int:{consistency:l,env:t,operation:n}}})}catch(e){r("QPLUserFlow").endFailure(i,"error"),r("FBLogger")("wmi_eb").catching(r("getErrorSafe")(e)).mustfix("Error on trackConsistency in %s",t)}}}),S.apply(this,arguments)}function R(){return L.apply(this,arguments)}function L(){return L=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield o("EBDB").clearDeviceState(),u=null}),L.apply(this,arguments)}var E;function k(e,t){return I.apply(this,arguments)}function I(){return I=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){E!=null&&E(),yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.encrypted_backups)).then(function(e){e!=null&&((e==null?void 0:e.backupId)==null||(e==null?void 0:e.isUserOptedOut)===!0)&&R()}).catch(function(e){r("FBLogger")("wmi_eb").catching(e).mustfix("EBDBApi: EBLS error on fetching data from encrypted_backups")}),E=t.tables.encrypted_backups.subscribe(function(e,t){t.operation!=="delete"&&(t.value.backupId==null||t.value.isUserOptedOut===!0)&&R()});var a=yield o("EBDB").getEBDB(),l=yield a.runInTransaction(["device_state"],"readonly",function(e){return e.stores.device_state.get(n)},"EBDB - readDeviceState",i.id+":250").catch(function(e){r("FBLogger")("wmi_eb").catching(e).mustfix("EBDB error: fetching device_state")});if(u=T(l==null?void 0:l.deviceId),u==null){var s=yield p(t);if(s==null)return;var c=BigInt((e||(e=o("I64"))).to_string(s));u=c,yield a.runInTransaction(["device_state"],"readwrite",function(e){return e.stores.device_state.bulkPut([{deviceId:c,env:n}])},"EBDB - writeDeviceState",i.id+":272").catch(function(e){r("FBLogger")("wmi_eb").catching(e).mustfix("EBDB error: write device_state")})}}),I.apply(this,arguments)}function T(t){if(t!=null){if(typeof t=="bigint")return t;if(typeof t=="number")return BigInt(t);if(typeof t=="string")try{return BigInt(t)}catch(e){r("FBLogger")("wmi_eb").catching(r("getErrorSafe")(e)).mustfix("EBDBApi: Parsing string as BigInt"),R();return}if(Array.isArray(t))try{return BigInt((e||(e=o("I64"))).to_string(t))}catch(e){r("FBLogger")("wmi_eb").catching(r("getErrorSafe")(e)).mustfix("EBDBApi: Parsing I64 as BigInt"),R();return}r("FBLogger")("wmi_eb").mustfix("EBDBApi: Parsing unknown as BigInt %s",String(t)),R()}}l.EB_STORES=s,l.getDeviceId=c,l.addNewDevice=_,l.trackOverprompting=g,l.EBConsistencyResult=y,l.checkRegistrationConsistency=C,l.trackConsistency=v,l.clearDeviceState=R,l.startListeningDeviceRegistrations=k}),98);
__d("EBLogger",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return r("FBLogger")("wmi_eb",t)};l.EBLogger=e}),98);
__d("EBMinosCheckWasmFeatureSupport",["asyncToGeneratorRuntime","gkx","wasm-feature-detect"],(function(t,n,r,o,a,i,l){"use strict";var e=null;function s(){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(e!=null)return e;var t=yield o("wasm-feature-detect").bulkMemory(),n=yield o("wasm-feature-detect").bigInt(),r=yield o("wasm-feature-detect").referenceTypes();return e=t&&n&&r,e}),u.apply(this,arguments)}function c(){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield s();if(!e)return!1;var t=r("gkx")("20911");return t}),d.apply(this,arguments)}l.checkWasmFeatureSupport=s,l.checkWasmFeatureSupportAndGK=c}),98);
__d("MWEBUseLocalStorage",["WALogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=t,i=n!=null?n:"true";if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var l;o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Encrypted Backups key "," written to local storage"])),a),(l=(s||(s=r("WebStorage"))).getLocalStorage())==null||l.setItem(a,i)}}function c(e){var t=e;if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var n;(n=(s||(s=r("WebStorage"))).getLocalStorage())==null||n.removeItem(t)}}function d(e){if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var t,n=e;return(t=(s||(s=r("WebStorage"))).getLocalStorageForRead())==null?void 0:t.getItem(n)}return null}function m(e){if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var t,n=e;return((t=(s||(s=r("WebStorage"))).getLocalStorageForRead())==null?void 0:t.getItem(n))!=null}return!0}l.mwEBCreateLocalStorageEntry=u,l.mwEBDeleteLocalStorageEntry=c,l.mwEBGetLocalStorageEntryValue=d,l.mwEBGetIsLocalStorageEntryValuePresent=m}),98);
__d("EBReenrollmentTriggerHandler",["EBLogger","LSIntEnum","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("EBLogger").EBLogger().tags(["DefaultEBReenrollmentTriggerHandler"]),u=(function(){function t(){}var n=t.prototype;return n.handle=function(n){s.debug("Running default reenrollment trigger handler for reason: "+(e||(e=o("LSIntEnum"))).toNumber(n.deviceReenrollmentReason));for(var t of r("MWEncryptedBackupsLocalStorageEntryEnum").members())s.debug("Clearing local storage key: "+t),t!==r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE&&o("MWEBUseLocalStorage").mwEBDeleteLocalStorageEntry(t)},t})();l.DefaultEBReenrollmentTriggerHandler=u}),98);
__d("MWEBODSCategory",[],(function(t,n,r,o,a,i){"use strict";var e=7319;i.default=e}),66);
__d("MWEBODSEntityName.enum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({MW_EB_PIN_RESTORE_AUTH:"mw_eb_pin_restore_auth",MW_EB_RC_RESTORE_AUTH:"mw_eb_rc_restore_auth",MW_EB_AUTO_RESTORE_AUTH:"mw_eb_auto_restore_auth",MW_EB_OTC_AUTH:"mw_eb_otc_auth",MW_EB_ONBOARDING_AUTH:"mw_eb_onboarding_auth",MW_EBSM_HYDRATION:"mw_ebsm_hydration",MW_EBSM_IDB:"mw_eb_ebsm_idb",MW_EBSM_CORRUPTION:"mw_ebsm_corruption",MW_EBSM_CORRUPTION_RELOAD:"mw_ebsm_corruption_reload",MW_EBSM_RESTORE_PERSISTENCE_ERROR:"mw_ebsm_restore_persistence",MW_EBSM_IDB_TABLE_DELETION:"mw_ebsm_idb_table_deletion",MW_EBSM_WORKER_SUFFIX:"_worker",MW_EBSM_COUNTERS:"mw_ebsm_counters",MW_EBSM_FETCH_BACKUP_IDS:"mw_ebsm_fetch_backup_ids",MW_EB_SWITCH_CONSISTENCY:"mw_eb_switch_consistency",MAW_EB_UPLOAD_TRACKING:"maw_eb_upload_tracking",MAW_EB_UPLOAD_COUNTER:"maw_eb_upload_counter",MAW_EB_RESTORE_COUNTER:"maw_eb_restore_counter",EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST:"eb_symmetric_encryption_js_rust_shadow_test",MAW_EB_FRONTEND_QPL_IN_WORKER:"maw_eb_frontend_qpl_in_worker",MW_EB_RETROACTIVE_BACKUP:"mw_eb_retroactive_backup"}),l=e;i.default=l}),66);
__d("EBReenrollmentTriggerListener",["EBReenrollmentTriggerHandler","LSIntEnum","MWEBODSCategory","MWEBODSEntityName.enum","ODS","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){function t(e){this.$1=new Map,this.$4=new(o("EBReenrollmentTriggerHandler")).DefaultEBReenrollmentTriggerHandler,this.$2=e,this.$5()}var n=t.prototype;return n.$5=function(){var t=this;return this.$3==null&&(this.$3=o("ReQL").fromTableAscending(this.$2.tables.encrypted_backups_reenrollment_trigger).take(1).subscribe(function(n,a){if(a.operation==="add"||a.operation==="put"){(e||(e=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_COUNTERS,"reenrollment_trigger");var l=t.getDefaultHandler();if(a.value.deviceReenrollmentReason!=null){var u;l=(u=t.$1.get((s||(s=o("LSIntEnum"))).unwrapIntEnum(a.value.deviceReenrollmentReason)))!=null?u:l}l.handle(a.value),r("promiseDone")(t.$2.runInTransaction(function(e){return e.encrypted_backups_reenrollment_trigger.delete(a.value.pk)},"readwrite",void 0,void 0,i.id+":77"))}})),this.$3},n.attachHandler=function(t,n){this.$1.set(t,n)},n.getDefaultHandler=function(){return this.$4},t})(),c;function d(e){return c!=null||(c=new u(e)),c}function m(e){return c==null&&d(e),c}l.initEBReenrollmentTriggerListener=d,l.getEBReenrollmentTriggerListener_TESTING_ONLY=m}),98);
__d("EmoticonsList",[],(function(t,n,r,o,a,i){a.exports={emotes:{"O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel","'-_-":"coldsweat",":3":"colonthree","o.O":"confused",O_O:"confused",o_o:"confused","0_0":"confused","O.o":"confused_rev",":'(":"cry",":'-(":"cry","3:)":"devil","3:-)":"devil",":dog:":"dog","-3-":"flushkiss",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp","=D":"grin",":-D":"grin",":D":"grin",">:(":"grumpy",">:-(":"grumpy","<3":"heart","&lt;3":"heart","^_^":"kiki","^~^":"kiki",":*":"kiss",":-*":"kiss","(y)":"like",":like:":"like","(Y)":"like",T_T:"loudly_crying","T-T":"loudly_crying",ToT:"loudly_crying","T.T":"loudly_crying",":-|":"neutral",":|":"neutral",":v":"pacman",":V":"pacman",'<(")':"penguin",">_<":"persevere",">.<":"persevere",":poop:":"poop",":|]":"robot","(^^^)":"shark",":)":"smile",":-)":"smile",":]":"smile","(:":"smile","=)":"smilingface","(=":"smilingface","-_-":"squint","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses","B-)":"sunglasses","8-)":"sunglasses","8)":"sunglasses","(n)":"thumbsdown","(N)":"thumbsdown",":+1:":"thumbsup",":thumbsup:":"thumbsup",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue",":trans:":"transflag",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",";)":"wink",";-)":"wink",";*":"winkkiss",";-*":"winkkiss",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":cheese:":"cheesewedge",":eyes:":"eyes",":peek:":"eyes",":clown:":"clown"},symbols:{angel:"O:)",coldsweat:"'-_-",colonthree:":3",confused:"o.O",confused_rev:"O.o",cry:":'(",devil:"3:)",dog:":dog:",flushkiss:"-3-",frown:":(",gasp:":o",grin:"=D",grumpy:">:(",heart:"<3",kiki:"^_^",kiss:":*",like:"(y)",loudly_crying:"T_T",neutral:":-|",pacman:":v",penguin:'<(")',persevere:">_<",poop:":poop:",robot:":|]",shark:"(^^^)",smile:":)",smilingface:"=)",squint:"-_-",sunglasses:"B|",thumbsdown:"(n)",thumbsup:":+1:",tongue:":P",transflag:":trans:",unsure:":/",upset:">:o",wink:";)",winkkiss:";*",winktongue:";-P",cheesewedge:":cheese:",eyes:":eyes:",clown:":clown:"},emoji:{angel:"1f607",coldsweat:"1f613",colonthree:"FACE_WITH_COLON_THREE",confused:"1f633",confused_rev:"1f633",cry:"1f622",devil:"1f608",dog:"1f436",flushkiss:"1f61a",frown:"1f641",gasp:"1f62e",grin:"1f603",grumpy:"1f620",heart:"2764",kiki:"1f60a",kiss:"1f618",like:"LIKE",loudly_crying:"1f62d",neutral:"1f610",pacman:"PACMAN",penguin:"1f427",persevere:"1f623",poop:"1f4a9",robot:"1f916",shark:"1f988",smile:"1f642",smilingface:"1f60a",squint:"1f611",sunglasses:"1f60e",thumbsdown:"1f44e",thumbsup:"1f44d",tongue:"1f61b",transflag:"1f3f3_fe0f_200d_26a7_fe0f",unsure:"1f615",upset:"1f620",wink:"1f609",winkkiss:"1f618",winktongue:"1f61c",cheesewedge:"1f9c0",eyes:"1f440",clown:"1f921"},regexp:/(^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:dog:|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||B\-\)(?!\))|8\-\)(?!\))|8\)(?!\))|\(n\)(?!\))|\(N\)(?!\))|:\+1:|:thumbsup:|:P|:\-P|:\-p|:p|=P|:trans:|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p|:cheese:|:eyes:|:peek:|:clown:)([\s\'\".,!?\)]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:dog:|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||B\-\)(?!\))|8\-\)(?!\))|8\)(?!\))|\(n\)(?!\))|\(N\)(?!\))|:\+1:|:thumbsup:|:P|:\-P|:\-p|:p|=P|:trans:|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p|:cheese:|:eyes:|:peek:|:clown:)(?:[\s\'\".,!?\)]|<br>|$)/}}),null);
__d("EmoticonRenderer",["EmoticonsList"],(function(t,n,r,o,a,i,l){"use strict";var e=["LIKE","PACMAN","FACE_WITH_COLON_THREE"];function s(t){for(var n=[],r=new RegExp(o("EmoticonsList").regexp),a=0,i=t.match(r);i!==null;){var l=i[1],s=i[2].split(""),u=o("EmoticonsList").emotes[i[2]],c=o("EmoticonsList").emoji[u];n.push({chars:s,isCustom:e.includes(c),key:c,offset:a+i.index+l.length}),a+=i.index+i[0].length,i=t.slice(a).match(r)}return n}function u(e,t,n){var r=s(e),o=[],a=0;return r.forEach(function(r){var i=r.offset;i>a&&o.push(e.substr(a,i-a)),r.isCustom?o.push(n(r.key,r.chars)):o.push(t(r.key)),a=i+r.chars.length}),o.push(e.substr(a,e.length-a)),o}l.parse=s,l.render=u}),98);
__d("EphemeralMediaViewMode",[],(function(t,n,r,o,a,i){var e=Object.freeze({READ_ONCE:0,REPLAYABLE:1,PERMANENT:2});i.default=e}),66);
__d("LSDataTraceTag",[],(function(t,n,r,o,a,i){"use strict";var e=0,l=1,s=2,u=3,c=4,d=5,m=6,p=7,_=20,f=21,g=22,h=23,y=24,C=25,b=26,v=27,S=28,R=29,L=30,E=31,k=32,I=33,T=34,D=35,x=36,$=37,P=38,N=39,M=40,w=41,A=42;i.none=e,i.sticker=l,i.image=s,i.animatedImage=u,i.video=c,i.audio=d,i.file=m,i.xma=p,i.messageTypeNone=_,i.messageTypeText=f,i.messageTypeFutureproof=g,i.messageTypeCiphertext=h,i.messageTypeUnavailable=y,i.messageTypeImage=C,i.messageTypeVideo=b,i.messageTypePtt=v,i.messageTypeAdmin=S,i.messageTypeRevoked=R,i.messageTypeGif=L,i.messageTypeSticker=E,i.messageTypeExpiredEphemeral=k,i.messageTypeEphemeralSettingAdmin=I,i.messageTypeEphemeralSyncResponse=T,i.messageTypeEphemeralScreenshotAction=D,i.messageTypeDeleteForMe=x,i.messageTypeEphemeralSettingChangeFromCurrentDevice=$,i.messageTypeAlertICDC=P,i.messageTypeGroupInvite=N,i.messageTypeXMA=M,i.messageTypeReaction=w,i.messageTypeSenderKeyDistribution=A}),66);
__d("LSMEBTaskCreationSource",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:-1,TEST_ONLY:0,TAM:1,MEM:2,RETROACTIVE_BACKUP:3,TAM_WEB:4,ACT_MESSAGE_DELETE:5,ACT_THREAD_DELETE:6,ACT_UPDATE_ATTACHMENT:7,TAM_PERSISTENCE_TASK:8,TAM_XMA_TOMBSTONE:9,MEM_RECEIVE:10,MEM_SEND:11,MEM_PEER_SYNC:12,MEM_RECEIVE_PROTOBUF:13,MEM_SEND_PROTOBUF:14,MEM_PEER_SYNC_PROTOBUF:15,MEM_RECEIVE_PROTOBUF_ONLY_FBN:16,MEM_SEND_PROTOBUF_ONLY_FBN:17,MEM_PEER_SYNC_PROTOBUF_ONLY_FBN:18,EB_ADD_DEVICE:21,OPTIMISTIC_THREAD_CREATE_VIA_SHIM:22,ACT_THREAD_INSERT_VIA_SHIM:23,MI_THREAD_INSERT_VIA_SHIM:24,POINT_QUERY_FROM_EB:25,MESSENGER_SEARCH:26,ACT_MESSAGE_RANGE_TASK_HANDLER:27,POINT_QUERY_ON_FULLY_LOADED_THREAD:28,THREAD_CUTOVER:29,HYBRID_THREAD_VERIFY_OR_CREATE_VIA_SHIM:30,BURNER_INTERNAL_LOAD_TESTING_FRAMEWORK:31,THREAD_GALLERY_RESTORE:32,ACT_SURROUNDING_QUERY:33,EB_SNAPSHOT_RESTORE:34,PROTOBUF_RESTORE:39,FTS_INDEX_EB_MESSAGES:40,INSTAMADILLO_DYI:41,MESSENGER_MESSAGE_LIST_PAGINATION:45,DELTA_GENERIC_MESSAGE_SYNC:55,MEDIA_GALLERY_RESTORE:57,EB_PROTOBUF_RESTORE_NO_OP:58,NEW_MEMBER_EXPORT:59,THREAD_POINT_QUERY:76,EB_RESTORE_REPLIED_MESSAGES_AFTER_RANGE_RESTORE:35,REPL_TESTING:36,EB_POINT_QUERY_IN_ACT:37,EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:38,IGD_DYI:42,FTS_INDEX_EB_MESSAGES_WEB:43,BULK_QUERY_FOR_SEARCH_RESULT:44,MSGR_DYI:46,EB_RESTORE_ON_REGISTRATION:47,EB_RESTORE_ON_OFFLINE_QUEUE_COUNT_LIMIT:48,EB_POINT_QUERY_RESTORE_ON_ACK_DROP:49,EB_POINT_QUERY_RESTORE_ON_DECRYPTION_FAILURE:50,EB_POINT_QUERY_RESTORE_ON_UNAVAILABLE_DEVICE:51,EB_RANGE_QUERY_RESTORE_ON_THREAD_SESSION_ACTIVATE:52,EB_POINT_QUERY_PINNED_MESSAGES:53,EB_POINT_QUERY_RESTORE_PROTOBUF:54,EB_POINT_QUERY_IN_ACT_REACTIONS:56,EB_POINT_QUERY_BUMP_MESSAGES:60,EB_POINT_QUERY_IN_ACT_FOR_INCOMING_RETRY_RECEIPT:61,EB_POINT_QUERY_IN_ACT_FOR_REPORTING:62,EB_POINT_QUERY_IN_ACT_FOR_MESSAGE_STATUS_UPDATE:63,EB_POINT_QUERY_IN_ACT_FOR_REPL_TEST:64,EB_POINT_QUERY_IN_ACT_FOR_FACEBOOK_APP_NSE_NOTIFICATION_RENDERING:65,EB_POINT_QUERY_IN_ACT_FOR_MESSAGE_EXPORT_HANDLING:66,EB_POINT_QUERY_IN_ACT_FOR_TAM_ACT_PROXY:67,EB_POINT_QUERY_IN_ACT_FOR_REALTIME_INCOMING_MESSAGE:68,EB_POINT_QUERY_IN_ACT_FOR_REALTIME_INCOMING_AI_BOT_MESSAGE:69,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_PERSISTENCE:70,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_INDEXING:71,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_NEW_MEMBER_HYDRATION:72,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_ECHO_TO_PROTO_CONVERSION:73,EB_POINT_QUERY_IN_ACT_FOR_PENDING_MESSAGE_RECOVERY_HISTORICAL_FUTURE_PROOF:74,EB_POINT_QUERY_IN_ACT_FOR_PENDING_MESSAGE_RECOVERY_REALTIME_BLOCKED:75,EB_POINT_QUERY_TO_FETCH_SENDER_DEVICE_KEYS:77,RESONANCE_UTILS:80,MPS_RESTORE_REVERB_RESTORE:81,REPORTING:82,CLIENT_MESSAGE_TRUNCATION:83,CALLING_XMA:84,EB_ACT_ATTACHMENT_RESTORE:85,EB_MEB_ATTACHMENT_ACCESS_CONTROL_RESTORE:86,FORCE_CLIENT_MESSAGE_TRUNCATION:87,ACT_EDIT_MESSAGE_VALIDATION:88,ACT_REVOKE_MESSAGE_VALIDATION:89,REVERB_CLEANUP_HANDLER_SINGLE_MESSAGE_POINT_QUERY:90,REVERB_CLEANUP_HANDLER_RESTORE_MESSAGES_BEFORE_QUERY:91,REVERB_CLEANUP_HANDLER_RESTORE_MESSAGES_AFTER_QUERY:92,REVERB_CLEANUP_HANDLER_RESTORE_MESSAGES_SURROUNDING_QUERY:93,ACT_FETCH_LOCAL_ONLY_MESSAGE_PK_AND_LOCAL_BACKUP_RESTORE:94,ACT_FETCH_LOCAL_ONLY_MESSAGE_PK_AND_ENCRYPTED_BACKUP_RESTORE:95,FILE_GALLERY_RESTORE:96});i.default=e}),66);
__d("LSThreadMediaGalleryGroup",[],(function(t,n,r,o,a,i){var e=Object.freeze({PHOTOS_AND_VIDEOS:0,FILES_ONLY:1,LINKS:2});i.default=e}),66);
__d("MAWAckLevel",["LSIntEnum","LSMessageSendStatus"],(function(t,n,r,o,a,i,l){"use strict";var e,s={clock:0,contentGone:-3,contentTooBig:-4,contentUnuploadable:-5,expired:-2,failed:-1,failedRetryable:-9,inactiveReceived:-6,partialOptimistic:-8,played:4,read:3,received:2,senderBackFillSent:-7,sent:1};function u(e){return e>0}function c(t){switch(t){case s.partialOptimistic:return(e||(e=o("LSIntEnum"))).ofNumber(0);case s.clock:return(e||(e=o("LSIntEnum"))).ofNumber(1);case s.sent:case s.received:case s.read:case s.played:return(e||(e=o("LSIntEnum"))).ofNumber(2);case s.failedRetryable:return(e||(e=o("LSIntEnum"))).ofNumber(5);default:return(e||(e=o("LSIntEnum"))).ofNumber(4)}}function d(t){switch(t){case s.partialOptimistic:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").NONE);case s.clock:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").SENDING_TO_SERVER);case s.sent:case s.received:case s.read:case s.played:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").SERVER_RECEIVED);case s.failedRetryable:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").RETRIABLE_ERROR);default:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").NON_RETRIABLE_ERROR)}}l.ACK=s,l.isMsgAuthoritative=u,l.levelToMessagingSendStatusV2=c,l.levelToMessagingSendStatus=d}),98);
__d("MAWAdminAddParticipantMsg",["MAWLocalizationType","MAWUserJidWrapper","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e=1;function s(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU};case 2:return{adminMsgContent:[t,n],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER};default:return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS}}}function u(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT};case 2:return{adminMsgContent:[t,n],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS};default:return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS}}}function c(e,t,n,r){switch(e){case 1:return{adminMsgContent:[t,n],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER};case 2:return{adminMsgContent:[t,n,r],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER}}return{adminMsgContent:[t,n,(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER}}function d(e,t){switch(e){case 1:return{adminMsgContent:[],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU};case 2:return{adminMsgContent:[t],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER}}return{adminMsgContent:[(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER}}function m(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER};case 2:return{adminMsgContent:[t,n],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER}}return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER}}function p(e,t){var n=o("MAWUserJidWrapper").getMyUserJid(),r=t[0],a=t[1],i=o("WAJids").userIdFromJid(r),l=a!=null?o("WAJids").userIdFromJid(a):"";if(e==null)return t.includes(n)?d(t.length,r===n?l:i):m(t.length,i,l);if(e===n)return u(t.length,i,l);var p=o("WAJids").userIdFromJid(e);return t.includes(n)?s(t.length,p,r===n?l:i):c(t.length,p,i,l)}function _(t,n){return babelHelpers.extends({},p(t,n),{version:e})}l.createAddParticipantsAdminMessage=_}),98);
__d("WAAckLevel",[],(function(t,n,r,o,a,i){"use strict";var e={SENDER_BACKFILL_SENT:-7,INACTIVE_RECEIVED:-6,CONTENT_UNUPLOADABLE:-5,CONTENT_TOO_BIG:-4,CONTENT_GONE:-3,EXPIRED:-2,FAILED:-1,CLOCK:0,SENT:1,RECEIVED:2,READ:3,PLAYED:4};i.ACK=e}),66);
__d("MAWAdminMsgHelpers",["MAWCreateParticipantAdminMsg","MAWExternalId","MAWRemoveParticipantAdminMsg","WAAckLevel","WAGlobals","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e="Facebook User",s=1;function u(t){return t==null||t===""?e:t}function c(t){return t!=null?o("WAJids").userIdFromJid(t):e}function d(e,t,n,r){return{ack:o("WAAckLevel").ACK.SENT,id:{author:o("WAJids").AUTHOR_SYSTEM,chat:e,externalId:o("MAWExternalId").generateExternalId()},msgContent:o("MAWCreateParticipantAdminMsg").createParticipantAdminMessage(n==="@me"?o("WAGlobals").getMyUserJid():n,t),serverTs:r,ts:r,type:"Admin"}}function m(e,t,n,r){return{ack:o("WAAckLevel").ACK.SENT,id:{author:o("WAJids").AUTHOR_SYSTEM,chat:e,externalId:o("MAWExternalId").generateExternalId()},msgContent:o("MAWRemoveParticipantAdminMsg").removeParticipantAdminMessage(n==="@me"?o("WAGlobals").getMyUserJid():n,t),serverTs:r,ts:r,type:"Admin"}}function p(e,t){return babelHelpers.extends({},_(e,t),{version:s})}function _(e,t){var n,r=o("WAGlobals").getMyUserJid(),a=t==="@me"?r:t;if(a===r)n={adminMsgContent:[o("WAJids").userIdFromJid(e)],adminType:"currentUserPromotedParticipant"};else if(a==null)n=e===r?{adminMsgContent:[],adminType:"currentUserGotPromoted"}:{adminMsgContent:[o("WAJids").userIdFromJid(e)],adminType:"participantGotPromoted"};else{var i=o("WAJids").userIdFromJid(a);n=e===r?{adminMsgContent:[i],adminType:"participantPromotedYou"}:{adminMsgContent:[i,o("WAJids").userIdFromJid(e)],adminType:"participantPromotedParticipant"}}return n}function f(e,t,n,r){var a=_(t,n);return{ack:o("WAAckLevel").ACK.SENT,id:{author:o("WAJids").AUTHOR_SYSTEM,chat:e,externalId:o("MAWExternalId").generateExternalId()},msgContent:a,serverTs:r,ts:r,type:"Admin"}}function g(e,t){return babelHelpers.extends({},h(e,t),{version:s})}function h(e,t){var n,r=o("WAGlobals").getMyUserJid(),a=t==="@me"?r:t;if(a===r)n=e===r?{adminMsgContent:[],adminType:"currentUserSelfDemoted"}:{adminMsgContent:[o("WAJids").userIdFromJid(e)],adminType:"currentUserDemotedParticipant"};else if(a==null)n=e===r?{adminMsgContent:[],adminType:"currentUserGotDemoted"}:{adminMsgContent:[o("WAJids").userIdFromJid(e)],adminType:"participantGotDemoted"};else{var i=o("WAJids").userIdFromJid(a);n=e===r?{adminMsgContent:[i],adminType:"participantDemotedYou"}:{adminMsgContent:[i,o("WAJids").userIdFromJid(e)],adminType:a===e?"participantSelfDemoted":"participantDemotedParticipant"}}return n}function y(e,t,n,r){var a=h(t,n);return{ack:o("WAAckLevel").ACK.SENT,id:{author:o("WAJids").AUTHOR_SYSTEM,chat:e,externalId:o("MAWExternalId").generateExternalId()},msgContent:a,serverTs:r,ts:r,type:"Admin"}}function C(e,t,n,r){var a,i=[],l=t.subject.content;if(l!=null)return t.subject.user===o("WAGlobals").getMyUserJid()?(a="currentUserNamedGroup",i.push(l)):n==null?(a="unkonwnUserNamedGroup",i.push(l)):(a="participantNamedGroup",i.push(n,l)),{ack:o("WAAckLevel").ACK.SENT,id:{author:o("WAJids").AUTHOR_SYSTEM,chat:e,externalId:o("MAWExternalId").generateExternalId()},msgContent:{adminMsgContent:i,adminType:a},serverTs:r,ts:r,type:"Admin"}}function b(e,t){var n=v(e,t);if(n!=null)return babelHelpers.extends({},n,{version:s})}function v(e,t){var n,r=[];if(e===o("WAGlobals").getMyUserJid())switch(t){case"all_member_add":n="currentUserSetAddModeAllMembers";break;case"admin_add":n="currentUserSetAddModeAdminOnly";break}else if(e!=null)switch(r.push(o("WAJids").userIdFromJid(e)),t){case"all_member_add":n="participantSetAddModeAllMembers";break;case"admin_add":n="participantSetAddModeAdminOnly";break}else switch(t){case"all_member_add":n="serverSetAddModeAllMembers";break;case"admin_add":n="serverSetAddModeAdminOnly";break}if(n!=null)return{adminMsgContent:r,adminType:n}}function S(e,t,n,r){var a=v(n,t);if(a!=null)return{ack:o("WAAckLevel").ACK.SENT,id:{author:o("WAJids").AUTHOR_SYSTEM,chat:e,externalId:o("MAWExternalId").generateExternalId()},msgContent:a,serverTs:r,ts:r,type:"Admin"}}l.UNKNOWN_USER=e,l.maybeUnknownParticipantName=u,l.createAdminMsgContactId=c,l.createParticipantAddAdminMessage=d,l.createParticipantRemoveAdminMsg=m,l.createParticipantPromoteAdminMessage=p,l.createParticipantPromoteAdminMsg=f,l.createParticipantDemoteAdminMessage=g,l.createParticipantDemoteAdminMsg=y,l.createGroupNameChangeAdminMsg=C,l.createMemberAddModeChangeAdminMessage=b,l.createMemberAddModeChangeAdminMsg=S}),98);
__d("MAWCreateParticipantAdminMsg",["MAWAdminMsgHelpers","WAGlobals"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:"participantAddedYou"};case 2:return{adminMsgContent:[t,n],adminType:"participantAddedYouAndOneUser"};default:return{adminMsgContent:[t,e.toString()],adminType:"participantAddedYouAndMoreThanOneUsers"}}}function s(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:"currentUserAddedOneParticipant"};case 2:return{adminMsgContent:[t,n],adminType:"currentUserAddedTwoParticipant"};default:return{adminMsgContent:[t,e.toString()],adminType:"currentUserAddedMoreThanTwoParticipant"}}}function u(e,t,n,r){switch(e){case 1:return{adminMsgContent:[t,n],adminType:"participantAddedOneUser"};case 2:return{adminMsgContent:[t,n,r],adminType:"participantAddedTwoUser"}}return{adminMsgContent:[t,n,e.toString()],adminType:"participantAddedMoreThanTwoUser"}}function c(t,n,r,a){var i=a==null?n.map(o("MAWAdminMsgHelpers").createAdminMsgContactId):a,l=i[0],c=i[1],d=r==null?o("MAWAdminMsgHelpers").createAdminMsgContactId(t):o("MAWAdminMsgHelpers").maybeUnknownParticipantName(r);return t===o("WAGlobals").getMyUserJid()?s(n.length,o("MAWAdminMsgHelpers").maybeUnknownParticipantName(l),o("MAWAdminMsgHelpers").maybeUnknownParticipantName(c)):n.includes(o("WAGlobals").getMyUserJid())?e(n.length,o("MAWAdminMsgHelpers").maybeUnknownParticipantName(d),o("MAWAdminMsgHelpers").maybeUnknownParticipantName(n[0]===o("WAGlobals").getMyUserJid()?c:l)):u(n.length,d,o("MAWAdminMsgHelpers").maybeUnknownParticipantName(l),o("MAWAdminMsgHelpers").maybeUnknownParticipantName(c))}l.createParticipantAdminMessage=c}),98);
__d("MAWRemoveParticipantAdminMsg",["MAWAdminMsgHelpers","WAGlobals"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:"participantRemovedYou"};case 2:return{adminMsgContent:[t,n],adminType:"participantRemovedYouAndOneUser"};default:return{adminMsgContent:[t,e.toString()],adminType:"participantRemovedYouAndMoreThanOneUsers"}}}function s(e,t,n,r){switch(e){case 1:return r?{adminMsgContent:[],adminType:"currentUserLeftGroup"}:{adminMsgContent:[t],adminType:"currentUserRemovedOneParticipant"};case 2:return{adminMsgContent:[t,n],adminType:"currentUserRemovedTwoParticipant"};default:return{adminMsgContent:[t,e.toString()],adminType:"currentUserRemovedMoreThanTwoParticipant"}}}function u(e,t,n,r,o){switch(e){case 1:return o?{adminMsgContent:[t],adminType:"participantLeftGroup"}:{adminMsgContent:[t,n],adminType:"participantRemovedOneUser"};case 2:return{adminMsgContent:[t,n,r],adminType:"participantRemovedTwoUser"}}return{adminMsgContent:[t,n,e.toString()],adminType:"participantRemovedMoreThanTwoUser"}}function c(t,n,r,a){var i=a==null?n.map(o("MAWAdminMsgHelpers").createAdminMsgContactId):a,l=i[0],c=i[1],d=r==null?o("MAWAdminMsgHelpers").createAdminMsgContactId(t):o("MAWAdminMsgHelpers").maybeUnknownParticipantName(r);return t===o("WAGlobals").getMyUserJid()?s(n.length,o("MAWAdminMsgHelpers").maybeUnknownParticipantName(l),o("MAWAdminMsgHelpers").maybeUnknownParticipantName(c),n[0]===o("WAGlobals").getMyUserJid()):n.includes(o("WAGlobals").getMyUserJid())?e(n.length,d,o("MAWAdminMsgHelpers").maybeUnknownParticipantName(n[0]===o("WAGlobals").getMyUserJid()?c:l)):u(n.length,d,o("MAWAdminMsgHelpers").maybeUnknownParticipantName(l),o("MAWAdminMsgHelpers").maybeUnknownParticipantName(c),n[0]===t)}l.removeParticipantAdminMessage=c}),98);
__d("MAWAdminMsgNormalized",["MAWLocalizationType"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){switch(e){case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:return{contactIds:t,contents:[]};case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:{var n=t[0],r=t[1];return{contactIds:[n],contents:[r]}}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:{var a=t[0],i=t[1],l=t[2];return{contactIds:[a,i],contents:[l]}}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:{var s=t[0],u=t[1],c=t[2];return{contactIds:[s],contents:[u,c]}}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION:{var d=t[0],m=t[1],p=t[2];return{contactIds:[d],contents:[m]}}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:{var _=t[0],f=t[1],g=t[2],h=t[3];return{contactIds:[_],contents:[f,g]}}case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE:case o("MAWLocalizationType").LOCALIZATION_TYPE.POLL_UNSENT_UPDATE:default:return{contactIds:[],contents:t}}}l.deconstructContactIdsFromAdminContent=e}),98);
__d("MAWAdminMsgTypesGrouped",["MAWLocalizationType"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[(e=o("MAWLocalizationType")).LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE,e.LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE,e.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE],u=[e.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME,e.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD,e.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN],c=[e.LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE,e.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE,e.LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE,e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE,e.LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE],d=[e.LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS,e.LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT,e.LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS,e.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS,e.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT,e.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_TWO_PARTICIPANTS],m=[e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER,e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER,e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER,e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU,e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS,e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MORE_THAN_TWO_USER,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_TWO_USER,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU,e.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_MORE_THAN_TWO_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_ONE_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_TWO_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_YOU,e.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_YOU_AND_ONE_USER],p=[e.LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT,e.LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT,e.LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT,e.LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT,e.LOCALIZATION_TYPE.CURRENT_USER_GOT_DEMOTED,e.LOCALIZATION_TYPE.CURRENT_USER_GOT_PROMOTED,e.LOCALIZATION_TYPE.CURRENT_USER_SELF_DEMOTED,e.LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED,e.LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED,e.LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU,e.LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU,e.LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED,e.LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY,e.LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS,e.LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY,e.LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS,e.LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ADMIN_ONLY,e.LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ALL_MEMBERS],_=[e.LOCALIZATION_TYPE.CURRENT_USER_LEFT_GROUP,e.LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP],f=[e.LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP,e.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE,e.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME,e.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO,e.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME,e.LOCALIZATION_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME,e.LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME,e.LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME,e.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME],g=[e.LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP,e.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME,e.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE,e.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME,e.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO,e.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME,e.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME,e.LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP,e.LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME,e.LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME,e.LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME,e.LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME],h=[e.LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE,e.LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE,e.LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE,e.LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE],y=[e.LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED,e.LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED,e.LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED,e.LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED],C=[e.LOCALIZATION_TYPE.TWO_USERS_CONNECTED,e.LOCALIZATION_TYPE.TWO_USERS_CONNECTED_ONE_MSPLIT],b=[e.LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK],v=[e.LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK,e.LOCALIZATION_TYPE.RTC_XMA_FALLBACK],S=[e.LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE,e.LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE],R=[e.LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE,e.LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE,e.LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE],L=[e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS,e.LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET],E=[e.LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE,e.LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE],k=[e.LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL,e.LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL,e.LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_AUDIO_CALL,e.LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_VIDEO_CALL],I=[e.LOCALIZATION_TYPE.CURRENT_USER_AUDIO_CALLED,e.LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_AUDIO_CALL,e.LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_VIDEO_CALL,e.LOCALIZATION_TYPE.CURRENT_USER_VIDEO_CALLED,e.LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL,e.LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL,e.LOCALIZATION_TYPE.PARTICIPANT_AUDIO_CALLED,e.LOCALIZATION_TYPE.PARTICIPANT_VIDEO_CALLED],T=[e.LOCALIZATION_TYPE.CURRENT_USER_CREATED_GROUP,e.LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG,e.LOCALIZATION_TYPE.CURRENT_USER_SENT_EVENT,e.LOCALIZATION_TYPE.CURRENT_USER_SENT_POST,e.LOCALIZATION_TYPE.CURRENT_USER_SENT_REEL,e.LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY,e.LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY_HIGHLIGHT,e.LOCALIZATION_TYPE.CURRENT_USER_RECEIVED_STORY_MENTION_IG,e.LOCALIZATION_TYPE.UNAVAILABLE_SNIPPET,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT,e.LOCALIZATION_TYPE.CURRENT_USER_UNSENT_MESSAGE],D=[e.LOCALIZATION_TYPE.PARTICIPANT_CREATED_GROUP,e.LOCALIZATION_TYPE.UNKNOWN_USER_CREATED_GROUP,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_ATTACHMENT,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_AUDIO,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_GIF,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_IMAGE,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_VIDEO,e.LOCALIZATION_TYPE.PARTICIPANT_SENT_EVENT,e.LOCALIZATION_TYPE.PARTICIPANT_SENT_POST,e.LOCALIZATION_TYPE.PARTICIPANT_SENT_REEL,e.LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY,e.LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY_HIGHLIGHT,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT,e.LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE,e.LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE_IN_GROUP,e.LOCALIZATION_TYPE.PARTICIPANT_UNSENT_MESSAGE,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT],x=[e.LOCALIZATION_TYPE.EMPTY_SNIPPET];l.cutoverAdminMsgs=s,l.dualThreadCutoverAdminMsgs=u,l.deviceChanges=c,l.currentUserAddRemoveParticipant=d,l.otherUserAddRemoveParticipant=m,l.groupPermissionsChanged=p,l.participantLeftGroup=_,l.chatCustomizedByCurrentUser=f,l.chatCustomizedByOtherUser=g,l.pinnedMessageUpdate=h,l.limitSharingUpdate=y,l.twoUsersConnected=C,l.fallbackMsgFromCurrentUser=b,l.fallbackMsgFromOtherUser=v,l.currentUserBumpsMessage=S,l.otherUserBumpsMessage=R,l.ephemeralSettingChanges=L,l.icdcAlerts=E,l.callActionToNotifyAbout=k,l.callActionNotToNotifyAbout=I,l.otherNonAdminMsgToBeBumped=T,l.otherNonAdminMsgToBeMarkedAsUnread=D,l.otherNonAdminMsgToNotTriggerUpdate=x}),98);
__d("MAWAdminRemoveParticipantMsg",["MAWAdminMsgType","MAWUserJidWrapper","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e=1;function s(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU};case 2:return{adminMsgContent:[t,n],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER};default:return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS}}}function u(e,t,n,r){switch(e){case 1:return r?{adminMsgContent:[],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LEFT_GROUP}:{adminMsgContent:[t],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT};case 2:return{adminMsgContent:[t,n],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_TWO_PARTICIPANTS};default:return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS}}}function c(e,t,n,r,a){switch(e){case 1:return a?{adminMsgContent:[t],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LEFT_GROUP}:{adminMsgContent:[t,n],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_ONE_USER};case 2:return{adminMsgContent:[t,n,r],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_TWO_USER}}return{adminMsgContent:[t,n,(e-1).toString()],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_MORE_THAN_TWO_USER}}function d(e,t){var n=o("MAWUserJidWrapper").getMyUserJid(),r=t[0],a=t[1],i=o("WAJids").userIdFromJid(r),l=a!=null?o("WAJids").userIdFromJid(a):"";if(e==null)return t.includes(n)?{adminMsgContent:[],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_REMOVED_YOU}:{adminMsgContent:[i],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_REMOVED_ONE_USER};if(e===n)return u(t.length,i,l,r===n);var d=o("WAJids").userIdFromJid(e);return t.includes(n)?s(t.length,d,r===n?l:i):c(t.length,d,i,l,r===e)}function m(t,n){return babelHelpers.extends({},d(t,n),{version:e})}l.createRemoveParticipantsAdminMessage=m}),98);
__d("MAWAdminWriteGroupNameChangeAdminMsgContent",["MAWAdminMsgType","MAWUserJidWrapper","WAJids"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("MAWUserJidWrapper").getMyUserJid(),r,a=[];return e===n?(r=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_NAMED_GROUP,a.push(t)):e==null?(r=o("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_NAMED_GROUP,a.push(t)):(r=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_NAMED_GROUP,a.push(o("WAJids").userIdFromJid(e),t)),{adminMsgContent:a,adminType:r,version:1}}l.getAdminMsgContent=e}),98);
__d("MsgrWebGating",["MAWMpsGating","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("15418")||o("MAWMpsGating").isMpsMessageRendering()}l.isQuotedMessagesInLsEnabled=e}),98);
__d("getReplyContentForNoteReply",["WAJids"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r,a=e.author,i=e.msgId,l=o("WAJids").authorToUserId(a,t),s=(n=e.quote)==null||(n=n.content.msgContent)==null?void 0:n.content,u=(r=e.quote)==null?void 0:r.content.expirationTs;return{isNoteReply:!0,replyMediaExpirationTimestampMs:u!=null?u*1e3:void 0,replyMessageText:s,replySourceId:i,replyToUserId:l}}l.default=e}),98);
__d("MAWBridgeMsg",["FBLogger","LSHotEmojiSize","LSIntEnum","MAWDbMsg","MAWImageUtils","MAWMsgType","MAWUserJidWrapper","MAWVault","MAWXMAUtils","MWPBumpEntityKey","MsgrWebGating","WAAssertUnreachable","WAHashUtils","WAJids","WALogger","WAMsgType","WATimeUtils","getReplyContentForNoteReply","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){var n;if(o("MsgrWebGating").isQuotedMessagesInLsEnabled()){if(e.isForwarded===!0&&e.type!==o("MAWMsgType").MSG_TYPE.STICKER)return{replyType:"FORWARD"};if(o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(e.xmaMessageType))return{replyToMsgId:e.msgId,replyToUserId:o("WAJids").authorToUserId(e.author,t),replyType:"HIGHLIGHTS_TAB_POST_REPLY",timestampMs:e.sortOrderMs!=null?o("WATimeUtils").castToMillisTime(e.sortOrderMs):null};if(o("MAWXMAUtils").isXMAStoryMention(e.xmaMessageType)||o("MAWXMAUtils").isFBXMAPostMention(e.xmaMessageType)){var r=e.threadJid,a=o("WAJids").interpretAsUserJid(r),i;return a!=null&&(i=o("WAJids").userIdFromJid(a)),o("MAWXMAUtils").isFBXMAPostMention(e.xmaMessageType)?{mentionedUserId:i!=null?i:t,replyType:"FB_POST_MENTION",timestampMs:e.sortOrderMs!=null?o("WATimeUtils").castToMillisTime(e.sortOrderMs):null}:{mentionedUserId:i!=null?i:t,replyType:"FB_STORY_MENTION",timestampMs:e.sortOrderMs!=null?o("WATimeUtils").castToMillisTime(e.sortOrderMs):null}}if(!(o("MAWXMAUtils").isXMAStoryShare(e.xmaMessageType)||o("MAWXMAUtils").isXMAStoryReaction(e.xmaMessageType)||o("MAWXMAUtils").isXMAStoryHighlightShare(e.xmaMessageType)||o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(e.xmaMessageType))){var l=(n=e.quote)==null?void 0:n.content;if(l!=null){var s=l.author,u=l.expirationTs,c=l.mediaId,d=l.msgContent,m=l.msgId,p=l.plaintextHash,_=l.sourceId,f=l.ts,g=l.type,h=l.xmaMessageType,y=o("WAJids").authorToUserId(s,t);if(g===o("WAMsgType").NOTE_REPLY)return{noteContent:d==null?void 0:d.content,replyMediaExpirationTimestampMs:u!=null?o("WATimeUtils").castToMillisTime(u*1e3):void 0,replyToMsgId:e.msgId,replyToUserId:y,replyType:"LIGHTWEIGHT_STATUS"};if(g===o("MAWMsgType").MSG_TYPE.XMA&&o("MAWXMAUtils").isXMAStoryReply(h)){if(_==null)return;var C=o("MAWXMAUtils").isXMAStoryProducerReply(h);return C?{replyType:"FB_PRODUCER_STORY_REPLY",storyMediaId:c!=null?c:void 0,storyMediaPlaintextHash:p,storyMsgType:c!=null?o("MAWMsgType").MSG_TYPE.IMAGE:void 0,storyOwnerId:y,storyUrl:_,timestampMs:f!=null?o("WATimeUtils").castUnixTimeToMillisTime(f):null}:{replyType:"STORY",storyMediaPlaintextHash:p,storyOwnerId:y,storyUrl:_,timestampMs:f!=null?o("WATimeUtils").castUnixTimeToMillisTime(f):null}}if(m!=null)return{isBumpMsg:e.type===o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE,replyToMsgId:m,replyType:"MESSAGE"}}}}}function c(e,t,n){var a,i,l,s=((a=e.quote)==null?void 0:a.content.type)===o("WAMsgType").NOTE_REPLY;if(s)return r("getReplyContentForNoteReply")(e,n);var u=(i=e.quote)==null?void 0:i.content;if(o("MAWXMAUtils").isXMAStoryShare(e.xmaMessageType)||o("MAWXMAUtils").isXMAStoryReaction(e.xmaMessageType)||o("MAWXMAUtils").isXMAStoryMention(e.xmaMessageType)||o("MAWXMAUtils").isXMAStoryHighlightShare(e.xmaMessageType)||o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(e.xmaMessageType)||o("MAWXMAUtils").isFBXMAPostMention(e.xmaMessageType)){var c,d=e.author,m=e.mediaId,p=e.msgId,_=o("WAJids").authorToUserId(d,n);if(o("MAWXMAUtils").isXMAStoryMention(e.xmaMessageType)||o("MAWXMAUtils").isFBXMAPostMention(e.xmaMessageType)){var f=e.threadJid,g;f!=null&&(g=o("WAJids").interpretAsUserJid(f)),g!=null&&(_=o("WAJids").userIdFromJid(g))}return m!=null&&e.plaintextHash==null&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","bridge_msg_get_reply_content"),{isFBPostMention:o("MAWXMAUtils").isFBXMAPostMention(e.xmaMessageType),isFBStoryMention:o("MAWXMAUtils").isFBXMAStoryMention(e.xmaMessageType),isIGStoryMention:o("MAWXMAUtils").isIGXMAStoryMention(e.xmaMessageType),isIGXMAStoryShare:o("MAWXMAUtils").isIGXMAStoryShare(e.xmaMessageType),isMsgHighlightsTabFriendUpdatesReply:o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(e.xmaMessageType),isStoryHighlightShare:o("MAWXMAUtils").isXMAStoryHighlightShare(e.xmaMessageType),isStoryReaction:o("MAWXMAUtils").isXMAStoryReaction(e.xmaMessageType),isStoryReply:o("MAWXMAUtils").isXMAStoryReply(e.xmaMessageType),replyMediaExpirationTimestampMs:u==null?void 0:u.expirationTs,replyMediaId:m,replyPlaintextHash:(c=e.plaintextHash)!=null?c:void 0,replySenderIsMe:d===o("WAJids").AUTHOR_ME||_===n,replySourceId:p,replySourceTimestampMs:e.sortOrderMs,replyStatusType:m!=null?o("MAWMsgType").MSG_TYPE.IMAGE:void 0,replyToUserId:_}}if(!(u==null||(u==null?void 0:u.msgId)==null&&(u==null?void 0:u.sourceId)==null)){var h=u||{},y=h.author,C=h.mediaId,b=h.msgId,v=h.plaintextHash,S=h.sourceId,R=h.specialTextSize,L=h.ts,E=h.type,k=h.xmaMessageType,I=L!=null?L*1e3:void 0,T=u.type===o("MAWMsgType").MSG_TYPE.TEXT||o("MAWXMAUtils").isXMAExternalLinkShare(k)?(l=u.msgContent)==null?void 0:l.content:void 0,D=o("WAJids").authorToUserId(y,n),x=u.type===o("MAWMsgType").MSG_TYPE.TEXT?u.msgContent.mentionedJids:void 0,$=y===o("WAJids").AUTHOR_ME||D===n,P=t||{},N=P.replyMediaId,M=P.replyMediaPreviewHeight,w=P.replyMediaPreviewWidth,A=P.replyMediaUrlFallback,F=P.replyPlaintextHash,O=P.replyXMAId;if(o("MAWXMAUtils").isXMAStoryReply(k)){var B;return{isStoryProducerReply:o("MAWXMAUtils").isXMAStoryProducerReply(k),isStoryReaction:o("MAWXMAUtils").isXMAStoryReaction(k),isStoryReply:!0,replyMediaExpirationTimestampMs:u==null?void 0:u.expirationTs,replyMediaId:C,replyPlaintextHash:(B=F!=null?o("WAHashUtils").stringToPlaintextHash(F):v)!=null?B:void 0,replySenderIsMe:$,replySourceId:S,replySourceTimestampMs:I,replyStatusType:C!=null?o("MAWMsgType").MSG_TYPE.IMAGE:void 0,replyToUserId:D}}var W=o("MAWImageUtils").boundHeightWidth(M,w,96*.8),q=W.height,U=W.width;return{isIGXMAPostShare:o("MAWXMAUtils").isIGXMAPostShare(k),isIGXMAStoryShare:o("MAWXMAUtils").isIGXMAStoryShare(k),isStoryReply:!1,replyMediaId:N,replyMediaPreviewHeight:E===o("MAWMsgType").MSG_TYPE.STICKER?q:M,replyMediaPreviewWidth:E===o("MAWMsgType").MSG_TYPE.STICKER?U:w,replyMediaUrlFallback:A,replyMentionedJids:x,replyMessageText:T,replyPlaintextHash:F!=null?o("WAHashUtils").stringToPlaintextHash(F):void 0,replySenderIsMe:$,replySourceId:b,replySourceTimestampMs:I,replyStatusType:R===1||R===2||R===3?o("MAWMsgType").MSG_TYPE.STICKER:E,replyToUserId:D,replyXMAId:O}}}function d(e){var t=e.specialTextSize;switch(t){case 1:return(s||(s=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL);case 2:return(s||(s=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM);case 3:return(s||(s=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE);default:return(s||(s=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").NONE)}}function m(e){if(r("justknobx")._("3424")&&e==="media_restore")return"EncryptedBackupsMedia";switch(e){case"eb_restore":return"EncryptedBackups";case"media_restore":return"EncryptedBackupsMedia";case"whatsapp":return"WhatsApp";default:return}}function p(t,n,a){var i,l,s,d,p=o("WAJids").extractUserId(o("MAWUserJidWrapper").getMyUserJid()),_=((i=t.isForwarded)!=null?i:!1)&&t.type!==o("MAWMsgType").MSG_TYPE.STICKER,f=(l=t.forwardingScore)!=null?l:0,g=o("MAWDbMsg").getCanonicalTsFromMsg(t),h=c(t,n,p),y=u(t,p),C=o("MAWXMAUtils").isXMAStoryShare(t.xmaMessageType),b=o("MAWXMAUtils").isXMAStoryReaction(t.xmaMessageType),v=o("MAWXMAUtils").isXMAExternalLinkShare(t.xmaMessageType),S=o("MAWXMAUtils").isIGXMAStoryMention(t.xmaMessageType),R=o("MAWXMAUtils").isFBXMAStoryMention(t.xmaMessageType),L=o("MAWXMAUtils").isXMAStoryHighlightShare(t.xmaMessageType),E=o("MAWXMAUtils").isXMAPostPrivateReply(t.xmaMessageType),k=o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(t.xmaMessageType),I=t.messageExpirationTs!=null&&t.messageExpirationTs<=o("WATimeUtils").unixTime(),T=o("MAWDbMsg").getSortOrderWithFallback(t),D=t.externalId,x=m(t.source);(n==null?void 0:n.replyPlaintextHash)!==(h==null?void 0:h.replyPlaintextHash)&&r("FBLogger")("messenger_web").warn("replyPlaintextHash mismatch. From replyMeta is null: %s, from replyContent is null: %s. Message type: %s",(n==null?void 0:n.replyPlaintextHash)==null,(h==null?void 0:h.replyPlaintextHash)==null,t.type);var $=(n==null?void 0:n.replyPlaintextHash)!=null?o("WAHashUtils").stringToPlaintextHash(n==null?void 0:n.replyPlaintextHash):(s=h==null?void 0:h.replyPlaintextHash)!=null?s:void 0;switch(t.type){case o("MAWMsgType").MSG_TYPE.TEXT:{var P,N=o("MAWVault").isVaulted(t.msgContent.content)?t.msgContent.content:o("MAWVault").vault(t.msgContent.content);return babelHelpers.extends({},h,{_META_loaded_as_quoted_msg:a,ack:t.ack,applicationErrorCode:t.applicationErrorCode,chatJid:t.threadJid,commands:t.msgContent.commands,content:N,editCount:t.editCount,ephemeralDurationInSec:(P=t.ephemeralSetting)==null?void 0:P.ephemeralExpirationInSec,externalId:D,forwardingScore:f,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,mentionedJids:t.msgContent.mentionedJids,msgId:t.msgId,replyContent:y,replyPlaintextHash:$,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,specialTextSize:t.specialTextSize,transportKey:x,ts:g,type_:t.type})}case o("MAWMsgType").MSG_TYPE.IMAGE:case o("MAWMsgType").MSG_TYPE.VIDEO:case o("MAWMsgType").MSG_TYPE.PTT:case o("MAWMsgType").MSG_TYPE.GIF:case o("MAWMsgType").MSG_TYPE.STICKER:case o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case o("MAWMsgType").MSG_TYPE.RAVEN:case o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return babelHelpers.extends({},h,{_META_loaded_as_quoted_msg:a,ack:t.ack,applicationErrorCode:t.applicationErrorCode,chatJid:t.threadJid,ephemeralDurationInSec:(d=t.ephemeralSetting)==null?void 0:d.ephemeralExpirationInSec,externalId:D,forwardingScore:f,groupId:t.groupId,groupIndex:t.groupIndex,groupSize:t.groupSize,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,replyContent:y,replyPlaintextHash:$,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type});case o("MAWMsgType").MSG_TYPE.FUTUREPROOF:return babelHelpers.extends({},h,{_META_loaded_as_quoted_msg:a,ack:t.ack,chatJid:t.threadJid,externalId:D,forwardingScore:f,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,replyContent:y,replyPlaintextHash:$,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type,unsupportedType:t.msgContent.subtype});case o("MAWMsgType").MSG_TYPE.CIPHERTEXT:return{_META_loaded_as_quoted_msg:a,ack:t.ack,chatJid:t.threadJid,externalId:D,forwardingScore:f,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type};case o("MAWMsgType").MSG_TYPE.UNAVAILABLE:case o("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers.extends({},h,{_META_loaded_as_quoted_msg:a,ack:t.ack,chatJid:t.threadJid,externalId:D,forwardingScore:f,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,replyContent:y,replyPlaintextHash:$,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type});case o("MAWMsgType").MSG_TYPE.ICDC_ALERT:return{_META_loaded_as_quoted_msg:a,ack:t.ack,adminContent:[t.msgContent.authorName],adminType:t.msgContent.adminType,chatJid:t.threadJid,externalId:D,forwardingScore:f,isAdminMessage:!0,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type};case o("MAWMsgType").MSG_TYPE.ADMIN:case o("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case o("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case o("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:case o("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE:{var M,w,A;return{_META_loaded_as_quoted_msg:a,ack:t.ack,adminContent:(M=t.msgContent)==null||(M=M.adminMsgContent)==null?void 0:M.map(function(e){return e==="Facebook User"?"0":e}),adminType:(w=t.msgContent)==null?void 0:w.adminType,adminVersion:(A=t.msgContent)==null?void 0:A.version,chatJid:t.threadJid,externalId:D,forwardingScore:f,isAdminMessage:!0,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type}}case o("MAWMsgType").MSG_TYPE.REVOKED:return{_META_loaded_as_quoted_msg:a,ack:t.ack,chatJid:t.threadJid,externalId:D,forwardingScore:f,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,originalTs:t.originalTs,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type};case o("MAWMsgType").MSG_TYPE.XMA:{var F,O,B,W,q,U=(F=t.msgContent)==null?void 0:F.content,V=U!=null?o("MAWVault").isVaulted(U)?(O=t.msgContent)==null?void 0:O.content:o("MAWVault").vault(U):void 0;v&&V==null&&o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[MAWBridgeMsg] Missing content for external link share XMA message"])));var H=V;return babelHelpers.extends({},h,{_META_loaded_as_quoted_msg:a,ack:t.ack,applicationErrorCode:t.applicationErrorCode,chatJid:t.threadJid,commands:(B=t.msgContent)==null?void 0:B.commands,content:H,ephemeralDurationInSec:(W=t.ephemeralSetting)==null?void 0:W.ephemeralExpirationInSec,externalId:D,forwardingScore:f,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isCollapsed:t.isCollapsed,isExpiredMsg:I,isExpiredXmaMsg:t.isExpiredXmaMsg,isFBPostMention:o("MAWXMAUtils").isFBXMAPostMention(t.xmaMessageType),isFBStoryMention:R,isForwarded:_,isIGStoryMention:S,isMsgHighlightsTabFriendUpdatesReply:k,isPostPrivateReply:E,isStoryHighlightShare:L,isStoryReaction:b,isStoryShare:C,mentionedJids:(q=t.msgContent)==null?void 0:q.mentionedJids,msgId:t.msgId,replyContent:y,replyPlaintextHash:$,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type,xmaMessageType:t.xmaMessageType})}default:return r("WAAssertUnreachable")(t.type)}}l.getSpecialTextSize=d,l.convertDbMsgSourceToLSTransportKey=m,l.createBridgeMsg=p}),98);
__d("MAWBridgeTraceEvent",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["ReceivedReceipt","ReceivedSent","FlowEndForFailure","FlowEndForSuccess"]),l=e;i.default=l}),66);
__d("MAWBridgeUIEventDataValidation",["FBLogger","I64","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){try{return(e||(e=o("I64"))).of_string(t)}catch(e){var n=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(n).mustfix("Cannot convert string to i64: %s",t)}}l.stringToI64Opt=s}),98);
__d("MAWConvertExtendedContentTypeToLSXmaContentType",["LSXmaContentType","WAArmadilloXMA.pb"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)return null;switch(e){case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:return r("LSXmaContentType").FB_FEED_SHARE;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:return r("LSXmaContentType").FB_STORY_REPLY;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:return r("LSXmaContentType").FB_STORY_SHARE;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return r("LSXmaContentType").FB_STORY_MENTION;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:return r("LSXmaContentType").FB_FEED_VIDEO_SHARE;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:return r("LSXmaContentType").FB_GAMING_CUSTOM_UPDATE;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:return r("LSXmaContentType").FB_PRODUCER_STORY_REPLY;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:return r("LSXmaContentType").FB_EVENT;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:return r("LSXmaContentType").FB_FEED_POST_PRIVATE_REPLY;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:return r("LSXmaContentType").MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:return r("LSXmaContentType").FB_SHORT;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:return r("LSXmaContentType").MSG_LOCATION_SHARING;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:return r("LSXmaContentType").MSG_LOCATION_SHARING_V2;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:return r("LSXmaContentType").FB_POST_MENTION;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_REACTION_REPLY:return r("LSXmaContentType").FB_FEED_POST_REACTION_REPLY;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:return r("LSXmaContentType").MSG_CONTACT;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return r("LSXmaContentType").MSG_AI_CONTACT;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:return r("LSXmaContentType").MSG_MEMORIES_SHARE;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:return r("LSXmaContentType").MSG_EXTERNAL_LINK_SHARE;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:return r("LSXmaContentType").RTC_AUDIO_CALL;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:return r("LSXmaContentType").RTC_VIDEO_CALL;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:return r("LSXmaContentType").RTC_MISSED_AUDIO_CALL;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:return r("LSXmaContentType").RTC_MISSED_VIDEO_CALL;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PROFILE_DIRECTORY_ITEM:return r("LSXmaContentType").FB_PROFILE_DIRECTORY_ITEM;default:return null}}l.convertExtendedContentTypeToLSXmaContentType=e}),98);
__d("MAWBridgeXMAUtils",["I64","LSIntEnum","MAWBridgeUIEventDataValidation","MAWConvertExtendedContentTypeToLSXmaContentType","MAWMpsGating","MAWXMAUtils","MNLSXMALayoutType","MNXMAPreviewImageDecorationType","MWPBumpEntityKey","MessagingAttachmentType","Promise","Random","ReQL","WAArmadilloXMA.pb","WAJids","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t,n,r,o,a){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a,i,l,s){var c=r.ctas,d=r.defaultCTA,m=p(r.targetId,r.targetType),f=(u||(u=o("I64"))).of_int32(o("Random").uint32());if(d!=null){var C=g(d,f,i,a,l,m,r.targetType);yield y(t,C,f,s.defaultCta)}var b=o("MAWXMAUtils").isFBXMAPostMention(r.targetType)&&r.author===o("WAJids").AUTHOR_ME,v=[];return c!=null&&!b&&(v=yield(e||(e=n("Promise"))).all(c.map(function(e,n){var r=_(f,n),o=h(e,r,i,a,l,m),u=n===0?s.attachmentCta1:n===1?s.attachmentCta2:n===2?s.attachmentCta3:void 0;return y(t,o,r,u)}))),{attachmentCta1Id:v.length>0?v[0]:void 0,attachmentCta2Id:v.length>1?v[1]:void 0,attachmentCta3Id:v.length>2?v[2]:void 0,defaultCtaId:d==null?void 0:f}}),d.apply(this,arguments)}function m(e){var t="xma_web_url";switch(e){case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:t="xma_rtc_audio";break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:t="xma_rtc_video";break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:t="xma_rtc_missed_audio";break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:t="xma_rtc_missed_video";break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:t="igd_web_post_share";break}return t}function p(e,t){if(!o("MAWXMAUtils").isFBXMAPostMention(t))return e!=null?o("MAWBridgeUIEventDataValidation").stringToI64Opt(e):void 0}function _(e,t){return(u||(u=o("I64"))).add(e,u.of_int32(t+1))}function f(e,t,n,r,a,i,l){var s;l===void 0&&(l="xma_web_url");var c=e.actionUrl,d=e.nativeUrl;return{actionContentBlob:void 0,actionUrl:c!=null?c:d,attachmentFbid:a,attachmentIndex:(u||(u=o("I64"))).zero,ctaId:t,enableExtensions:!1,extensionHeightType:void 0,messageId:n,nativeUrl:d!=null?d:c,platformToken:void 0,targetId:i!=null?i:void 0,threadKey:r,title:(s=e.title)!=null?s:"Tap to view status update",type_:l!=null?l:"xma_web_url",urlWebviewType:void 0}}function g(e,t,n,r,o,a,i){var l=m(i);return f(e,t,n,r,o,a,l)}function h(e,t,n,r,o,a){var i;switch(e.ctaType){case"contact_sharing_profile":i="contact_sharing_profile";break;case"contact_sharing_message":i="contact_sharing_message";break}return f(e,t,n,r,o,a,i)}function y(e,t,n,r){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){return r!=null?yield e.attachment_ctas.upsert([r.ctaId],t):yield e.attachment_ctas.add(t),n}),C.apply(this,arguments)}function b(e,t,n){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=null,a={attachmentCta1:void 0,attachmentCta2:void 0,attachmentCta3:void 0,defaultCta:void 0};return r=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.attachments).getKeyRange(t,n)),r!=null&&(a.defaultCta=yield S(e,r.defaultCtaId),a.attachmentCta1=yield S(e,r.attachmentCta1Id),a.attachmentCta2=yield S(e,r.attachmentCta2Id),a.attachmentCta3=yield S(e,r.attachmentCta3Id)),[r,a]}),v.apply(this,arguments)}function S(t,r){return r==null?(e||(e=n("Promise"))).resolve(void 0):o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.attachment_ctas).getKeyRange(r))}function R(e,t,n,a,i,l,c,d,m){var p,_,f,g,h,y,C,b,v=(u||(u=o("I64"))).zero,S=L(e),R=o("MAWConvertExtendedContentTypeToLSXmaContentType").convertExtendedContentTypeToLSXmaContentType(e.targetType),D=R?(u||(u=o("I64"))).of_int32(R):void 0,x=(p=e==null||(_=e.defaultCTA)==null?void 0:_.actionUrl)!=null?p:e==null||(f=e.defaultCTA)==null?void 0:f.nativeUrl;e.defaultPreviewMediaId!=null&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_xma_handler","xma_preview_media_has_plaintext_hash."+m+"."+e.targetType+"."+(e.defaultPreviewMediaPlaintextHash!=null?"true":"false"));var $=o("MAWMpsGating").isMpsMessageRendering();return{accessibilitySummaryText:void 0,actionUrl:x!=null?x:void 0,attachmentCta1Id:i,attachmentCta2Id:l,attachmentCta3Id:c,attachmentFbid:n,attachmentIndex:u.zero,attachmentLoggingType:void 0,attachmentType:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA),attributionAppIcon:void 0,attributionAppIconFallback:void 0,attributionAppIconUrlExpirationTimestampMs:void 0,attributionAppId:void 0,attributionAppName:void 0,authorityLevel:u.zero,avatarCount:void 0,avatarViewAccessibilityLabel:void 0,avatarViewSize:void 0,avatarViewTitleList:void 0,avatarViewUrlExpirationTimestampList:void 0,avatarViewUrlFallbackList:void 0,avatarViewUrlList:void 0,captionBodyText:void 0,cta1Title:k(e.ctas,1),cta1Type:E(e.ctas,1),cta2Title:k(e.ctas,2),cta2Type:E(e.ctas,2),cta3Title:k(e.ctas,3),cta3Type:E(e.ctas,3),dashManifest:void 0,decryptionKey:void 0,defaultCtaId:d,defaultCtaTitle:(g=e.defaultCTA)==null?void 0:g.title,defaultCtaType:S.xmaContentType,descriptionText:void 0,ephemeralMediaState:void 0,faviconUrl:void 0,faviconUrlExpirationTimestampMs:void 0,faviconUrlFallback:void 0,filename:void 0,filesize:e.filesize!=null?(u||(u=o("I64"))).of_int32(e.filesize):void 0,gatingTitle:e.overlayTitle,gatingType:e.overlayIconGlyph!=null?String(e.overlayIconGlyph):void 0,hasMedia:e.hasMedia!=null?e.hasMedia:!1,hasXma:!0,hasXmaFavicon:$?e.faviconPlaintextHash!=null:e.faviconMediaId!=null,hasXmaHeaderImage:$?e.headerMediaPlaintextHash!=null:e.headerMediaId!=null,hasXmaPreview:$?e.defaultPreviewMediaPlaintextHash!=null:e.defaultPreviewMediaId!=null,headerImageUrl:void 0,headerImageUrlExpirationTimestampMs:void 0,headerImageUrlFallback:void 0,headerImageUrlMimeType:void 0,headerTitle:e.headerTitle,imageUrl:void 0,imageUrlExpirationTimestampMs:void 0,imageUrlFallback:void 0,imageUrlMimeType:void 0,isBorderless:void 0,isPreviewImage:void 0,isSharable:!0,listItemAccessibilityText1:void 0,listItemAccessibilityText2:void 0,listItemAccessibilityText3:void 0,listItemContactUrlExpirationTimestampList1:void 0,listItemContactUrlExpirationTimestampList2:void 0,listItemContactUrlExpirationTimestampList3:void 0,listItemContactUrlFallbackList1:void 0,listItemContactUrlFallbackList2:void 0,listItemContactUrlFallbackList3:void 0,listItemContactUrlList1:void 0,listItemContactUrlList2:void 0,listItemContactUrlList3:void 0,listItemId1:void 0,listItemId2:void 0,listItemId3:void 0,listItemProfilePictureUrl1:void 0,listItemProfilePictureUrl2:void 0,listItemProfilePictureUrl3:void 0,listItemProfilePictureUrlExpirationTimestamp1:void 0,listItemProfilePictureUrlExpirationTimestamp2:void 0,listItemProfilePictureUrlExpirationTimestamp3:void 0,listItemProfilePictureUrlFallback1:void 0,listItemProfilePictureUrlFallback2:void 0,listItemProfilePictureUrlFallback3:void 0,listItemProgressBarFilledPercentage1:void 0,listItemProgressBarFilledPercentage2:void 0,listItemProgressBarFilledPercentage3:void 0,listItemsDescriptionSubtitleText:void 0,listItemsDescriptionText:void 0,listItemsId:void 0,listItemsSecondaryDescriptionText:void 0,listItemTitleText1:void 0,listItemTitleText2:void 0,listItemTitleText3:void 0,localPlayableUrl:void 0,maxSubtitleNumOfLines:e.maxSubtitleNumOfLines!=null?(u||(u=o("I64"))).of_int32(e.maxSubtitleNumOfLines):void 0,maxTitleNumOfLines:e.maxTitleNumOfLines!=null?(u||(u=o("I64"))).of_int32(e.maxTitleNumOfLines):void 0,messageId:a,miniPreview:void 0,offlineAttachmentId:(h=e.offlineAttachmentId)!=null?h:n,originalFileHash:void 0,originalPageSenderId:void 0,playableDurationMs:void 0,playableUrl:void 0,playableUrlExpirationTimestampMs:void 0,playableUrlFallback:void 0,playableUrlMimeType:void 0,preheaderText:void 0,previewHeight:S.height,previewHeightLarge:e.previewHeightLarge!=null?(u||(u=o("I64"))).of_int32(e.previewHeightLarge):void 0,previewImageDecorationType:T(e.targetType),previewUrl:void 0,previewUrlExpirationTimestampMs:void 0,previewUrlFallback:void 0,previewUrlLarge:void 0,previewUrlMimeType:void 0,previewWidth:S.width,previewWidthLarge:e.previewWidthLarge!=null?(u||(u=o("I64"))).of_int32(e.previewWidthLarge):void 0,samplingFrequencyHz:void 0,shouldAutoplayVideo:void 0,shouldHighlightHeaderTitleInTitle:void 0,shouldRespectServerPreviewSize:void 0,sourceText:void 0,subtitleIconUrl:void 0,subtitleText:e.subtitleText,targetId:void 0,threadKey:t,timestampMs:v,titleText:e.titleText,transportKey:"WhatsApp",viewerSeenTimestampMs:void 0,waveformData:void 0,xmaContentType:D,xmaDataclass:e.xmaDataclass,xmaFaviconFbid:$?e.faviconPlaintextHash:(y=e.faviconMediaId)==null?void 0:y.toString(),xmaHeaderImageFbid:$?e.headerMediaPlaintextHash:(C=e.headerMediaId)==null?void 0:C.toString(),xmaLayoutType:e.xmaLayoutType!=null?I(e.xmaLayoutType):void 0,xmaPreviewFbid:$?e.defaultPreviewMediaPlaintextHash:(b=e.defaultPreviewMediaId)==null?void 0:b.toString(),xmasTemplateType:e.xmaLayoutType!=null?I(e.xmaLayoutType):void 0}}function L(e){var t;switch(e.targetType){case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:t={height:(u||(u=o("I64"))).of_int32(108),width:(u||(u=o("I64"))).of_int32(72),xmaContentType:"xma_montage_share"};break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:t={xmaContentType:"xma_rtc_audio"};break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:t={xmaContentType:"xma_rtc_video"};break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:t={xmaContentType:"xma_rtc_missed_audio"};break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:t={xmaContentType:"xma_rtc_missed_video"};break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:t={xmaContentType:"xma_rtc_missed_group_audio"};break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:t={xmaContentType:"xma_rtc_missed_group_video"};break;default:t={height:e.previewHeight!=null?(u||(u=o("I64"))).of_int32(e.previewHeight):void 0,width:e.previewWidth!=null?(u||(u=o("I64"))).of_int32(e.previewWidth):void 0,xmaContentType:"xma_web_url"};break}return t}function E(e,t){if(e!=null){var n=e[t-1];if(n!=null){var r=n.buttonType,a=n.ctaType;switch(a){case"contact_sharing_profile":return"contact_sharing_profile";case"contact_sharing_message":return"contact_sharing_message";default:return r===o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE?"xma_open_native":void 0}}}}function k(e,t){if(e!=null){var n=e[t-1];if(n!=null)return n.title}}function I(e){return e===0||e!==3?(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").SINGLE):(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").PORTRAIT)}function T(e){switch(e){case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:return(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").COLLAGE);case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:return(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").REEL);case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON);default:return(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").DEFAULT)}}l.addAttachmentCtas=c,l.maybeBridgeToLSTargetId=p,l.getCtaIdFromDefaultCtaId=_,l.composeDefaultAttachmentCta=g,l.composeAttachmentCta=h,l.getExistingAttachmentAndAttachmentCtas=b,l.composeAttachmentXMA=R}),98);
__d("MAWBridgeXMA",["MAWBridgeXMAUtils","MAWDbMedia","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){if(e!=null)switch(e){case"Image":case"Sticker":return"image/png";case"Gif":return"image/gif";case"Video":return"video/mp4";case"Ptt":return"audio/wav"}}function u(t,n,r){var a,i,l,u,c=n.author,d=n.contentRef,m=n.ctas,p=n.defaultCTA,_=n.defaultPreviewMediaId,f=n.defaultPreviewMediaPlaintextHash,g=n.faviconMediaId,h=n.faviconPlaintextHash,y=n.headerMediaId,C=n.headerMediaPlaintextHash,b=n.headerTitle,v=n.maxSubtitleNumOfLines,S=n.maxTitleNumOfLines,R=n.msgId,L=n.offlineAttachmentId,E=n.overlayIconGlyph,k=n.overlayTitle,I=n.subtitleText,T=n.targetId,D=n.targetType,x=n.targetUsername,$=n.threadJid,P=n.titleText,N=n.xmaDataclass,M=n.xmaId,w=n.xmaLayoutType;t!=null&&t.mediaType!==o("MAWDbMedia").MEDIA_TYPE.IMAGE&&o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["MAWBridge - createBridgeXMA received unexpected media type - ",""])),t.mediaType),T!=null&&o("MAWBridgeXMAUtils").maybeBridgeToLSTargetId(T,D);var A=r.hasMedia,F=r.hasXmaFaviconMedia,O=r.hasXmaHeaderMedia;return{author:c,contentRef:d,ctas:m==null?void 0:m.filter(function(e){return e.ctaType!=null}),defaultCTA:p,defaultPreviewMediaId:_,defaultPreviewMediaPlaintextHash:f,duration:null,faviconMediaId:g,faviconPlaintextHash:h,filesize:t==null?void 0:t.size,hasMedia:A,hasXmaFaviconMedia:F,hasXmaHeaderMedia:O,headerMediaId:y,headerMediaPlaintextHash:C,headerTitle:b,maxSubtitleNumOfLines:v,maxTitleNumOfLines:S,mediaType:t==null?void 0:t.mediaType,msgId:R,offlineAttachmentId:L,overlayIconGlyph:E,overlayTitle:k,playableUrlMimeType:s(t==null?void 0:t.mediaType),previewHeight:t==null||(a=t.validatedImageInfo)==null?void 0:a.jpegThumbnailHeight,previewHeightLarge:t==null||(i=t.validatedImageInfo)==null?void 0:i.height,previewUrlMimeType:s(t==null?void 0:t.mediaType),previewWidth:t==null||(l=t.validatedImageInfo)==null?void 0:l.jpegThumbnailWidth,previewWidthLarge:t==null||(u=t.validatedImageInfo)==null?void 0:u.width,subtitleText:I,targetId:T,targetType:D,targetUsername:x,threadJid:$,titleText:P,ts:t==null?void 0:t.ts,xmaDataclass:N,xmaId:M,xmaLayoutType:w}}function c(e,t){var n=e.msgId,r=e.threadJid;return{msgId:n,threadJid:r,xmaId:t}}function d(e,t){var n=e.msgId,r=e.threadJid;return{msgId:n,threadJid:r,xmaId:t}}l.mediaTypeToMimeType=s,l.createBridgeXMA=u,l.createBridgeXMAShareExpired=c,l.createBridgeXMAShareTombstoned=d}),98);
__d("MAWCacheServiceDB",["FBLogger","MAWCurrentUser","MAWIndexedDbMetadata","MAWWormOdsLogger","MessengerWebInitData","Promise","WAHex","Worm","WormDump","WormEAR","WormIDbDriver","asyncToGeneratorRuntime","getErrorSafe","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s={autoIncrement:!0,indexes:{key:{fields:["key"],unique:!0}},primaryKey:"id",secure:!0},u={snippets:s},c=null,d=function(t,n,a){var e="maw_cache_service",i=new(o("WormEAR")).WormEAR(a,e,n),l=new(o("WormIDbDriver")).WormIDbDriver(t,e,a,i,o("MAWWormOdsLogger").wormOdsWorkerLogger,{onTransactionError:p});return new(o("Worm")).WormDatabase(l,r("qpl")._(1056840657,"2716"))};function m(){return c!==null||(c=new(e||(e=n("Promise")))((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{var n=d(o("MAWIndexedDbMetadata").MAWcacheServiceDbName(o("MAWCurrentUser").getID()),o("WAHex").parseHex(r("MessengerWebInitData").accountKeyV2),u);yield n.init(),e(n)}catch(e){var a=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(a).mustfix("Failed to create cache service DB"),c=null,t(a)}});return function(t,n){return e.apply(this,arguments)}})())),c}function p(e){if(e instanceof o("WormEAR").DecryptionError){var t=e;r("FBLogger")("MAWCacheService").mustfix("EAR decryption error in store: %s. Attempting to delete the store:",t.store),r("promiseDone")(m().then(function(e){return e.runInTransaction([t.store],"readwrite",function(e){return e.stores[t.store].clear()},"delete-corrupted-entity")}).then(function(){r("FBLogger")("MAWCacheService").info("Successfully deleted corrupted store %s",t.store)}).catch(function(e){var n=r("getErrorSafe")(e);r("FBLogger")("MAWCacheService").catching(n).mustfix("Failed to delete corrupted store %s, err: %s",t.store,n.message)}))}}function _(e){return e.map(function(e){var t=e[0],n=e[1];return n})}function f(){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield m();return e.dump({snippets:{customFields:{id:o("WormDump").wormNonSensitiveField,key:o("WormDump").wormNonSensitiveField,timestamp:o("WormDump").wormNonSensitiveField,value:function(t){var e;return{snippet:(e=o("WormDump")).wormRedact(t.snippet),snippetMsgAckLevel:e.wormNonSensitiveField(t.snippetMsgAckLevel),snippetMsgId:e.wormNonSensitiveField(t.snippetMsgId),snippetNewestIncomingMsgs:e.wormNonSensitiveField(t.snippetNewestIncomingMsgs),snippetReactionId:e.wormRedact(t.snippetReactionId)}}}}})}),g.apply(this,arguments)}l.getOrSetupMAWCacheDB=m,l.convertCacheValueToDBRawValue=_,l.getDbDump=f}),98);
__d("MAWDbEditMsgHistory",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return e}function u(t){return(e||(e=o("I64"))).of_float(t)}function c(t){return(e||(e=o("I64"))).to_float(t)}l.unsafeCoerceToEditMsgHistoryId=s,l.convertToEditMsgHistoryId64=u,l.convertToEditMsgHistoryId=c}),98);
__d("MAWDbPoll",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e}function l(e){return e}function s(e,t){var n=(e+t).split("");return Math.abs(n.reduce(function(e,t){var n=t.charCodeAt(0),r=(e<<5)-e+n;return r&=r,r},0))}i.convertStringToOptionHash=e,i.convertOptionHashToString=l,i.generateStableIdFromOptionHash=s}),66);
__d("MAWEBRestoreTrackingUtils",["LSIntEnum","LSMEBTaskCreationSource","MAWQplProxy","MWEBODSEntityName.enum","ODS","QPLUserFlow","WAHashStringToNumber","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={dyi:r("justknobx")._("467"),frontloaded:20,initial:20,paginated:r("justknobx")._("3177"),point:1,search:r("justknobx")._("2477")};function c(t,n,a,i){n!=null&&C({querySource:a,runningInWorker:i!=null?i:!1,taskSource:t,traceId:n,triggerType:"paginated"}),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.paginated")}function d(t){var n=t.querySource,a=t.runningInWorker,i=t.taskSource,l=t.traceId;l!=null&&C({querySource:n,runningInWorker:a!=null?a:!1,taskSource:i,traceId:l,triggerType:"initial"}),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.initial")}function m(t,n,a){n!=null&&C({querySource:"LS",runningInWorker:a!=null?a:!1,taskSource:t,traceId:n,triggerType:"dyi"}),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.dyi")}function p(t,n,a){n!=null&&C({querySource:"LS",runningInWorker:a!=null?a:!1,taskSource:t,traceId:n,triggerType:"frontloaded"}),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.frontloaded")}function _(t,n,a,i){n!=null&&C({querySource:a,runningInWorker:i!=null?i:!1,taskSource:t,traceId:n,triggerType:"point"}),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.point")}function f(t){var n=t.querySource,a=t.runningInWorker,i=t.traceId;i!=null&&C({querySource:n,runningInWorker:a!=null?a:!1,taskSource:r("LSMEBTaskCreationSource").FTS_INDEX_EB_MESSAGES_WEB,traceId:i,triggerType:"search"}),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.search")}function g(t,n){t!=null&&(n!=null&&n?o("MAWQplProxy").sendQPLSuccessThroughBridge(r("qpl")._(521476165,"2432"),void 0,o("WAHashStringToNumber").hashStringToNumber(t)):r("QPLUserFlow").endSuccess(r("qpl")._(521476165,"2432"),{instanceKey:o("WAHashStringToNumber").hashStringToNumber(t)})),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.decryption.success")}function h(t,n,a,i){a===void 0&&(a="restore_failure"),t!=null&&(n!=null&&n?o("MAWQplProxy").sendQPLFailThroughBridge(r("qpl")._(521476165,"2432"),a,i,o("WAHashStringToNumber").hashStringToNumber(t)):r("QPLUserFlow").endFailure(r("qpl")._(521476165,"2432"),a,{annotations:i,instanceKey:o("WAHashStringToNumber").hashStringToNumber(t)})),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.decryption.failure")}function y(e){L("protobuf",e)}function C(e){var t=e.querySource,n=e.runningInWorker,a=e.taskSource,i=e.traceId,l=e.triggerType;if(n!=null&&n){var s;o("MAWQplProxy").startQplUserFlow(r("qpl")._(521476165,"2432"),{bool:{runningInWorker:n===!0},int:{requestedMessagesCount:(s=u[l])!=null?s:10},string:{querySource:t,taskSource:E(a),traceId:i,triggerType:l}},{providedInstanceKey:o("WAHashStringToNumber").hashStringToNumber(i),providedTimeoutInMs:r("justknobx")._("2950")})}else{var c;r("QPLUserFlow").start(r("qpl")._(521476165,"2432"),{annotations:{bool:{runningInWorker:n===!0},int:{requestedMessagesCount:(c=u[l])!=null?c:10},string:{querySource:t,taskSource:E(a),traceId:i,triggerType:l}},instanceKey:o("WAHashStringToNumber").hashStringToNumber(i),timeoutInMs:r("justknobx")._("2950")})}}function b(e){var t=e.pointName,n=e.traceId;r("QPLUserFlow").addPoint(r("qpl")._(521476165,"2432"),t,{instanceKey:o("WAHashStringToNumber").hashStringToNumber(n)})}function v(e){var t=e.annotations,n=e.pointName,a=e.traceId;r("QPLUserFlow").addAnnotations(r("qpl")._(521476165,"2432"),t,{instanceKey:o("WAHashStringToNumber").hashStringToNumber(a)}),r("QPLUserFlow").addPoint(r("qpl")._(521476165,"2432"),n,{instanceKey:o("WAHashStringToNumber").hashStringToNumber(a)})}function S(e){var t=e.annotations,n=e.pointName,a=e.traceId;a!=null&&o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(521476165,"2432"),n,{annotations:t,instanceKey:o("WAHashStringToNumber").hashStringToNumber(a)})}function R(e){var t=e.pointName,n=e.traceId;o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(521476165,"2432"),t,{instanceKey:o("WAHashStringToNumber").hashStringToNumber(n)})}function L(t,n){var a=n?(s||(s=o("LSIntEnum"))).unwrapIntEnum(n):null;(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore."+t+"."+E(a))}function E(e){var t;return(t=e==null?void 0:e.toString())!=null?t:"unknown"}l.markEBRestorePaginated=c,l.markEBRestoreInitial=d,l.markEBRestoreDYI=m,l.markEBRestoreFrontloaded=p,l.markEBRestorePoint=_,l.markEBRestoreSearch=f,l.markEBRestoreSuccess=g,l.markEBRestoreFail=h,l.markEBRestoreProtobuf=y,l.addQPLRestorePoint=b,l.addQPLRestorePointWithAnnotations=v,l.addQPLRestorePointWithAnnotationsWorker=S,l.addQPLRestorePointWorker=R}),98);
__d("WAMediaTransport.pb",["WACommon.pb","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s={NONE:0,LQ_4K:1,HQ_4K:2},u={NONE:0,GIPHY:1,TENOR:2},c={TALKING_A:0,IDLE_A:1,TALKING_B:2,IDLE_B:3,BACKGROUND:4},d={UNKNOWN:0,OPUS:1},m={},p={},_={},f={},g={},h={},y={},C={},b={},v={},S={},R={},L={},E={},k={},I={},T={},D={},x={},$={},P={},N={},M={},w={},A={};m.name="WAMediaTransport",m.internalSpec={integral:[1,(e=o("WAProtoConst")).TYPES.MESSAGE,g],ancillary:[2,e.TYPES.MESSAGE,p]},p.name="WAMediaTransport$Ancillary",p.internalSpec={fileLength:[1,e.TYPES.UINT64],mimetype:[2,e.TYPES.STRING],thumbnail:[3,e.TYPES.MESSAGE,_],objectId:[4,e.TYPES.STRING]},_.name="WAMediaTransport$Ancillary$Thumbnail",_.internalSpec={jpegThumbnail:[1,e.TYPES.BYTES],downloadableThumbnail:[2,e.TYPES.MESSAGE,f],thumbnailWidth:[3,e.TYPES.UINT32],thumbnailHeight:[4,e.TYPES.UINT32]},f.name="WAMediaTransport$Ancillary$Thumbnail$DownloadableThumbnail",f.internalSpec={fileSha256:[1,e.TYPES.BYTES],fileEncSha256:[2,e.TYPES.BYTES],directPath:[3,e.TYPES.STRING],mediaKey:[4,e.TYPES.BYTES],mediaKeyTimestamp:[5,e.TYPES.INT64],objectId:[6,e.TYPES.STRING],thumbnailScansSidecar:[7,e.TYPES.BYTES],thumbnailScanLengths:[8,e.FLAGS.REPEATED|e.TYPES.UINT32]},g.name="WAMediaTransport$Integral",g.internalSpec={fileSha256:[1,e.TYPES.BYTES],mediaKey:[2,e.TYPES.BYTES],fileEncSha256:[3,e.TYPES.BYTES],directPath:[4,e.TYPES.STRING],mediaKeyTimestamp:[5,e.TYPES.INT64]},h.name="ImageTransport",h.internalSpec={integral:[1,e.TYPES.MESSAGE,C],ancillary:[2,e.TYPES.MESSAGE,y]},y.name="ImageTransport$Ancillary",y.internalSpec={height:[1,e.TYPES.UINT32],width:[2,e.TYPES.UINT32],scansSidecar:[3,e.TYPES.BYTES],scanLengths:[4,e.FLAGS.REPEATED|e.TYPES.UINT32],midQualityFileSha256:[5,e.TYPES.BYTES],hdType:[6,e.TYPES.ENUM,s],memoriesConceptScores:[7,e.FLAGS.REPEATED|e.FLAGS.PACKED|e.TYPES.FLOAT],memoriesConceptIds:[8,e.FLAGS.REPEATED|e.FLAGS.PACKED|e.TYPES.UINT32]},C.name="ImageTransport$Integral",C.internalSpec={transport:[1,e.TYPES.MESSAGE,m]},b.name="VideoTransport",b.internalSpec={integral:[1,e.TYPES.MESSAGE,S],ancillary:[2,e.TYPES.MESSAGE,v]},v.name="VideoTransport$Ancillary",v.internalSpec={seconds:[1,e.TYPES.UINT32],caption:[2,e.TYPES.MESSAGE,o("WACommon.pb").MessageTextSpec],gifPlayback:[3,e.TYPES.BOOL],height:[4,e.TYPES.UINT32],width:[5,e.TYPES.UINT32],sidecar:[6,e.TYPES.BYTES],gifAttribution:[7,e.TYPES.ENUM,u],accessibilityLabel:[8,e.TYPES.STRING],isHd:[9,e.TYPES.BOOL]},S.name="VideoTransport$Integral",S.internalSpec={transport:[1,e.TYPES.MESSAGE,m]},R.name="AudioTransport",R.internalSpec={integral:[1,e.TYPES.MESSAGE,I],ancillary:[2,e.TYPES.MESSAGE,L]},L.name="AudioTransport$Ancillary",L.internalSpec={seconds:[1,e.TYPES.UINT32],avatarAudio:[2,e.TYPES.MESSAGE,E],waveformData:[3,e.TYPES.STRING],waveform:[4,e.TYPES.BYTES]},E.name="AudioTransport$Ancillary$AvatarAudio",E.internalSpec={poseId:[1,e.TYPES.UINT32],avatarAnimations:[2,e.FLAGS.REPEATED|e.TYPES.MESSAGE,k]},k.name="AudioTransport$Ancillary$AvatarAudio$DownloadableAvatarAnimations",k.internalSpec={fileSha256:[1,e.TYPES.BYTES],fileEncSha256:[2,e.TYPES.BYTES],directPath:[3,e.TYPES.STRING],mediaKey:[4,e.TYPES.BYTES],mediaKeyTimestamp:[5,e.TYPES.INT64],objectId:[6,e.TYPES.STRING],animationsType:[7,e.TYPES.ENUM,c]},I.name="AudioTransport$Integral",I.internalSpec={transport:[1,e.TYPES.MESSAGE,m],audioFormat:[2,e.TYPES.ENUM,d]},T.name="DocumentTransport",T.internalSpec={integral:[1,e.TYPES.MESSAGE,x],ancillary:[2,e.TYPES.MESSAGE,D]},D.name="DocumentTransport$Ancillary",D.internalSpec={pageCount:[1,e.TYPES.UINT32]},x.name="DocumentTransport$Integral",x.internalSpec={transport:[1,e.TYPES.MESSAGE,m]},$.name="StickerTransport",$.internalSpec={integral:[1,e.TYPES.MESSAGE,N],ancillary:[2,e.TYPES.MESSAGE,P]},P.name="StickerTransport$Ancillary",P.internalSpec={pageCount:[1,e.TYPES.UINT32],height:[2,e.TYPES.UINT32],width:[3,e.TYPES.UINT32],firstFrameLength:[4,e.TYPES.UINT32],firstFrameSidecar:[5,e.TYPES.BYTES],mustacheText:[6,e.TYPES.STRING],isThirdParty:[7,e.TYPES.BOOL],receiverFetchId:[8,e.TYPES.STRING],accessibilityLabel:[9,e.TYPES.STRING]},N.name="StickerTransport$Integral",N.internalSpec={transport:[1,e.TYPES.MESSAGE,m],isAnimated:[2,e.TYPES.BOOL],receiverFetchId:[3,e.TYPES.STRING]},M.name="ContactTransport",M.internalSpec={integral:[1,e.TYPES.MESSAGE,A],ancillary:[2,e.TYPES.MESSAGE,w]},w.name="ContactTransport$Ancillary",w.internalSpec={displayName:[1,e.TYPES.STRING]},A.name="ContactTransport$Integral",A.internalSpec={vcard:[1,e.TYPES.STRING],downloadableVcard:[2,e.TYPES.MESSAGE,m],__oneofs__:{contact:["vcard","downloadableVcard"]}},l.IMAGE_TRANSPORT_ANCILLARY_HD_TYPE=s,l.VIDEO_TRANSPORT_ANCILLARY_ATTRIBUTION=u,l.AUDIO_TRANSPORT_ANCILLARY_AVATAR_AUDIO_ANIMATIONS_TYPE=c,l.AUDIO_TRANSPORT_INTEGRAL_AUDIO_FORMAT=d,l.WAMediaTransportSpec=m,l.WAMediaTransport$AncillarySpec=p,l.WAMediaTransport$Ancillary$ThumbnailSpec=_,l.WAMediaTransport$Ancillary$Thumbnail$DownloadableThumbnailSpec=f,l.WAMediaTransport$IntegralSpec=g,l.ImageTransportSpec=h,l.ImageTransport$AncillarySpec=y,l.ImageTransport$IntegralSpec=C,l.VideoTransportSpec=b,l.VideoTransport$AncillarySpec=v,l.VideoTransport$IntegralSpec=S,l.AudioTransportSpec=R,l.AudioTransport$AncillarySpec=L,l.AudioTransport$Ancillary$AvatarAudioSpec=E,l.AudioTransport$Ancillary$AvatarAudio$DownloadableAvatarAnimationsSpec=k,l.AudioTransport$IntegralSpec=I,l.DocumentTransportSpec=T,l.DocumentTransport$AncillarySpec=D,l.DocumentTransport$IntegralSpec=x,l.StickerTransportSpec=$,l.StickerTransport$AncillarySpec=P,l.StickerTransport$IntegralSpec=N,l.ContactTransportSpec=M,l.ContactTransport$AncillarySpec=w,l.ContactTransport$IntegralSpec=A}),98);
__d("WAMediaHdType",[],(function(t,n,r,o,a,i,l){"use strict";var e=0,s=1,u=2,c={HD_TYPE_NONE:e,HD_TYPE_LQ_4K:s,HD_TYPE_HQ_4K:u};l.HD_TYPE_NONE=e,l.HD_TYPE_LQ_4K=s,l.HD_TYPE_HQ_4K=u,l.HD_TYPE=c}),98);
__d("MAWEncodeMediaTransportProtocol",["MAWDbMedia","WAMediaHdType","WAMediaTransport.pb","encodeProtobuf","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e="image/jpeg",s="image/webp",u="video/mp4",c="audio/wav",d="audio/ogg",m="image/gif",p="application/octet-stream";function _(e){switch(e){case o("WAMediaHdType").HD_TYPE_NONE:return o("WAMediaTransport.pb").IMAGE_TRANSPORT_ANCILLARY_HD_TYPE.NONE;case o("WAMediaHdType").HD_TYPE_LQ_4K:return o("WAMediaTransport.pb").IMAGE_TRANSPORT_ANCILLARY_HD_TYPE.LQ_4K;case o("WAMediaHdType").HD_TYPE_HQ_4K:return o("WAMediaTransport.pb").IMAGE_TRANSPORT_ANCILLARY_HD_TYPE.HQ_4K;default:return}}function f(t,n,r){var a,i,l,s,u,c,d,m,p={ancillary:{hdType:_((a=r==null?void 0:r.hdType)!=null?a:(i=t.validatedImageInfo)==null?void 0:i.hdType),height:(l=t.validatedImageInfo)==null?void 0:l.height,scanLengths:((s=n.progressiveJpegDetails)==null?void 0:s.scanLengths)||[],scansSidecar:(u=n.progressiveJpegDetails)==null?void 0:u.sidecar,width:(c=t.validatedImageInfo)==null?void 0:c.width},integral:{transport:{ancillary:{fileLength:t.size,mimetype:e,objectId:n.objectId,thumbnail:{downloadableThumbnail:n.downloadableThumbnail,jpegThumbnail:void 0,thumbnailHeight:(d=t.validatedImageInfo)==null?void 0:d.jpegThumbnailHeight,thumbnailWidth:(m=t.validatedImageInfo)==null?void 0:m.jpegThumbnailWidth}},integral:{directPath:n.directPath,fileEncSha256:n.fileEncSha256,fileSha256:n.fileSha256,mediaKey:n.mediaKey,mediaKeyTimestamp:n.mediaKeyTimestamp}}}};return o("encodeProtobuf").encodeProtobuf(o("WAMediaTransport.pb").ImageTransportSpec,p).readBuffer()}function g(e,t,n){var r=f(e,t,n);return{payload:{content:{imageMessage:{caption:{mentionedJid:[]},image:{payload:r,version:1}}}}}}function h(e,t){var n,r,a,i,l={ancillary:{accessibilityLabel:e.accessibilitySummaryText,height:(n=e.validatedImageInfo)==null?void 0:n.height,width:(r=e.validatedImageInfo)==null?void 0:r.width},integral:{transport:{ancillary:{fileLength:e.size,mimetype:s,objectId:t.objectId,thumbnail:{thumbnailHeight:(a=e.validatedImageInfo)==null?void 0:a.jpegThumbnailHeight,thumbnailWidth:(i=e.validatedImageInfo)==null?void 0:i.jpegThumbnailWidth}},integral:{directPath:t.directPath,fileEncSha256:t.fileEncSha256,fileSha256:t.fileSha256,mediaKey:t.mediaKey,mediaKeyTimestamp:t.mediaKeyTimestamp}}}};return o("encodeProtobuf").encodeProtobuf(o("WAMediaTransport.pb").StickerTransportSpec,l).readBuffer()}function y(e,t){var n=h(e,t);return{payload:{content:{stickerMessage:{sticker:{payload:n,version:1}}}}}}function C(e,t){var n,r=e.mediaType===o("MAWDbMedia").MEDIA_TYPE.GIF,a=e.isVideoGif===!0,i=r?e.validatedImageInfo:e.validatedVideoInfo,l={ancillary:{accessibilityLabel:e.accessibilitySummaryText,gifPlayback:r||a,height:i==null?void 0:i.height,seconds:r||(n=e.validatedVideoInfo)==null?void 0:n.duration,sidecar:t.sidecar,width:i==null?void 0:i.width},integral:{transport:{ancillary:{fileLength:e.size,mimetype:r?m:u,objectId:t.objectId,thumbnail:r?{thumbnailHeight:i==null?void 0:i.jpegThumbnailHeight,thumbnailWidth:i==null?void 0:i.jpegThumbnailWidth}:{downloadableThumbnail:t.downloadableThumbnail,jpegThumbnail:void 0,thumbnailHeight:i==null?void 0:i.jpegThumbnailHeight,thumbnailWidth:i==null?void 0:i.jpegThumbnailWidth}},integral:{directPath:t.directPath,fileEncSha256:t.fileEncSha256,fileSha256:t.fileSha256,mediaKey:t.mediaKey,mediaKeyTimestamp:t.mediaKeyTimestamp}}}};return o("encodeProtobuf").encodeProtobuf(o("WAMediaTransport.pb").VideoTransportSpec,l).readBuffer()}function b(e,t){var n=C(e,t);return{payload:{content:{videoMessage:{caption:{mentionedJid:[]},video:{payload:n,version:1}}}}}}var v=new ArrayBuffer(0);function S(e,t){var n,a,i={ancillary:{seconds:(n=e.validatedAudioInfo)==null?void 0:n.duration,waveform:(a=e.validatedAudioInfo)==null?void 0:a.waveform},integral:{audioFormat:r("gkx")("3053")?o("WAMediaTransport.pb").AUDIO_TRANSPORT_INTEGRAL_AUDIO_FORMAT.OPUS:void 0,transport:{ancillary:{fileLength:e.size,mimetype:r("gkx")("3053")?d:c,objectId:t.objectId,thumbnail:{jpegThumbnail:v}},integral:{directPath:t.directPath,fileEncSha256:t.fileEncSha256,fileSha256:t.fileSha256,mediaKey:t.mediaKey,mediaKeyTimestamp:t.mediaKeyTimestamp}}}};return o("encodeProtobuf").encodeProtobuf(o("WAMediaTransport.pb").AudioTransportSpec,i).readBuffer()}function R(e,t){var n=S(e,t);return{payload:{content:{audioMessage:{audio:{payload:n,version:1},ptt:!0}}}}}function L(e,t){var n={ancillary:{},integral:{transport:{ancillary:{fileLength:e.size,mimetype:p,objectId:t.objectId,thumbnail:{jpegThumbnail:new ArrayBuffer(1),thumbnailHeight:1,thumbnailWidth:1}},integral:{directPath:t.directPath,fileEncSha256:t.fileEncSha256,fileSha256:t.fileSha256,mediaKey:t.mediaKey,mediaKeyTimestamp:t.mediaKeyTimestamp}}}};return o("encodeProtobuf").encodeProtobuf(o("WAMediaTransport.pb").DocumentTransportSpec,n).readBuffer()}function E(e,t){var n,r=L(e,t);return{payload:{content:{documentMessage:{document:{payload:r,version:1},fileName:(n=e.validatedDocumentFileInfo)==null?void 0:n.filename}}}}}l.IMAGE_MIME_TYPE=e,l.STICKER_MIME_TYPE=s,l.VIDEO_MIME_TYPE=u,l.AUDIO_WAV_MIME_TYPE=c,l.AUDIO_OGG_MIME_TYPE=d,l.GIF_MIME_TYPE=m,l.FILE_MIME_TYPE=p,l.encodeMediaHdType=_,l.encodeValidatedMediaToImageTransport=f,l.encodeValidatedImageMessage=g,l.encodeValidatedMediaToStickerTransport=h,l.encodeValidatedStickerMessage=y,l.encodeValidatedMediaToVideoTransport=C,l.encodeValidatedVideoMessage=b,l.emptyAudioFileArrayBuffer=v,l.encodeValidatedMediaToAudioTransport=S,l.encodeValidatedAudioMessage=R,l.encodeValidatedMediaToDocumentTransport=L,l.encodeValidatedFileMessage=E}),98);
__d("MAWEphemeralConsts",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=300,u=600,c=900,d=1800,m=Math.imul((e=o("WATimeUtils")).HOUR_SECONDS,6),p=Math.imul(e.HOUR_SECONDS,12),_=Math.imul(e.DAY_SECONDS,14),f=1e3,g=5,h=10,y=30,C=60,b=m;l.fiveMinutesInSeconds=s,l.tenMinutesInSeconds=u,l.fifteenMinutesInSeconds=c,l.thirtyMinutesInSeconds=d,l.oneHourInSeconds=e.HOUR_SECONDS,l.sixHoursInSeconds=m,l.twelveHoursInSeconds=p,l.oneDayInSeconds=e.DAY_SECONDS,l.ephemeralMaxDelectionWindowForUnseenMessage=_,l.msPerSec=f,l.fiveSeconds=g,l.tenSeconds=h,l.thirtySeconds=y,l.oneMinuteInSeconds=C,l.ephemeralReportingWindowInSeconds=b}),98);
__d("WAArmadilloApplication.pb",["WAArmadilloXMA.pb","WACommon.pb","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s,u={ES_OPEN:1,ES_CLOSE:2},c={UNKNOWN:0,NUDE:1,NOT_NUDE:2},d={TAKEDOWN:0,RESTORE:1},m={PAYMENT_UNKNOWN:-1,REQUEST_INITED:4,REQUEST_DECLINED:5,REQUEST_TRANSFER_INITED:6,REQUEST_TRANSFER_COMPLETED:7,REQUEST_TRANSFER_FAILED:8,REQUEST_CANCELED:9,REQUEST_EXPIRED:10,TRANSFER_INITED:11,TRANSFER_PENDING:12,TRANSFER_PENDING_RECIPIENT_VERIFICATION:13,TRANSFER_CANCELED:14,TRANSFER_COMPLETED:15,TRANSFER_NO_RECEIVER_CREDENTIAL_NO_RTS_PENDING_CANCELED:16,TRANSFER_NO_RECEIVER_CREDENTIAL_NO_RTS_PENDING_OTHER:17,TRANSFER_REFUNDED:18,TRANSFER_PARTIAL_REFUND:19,TRANSFER_CHARGED_BACK:20,TRANSFER_EXPIRED:21,TRANSFER_DECLINED:22,TRANSFER_UNAVAILABLE:23},p={SCREENSHOT_IMAGE:1,SCREEN_RECORDING:2},_={PLAYED:0,SCREENSHOT:1,FORCE_DISABLE:2},f={VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2},g={SMALL_LIKE:1,MEDIUM_LIKE:2,LARGE_LIKE:3},h={},y={},C={},b={},v={},S={},R={},L={},E={},k={},I={},T={},D={},x={},$={},P={},N={},M={},w={},A={},F={},O={},B={},W={},q={},U={},V={},H={},G={},z={},j={},K={},Q={};h.name="Armadillo",h.internalSpec={payload:[1,(e=o("WAProtoConst")).TYPES.MESSAGE,C],metadata:[2,e.TYPES.MESSAGE,y]},y.name="Armadillo$Metadata",y.internalSpec={},C.name="Armadillo$Payload",C.internalSpec={content:[1,e.TYPES.MESSAGE,B],applicationData:[2,e.TYPES.MESSAGE,L],signal:[3,e.TYPES.MESSAGE,v],subProtocol:[4,e.TYPES.MESSAGE,b],__oneofs__:{payload:["content","applicationData","signal","subProtocol"]}},b.name="Armadillo$SubProtocolPayload",b.internalSpec={futureProof:[1,e.TYPES.ENUM,(s=o("WACommon.pb")).FUTURE_PROOF_BEHAVIOR]},v.name="Armadillo$Signal",v.internalSpec={encryptedBackupsSecrets:[1,e.TYPES.MESSAGE,S],__oneofs__:{signal:["encryptedBackupsSecrets"]}},S.name="Armadillo$Signal$EncryptedBackupsSecrets",S.internalSpec={backupId:[1,e.TYPES.UINT64],serverDataId:[2,e.TYPES.UINT64],epoch:[3,e.FLAGS.REPEATED|e.TYPES.MESSAGE,R],tempOcmfClientState:[4,e.TYPES.BYTES],mailboxRootKey:[5,e.TYPES.BYTES],obliviousValidationToken:[6,e.TYPES.BYTES]},R.name="Armadillo$Signal$EncryptedBackupsSecrets$Epoch",R.internalSpec={id:[1,e.TYPES.UINT64],anonId:[2,e.TYPES.BYTES],rootKey:[3,e.TYPES.BYTES],status:[4,e.TYPES.ENUM,u]},L.name="Armadillo$ApplicationData",L.internalSpec={metadataSync:[1,e.TYPES.MESSAGE,O],aiBotResponse:[2,e.TYPES.MESSAGE,k],messageHistoryDocumentMessage:[3,e.TYPES.MESSAGE,E],__oneofs__:{applicationData:["metadataSync","aiBotResponse","messageHistoryDocumentMessage"]}},E.name="Armadillo$ApplicationData$MessageHistoryDocumentMessage",E.internalSpec={document:[1,e.TYPES.MESSAGE,s.SubProtocolSpec]},k.name="Armadillo$ApplicationData$AIBotResponseMessage",k.internalSpec={summonToken:[1,e.TYPES.STRING],messageText:[2,e.TYPES.STRING],serializedExtras:[3,e.TYPES.STRING]},I.name="Armadillo$ApplicationData$MetadataSyncAction",I.internalSpec={actionTimestamp:[1,e.TYPES.INT64],chatAction:[101,e.TYPES.MESSAGE,P],messageAction:[102,e.TYPES.MESSAGE,x],spectraAction:[103,e.TYPES.MESSAGE,D],attachmentInterventionAction:[104,e.TYPES.MESSAGE,T],__oneofs__:{actionType:["chatAction","messageAction","spectraAction","attachmentInterventionAction"]}},T.name="Armadillo$ApplicationData$MetadataSyncAction$SyncAttachmentInterventionAction",T.internalSpec={messageKey:[1,e.TYPES.MESSAGE,s.MessageKeySpec],interventionType:[2,e.TYPES.ENUM,c]},D.name="Armadillo$ApplicationData$MetadataSyncAction$SyncSpectraAction",D.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec],actionType:[2,e.TYPES.ENUM,d],takedownActionId:[3,e.TYPES.INT64],config:[4,e.TYPES.STRING]},x.name="Armadillo$ApplicationData$MetadataSyncAction$SyncMessageAction",x.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec],messageDelete:[101,e.TYPES.MESSAGE,$],__oneofs__:{action:["messageDelete"]}},$.name="Armadillo$ApplicationData$MetadataSyncAction$SyncMessageAction$ActionMessageDelete",$.internalSpec={},P.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction",P.internalSpec={chatId:[1,e.TYPES.STRING],chatArchive:[101,e.TYPES.MESSAGE,w],chatDelete:[102,e.TYPES.MESSAGE,M],chatRead:[103,e.TYPES.MESSAGE,N],__oneofs__:{action:["chatArchive","chatDelete","chatRead"]}},N.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatRead",N.internalSpec={messageRange:[1,e.TYPES.MESSAGE,F],read:[2,e.TYPES.BOOL]},M.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatDelete",M.internalSpec={messageRange:[1,e.TYPES.MESSAGE,F]},w.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatArchive",w.internalSpec={messageRange:[1,e.TYPES.MESSAGE,F],archived:[2,e.TYPES.BOOL]},A.name="Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessage",A.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec],timestamp:[2,e.TYPES.INT64]},F.name="Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessageRange",F.internalSpec={lastMessageTimestamp:[1,e.TYPES.INT64],lastSystemMessageTimestamp:[2,e.TYPES.INT64],messages:[3,e.FLAGS.REPEATED|e.TYPES.MESSAGE,A]},O.name="Armadillo$ApplicationData$MetadataSyncNotification",O.internalSpec={actions:[2,e.FLAGS.REPEATED|e.TYPES.MESSAGE,I]},B.name="Armadillo$Content",B.internalSpec={commonSticker:[1,e.TYPES.MESSAGE,Q],screenshotAction:[3,e.TYPES.MESSAGE,G],extendedContentMessage:[4,e.TYPES.MESSAGE,o("WAArmadilloXMA.pb").ExtendedContentMessageSpec],ravenMessage:[5,e.TYPES.MESSAGE,K],ravenActionNotifMessage:[6,e.TYPES.MESSAGE,j],extendedMessageContentWithSear:[7,e.TYPES.MESSAGE,z],imageGalleryMessage:[8,e.TYPES.MESSAGE,H],paymentsTransactionMessage:[10,e.TYPES.MESSAGE,W],bumpExistingMessage:[11,e.TYPES.MESSAGE,V],noteReplyMessage:[13,e.TYPES.MESSAGE,U],ravenMessageMsgr:[14,e.TYPES.MESSAGE,K],networkVerificationMessage:[15,e.TYPES.MESSAGE,q],__oneofs__:{content:["commonSticker","screenshotAction","extendedContentMessage","ravenMessage","ravenActionNotifMessage","extendedMessageContentWithSear","imageGalleryMessage","paymentsTransactionMessage","bumpExistingMessage","noteReplyMessage","ravenMessageMsgr","networkVerificationMessage"]}},W.name="Armadillo$Content$PaymentsTransactionMessage",W.internalSpec={transactionId:[1,e.TYPES.UINT64],amount:[2,e.TYPES.STRING],currency:[3,e.TYPES.STRING],paymentStatus:[4,e.TYPES.ENUM,m],extendedContentMessage:[5,e.TYPES.MESSAGE,o("WAArmadilloXMA.pb").ExtendedContentMessageSpec]},q.name="Armadillo$Content$NetworkVerificationMessage",q.internalSpec={codeText:[1,e.TYPES.STRING]},U.name="Armadillo$Content$NoteReplyMessage",U.internalSpec={noteId:[1,e.TYPES.STRING],noteText:[2,e.TYPES.MESSAGE,s.MessageTextSpec],noteTimestampMs:[3,e.TYPES.INT64],textContent:[4,e.TYPES.MESSAGE,s.MessageTextSpec],stickerContent:[5,e.TYPES.MESSAGE,s.SubProtocolSpec],videoContent:[6,e.TYPES.MESSAGE,s.SubProtocolSpec],__oneofs__:{noteReplyContent:["textContent","stickerContent","videoContent"]}},V.name="Armadillo$Content$BumpExistingMessage",V.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec]},H.name="Armadillo$Content$ImageGalleryMessage",H.internalSpec={images:[1,e.FLAGS.REPEATED|e.TYPES.MESSAGE,s.SubProtocolSpec]},G.name="Armadillo$Content$ScreenshotAction",G.internalSpec={screenshotType:[1,e.TYPES.ENUM,p]},z.name="Armadillo$Content$ExtendedContentMessageWithSear",z.internalSpec={searId:[1,e.TYPES.STRING],payload:[2,e.TYPES.BYTES],nativeUrl:[3,e.TYPES.STRING],searAssociatedMessage:[4,e.TYPES.MESSAGE,s.SubProtocolSpec],searSentWithMessageId:[5,e.TYPES.STRING]},j.name="Armadillo$Content$RavenActionNotifMessage",j.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec],actionTimestamp:[2,e.TYPES.INT64],actionType:[3,e.TYPES.ENUM,_]},K.name="Armadillo$Content$RavenMessage",K.internalSpec={ephemeralType:[1,e.TYPES.ENUM,f],imageMessage:[2,e.TYPES.MESSAGE,s.SubProtocolSpec],videoMessage:[3,e.TYPES.MESSAGE,s.SubProtocolSpec],__oneofs__:{mediaContent:["imageMessage","videoMessage"]}},Q.name="Armadillo$Content$CommonSticker",Q.internalSpec={stickerType:[1,e.TYPES.ENUM,g]},l.ARMADILLO_SIGNAL_ENCRYPTED_BACKUPS_SECRETS_EPOCH_EPOCH_STATUS=u,l.ARMADILLO_APPLICATION_DATA_METADATA_SYNC_ACTION_SYNC_ATTACHMENT_INTERVENTION_ACTION_INTERVENTION_TYPE=c,l.ARMADILLO_APPLICATION_DATA_METADATA_SYNC_ACTION_SYNC_SPECTRA_ACTION_SPECTRA_ACTION_TYPE=d,l.ARMADILLO_CONTENT_PAYMENTS_TRANSACTION_MESSAGE_PAYMENT_STATUS=m,l.ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE=p,l.ARMADILLO_CONTENT_RAVEN_ACTION_NOTIF_MESSAGE_ACTION_TYPE=_,l.ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE=f,l.ARMADILLO_CONTENT_COMMON_STICKER_STICKER_TYPE=g,l.ArmadilloSpec=h,l.Armadillo$MetadataSpec=y,l.Armadillo$PayloadSpec=C,l.Armadillo$SubProtocolPayloadSpec=b,l.Armadillo$SignalSpec=v,l.Armadillo$Signal$EncryptedBackupsSecretsSpec=S,l.Armadillo$Signal$EncryptedBackupsSecrets$EpochSpec=R,l.Armadillo$ApplicationDataSpec=L,l.Armadillo$ApplicationData$MessageHistoryDocumentMessageSpec=E,l.Armadillo$ApplicationData$AIBotResponseMessageSpec=k,l.Armadillo$ApplicationData$MetadataSyncActionSpec=I,l.Armadillo$ApplicationData$MetadataSyncAction$SyncAttachmentInterventionActionSpec=T,l.Armadillo$ApplicationData$MetadataSyncAction$SyncSpectraActionSpec=D,l.Armadillo$ApplicationData$MetadataSyncAction$SyncMessageActionSpec=x,l.Armadillo$ApplicationData$MetadataSyncAction$SyncMessageAction$ActionMessageDeleteSpec=$,l.Armadillo$ApplicationData$MetadataSyncAction$SyncChatActionSpec=P,l.Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatReadSpec=N,l.Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatDeleteSpec=M,l.Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatArchiveSpec=w,l.Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessageSpec=A,l.Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessageRangeSpec=F,l.Armadillo$ApplicationData$MetadataSyncNotificationSpec=O,l.Armadillo$ContentSpec=B,l.Armadillo$Content$PaymentsTransactionMessageSpec=W,l.Armadillo$Content$NetworkVerificationMessageSpec=q,l.Armadillo$Content$NoteReplyMessageSpec=U,l.Armadillo$Content$BumpExistingMessageSpec=V,l.Armadillo$Content$ImageGalleryMessageSpec=H,l.Armadillo$Content$ScreenshotActionSpec=G,l.Armadillo$Content$ExtendedContentMessageWithSearSpec=z,l.Armadillo$Content$RavenActionNotifMessageSpec=j,l.Armadillo$Content$RavenMessageSpec=K,l.Armadillo$Content$CommonStickerSpec=Q}),98);
__d("MAWEphemeralUtils",["MAWLocalizationType","MAWUserJidWrapper","WAArmadilloApplication.pb","WAJids","err"],(function(t,n,r,o,a,i,l){"use strict";var e=60,s=60*e,u=24*s;function c(t,n,r,a){var i,l=[],c=n===u,d=t===o("MAWUserJidWrapper").getMyUserJid();if(a)i=o("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET;else if(t==null)n===0?i=o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:n<e?(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS,l.push(n.toString())):n<s?(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES,l.push((n/e).toString())):n<u||c?(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS,l.push((n/s).toString())):(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS,l.push((n/u).toString()));else{var m=o("WAJids").extractUserId(t).toString();n===0?d?i=o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:(i=o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF,l.push(m)):n<e?(d?i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS,l.push(m)),l.push(n.toString())):n<s?(d?i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES,l.push(m)),l.push((n/e).toString())):n<u||c?(d?i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS,l.push(m)),l.push((n/s).toString())):(d?i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS,l.push(m)),l.push((n/u).toString()))}return{adminMsgContent:l,adminType:i,version:1}}function d(e,t,n){var a,i=[],l=o("WAJids").extractUserId(t).toString();switch(e){case o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE:n?a=o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:(a=o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT,i.push(l));break;case o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREEN_RECORDING:n?a=o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:(a=o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN,i.push(l));break;default:throw r("err")("Received unexpected screenshot action type")}return{ephemeralScreenshotActionContent:i,ephemeralScreenshotActionType:a}}l.getEphemeralSettingChangeData=c,l.getEphemeralScreenshotActionData=d}),98);
__d("MAWGetUserDeviceChangeAdminType",["MAWLocalizationType"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){switch(e){case"add":return t?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE;case"remove":return t?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE;case"update":return t?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE}}l.getUserDeviceAdminType=e}),98);
__d("MAWJidUtils",["FBLogger","I64","LSIntEnum","MAWDbMsg","MAWJids","WAGlobals","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n){if(o("WAJids").isAuthorSystem(e)||t==null||n==null){r("FBLogger")("messenger_web").warn("Failed to create protocolMsgId with externalId %s for a msg to edit",n);return}return{author:e,chat:t,externalId:n}}function c(e){var t;return u(e.author,e.threadJid,(t=e.externalId)!=null?t:e.editExternalId)}function d(e){return o("WAJids").isAuthorMe(e)?o("WAGlobals").getMyUserJid():e}function m(t,n){var r=(e||(e=o("I64"))).to_string(t),a=(s||(s=o("LSIntEnum"))).unwrapIntEnum(n);switch(a){case 15:return o("MAWJids").jidUtils.toUserJid(r);case 16:return o("WAJids").toGroupJid(r);default:return null}}function p(e){return g(e.threadJid,e.externalId)}function _(e){return f(e.threadJid,e.externalId)}function f(e,t){var n=o("MAWDbMsg").toMsgId(g(e,t));if(n==null)throw r("FBLogger")("messenger_e2ee_web").mustfixThrow("formatProtocolMsgIdFromExternalId: Failed to create protocolMsgId with externalId %s for a msg",t);return n}function g(e,t){return e+"."+t}l.maybeToProtocolMsgId=u,l.toProtocolMsgId=c,l.getAuthorJid=d,l.LSJidtoChatJid=m,l.toProtocolMsgIdStringForMAWStorage=p,l.formatProtocolMsgIdFromMsg=_,l.formatProtocolMsgIdFromExternalId=f}),98);
__d("MAWJobDefinitions",["MAWExternalId"],(function(t,n,r,o,a,i,l){"use strict";var e=["s2sInstanceKey","s2sUserFlowQPLEvent"],s=["scheduleConfig"];function u(e){return e}function c(e){return e}var d={acceptGroupInvite:function(t,n,r,o,a,i){var e=_(i);return{args:{chatJid:t,inviteCode:o,invitedParticipantUserId:r,inviteExpirationTs:a,inviterUserId:n},scheduleConfig:e!=null?e:void 0,type:"acceptGroupInvite"}},addGroupParticipants:function(t,n,r,o){var e=_(o);return{args:{group:t,s2sInstanceKey:r,users:n},scheduleConfig:e!=null?e:void 0,type:"addGroupParticipants"}},deleteMsgsForMe:function(t,n){var e=_(n);return{args:{msgIds:t},scheduleConfig:e!=null?e:void 0,type:"deleteMsgsForMe"}},demoteGroupParticipants:function(t,n,r){var e=_(r);return{args:{group:t,users:n},scheduleConfig:e!=null?e:void 0,type:"demoteGroupParticipants"}},downloadAndHandleMedia:function(t,n,r,o,a,i,l,s){var e=_(s);return{args:{downloadType:a,hash:n,metricInstanceKeys:l,msgType:o,protocolMsgId:t,qplEntryPoint:r},scheduleConfig:e!=null?e:void 0,type:"downloadAndHandleMedia"}},forwardMsg:function(n,r,a,i,l,s,u){var t=_(u),c=a!=null?a:{},d=c.s2sInstanceKey,m=c.s2sUserFlowQPLEvent,p=babelHelpers.objectWithoutPropertiesLoose(c,e);return{args:{args:p,chatJid:n,ephemeralSetting:i,externalId:l!=null?l:o("MAWExternalId").generateExternalId(),isFirstMsg:s,protocolMsgId:r,s2sInstanceKey:d},scheduleConfig:t!=null?t:void 0,type:"forwardMsg"}},getSpams:function(t){var e=_(t);return{args:void 0,scheduleConfig:e!=null?e:void 0,type:"getSpams"}},handleFutureproofMsg:function(t){var e=_(t);return{args:{},scheduleConfig:e!=null?e:void 0,type:"handleFutureproofMsg"}},handleSpamMsg:function(t){var e=_(t);return{args:void 0,scheduleConfig:e!=null?e:void 0,type:"handleSpamMsg"}},igdReportUserSpam:function(t,n){var e=t.chatJid,r=t.context,o=t.frxParams,a=t.frxTags,i=t.msgs,l=t.reportedMessageId,s=t.spamFlow,u=t.userJid,c=_(n);return{args:{chatJid:e,context:r,frxParams:o,frxTags:a,msgs:i,reportedMessageId:l,spamFlow:s,userJid:u},scheduleConfig:c!=null?c:void 0,type:"igdReportUserSpam"}},igdSendMsg:function(t,n){var e=t.actorID,r=t.taskID,o=_(n);return{args:{actorID:e,taskID:r},scheduleConfig:o!=null?o:void 0,type:"igdSendMsg"}},leaveGroups:function(t,n){var e=_(n);return{args:{groups:t},scheduleConfig:e!=null?e:void 0,type:"leaveGroups"}},markThreadAsRead:function(t,n,r,o,a,i){var e=_(i);return{args:{chatJid:t,isBlocked:r,isReadReceiptsDisabled:a,isRestricted:o,relationship:n},scheduleConfig:e!=null?e:void 0,type:"markThreadAsRead"}},promoteGroupParticipants:function(t,n,r){var e=_(r);return{args:{group:t,users:n},scheduleConfig:e!=null?e:void 0,type:"promoteGroupParticipants"}},removeGroupParticipants:function(t,n,r){var e=_(r);return{args:{group:t,users:n},scheduleConfig:e!=null?e:void 0,type:"removeGroupParticipants"}},reportUserSpam:function(t,n,r,o,a,i,l,s,u,c){var e=_(u);return{args:{chatJid:r,context:i,frxParams:l,frxTags:a,isIgd:o,openMsgs:c,reportedMessageId:s,spamFlow:n,userJid:t},scheduleConfig:e!=null?e:void 0,type:"reportUserSpam"}},resendWrittenAppData:function(t,n){var e=_(n);return{args:{appDataExternalId:t},scheduleConfig:e!=null?e:void 0,type:"resendWrittenAppData"}},restoreMessagesFromEncryptedBackups:function(t,n,r,o,a,i,l,s,u,c,d,m,p,f,g){var e=_(p);return{args:{deanonApiPayload:f,hasMoreAfter:a,hasMoreBefore:o,instanceKey:c,isMediaGalleryRestore:g,isPointQuery:i,messages:r,minMsgId:l,optimisticMsgs:d,startSortKey:u,taskSource:m,threadId:n,traceId:s,transportKey:t},scheduleConfig:e!=null?e:void 0,type:"restoreMessagesFromEncryptedBackups"}},restoreProtobufsFromEncryptedBackups:function(t,n,r,o,a,i,l,s,u,c,d,m,p,f,g,h){var e=_(m);return{args:{chatJid:h,deanonApiPayload:f,echoMessages:t,hasMoreAfter:i,hasMoreBefore:a,instanceKey:d,isMediaGalleryRestore:g,isPointQuery:l,messages:o,minMsgId:s,referenceTimestamp:c,requestId:u,taskSource:p,threadId:r,transportKey:n},scheduleConfig:e!=null?e:void 0,type:"restoreProtobufsFromEncryptedBackups"}},revokeMsgs:function(t,n){var e=_(n);return{args:t,scheduleConfig:e!=null?e:void 0,type:"revokeMsgs"}},sendAppData:function(t,n,r){var e=_(r);return{args:{args:t,externalId:n!=null?n:o("MAWExternalId").generateExternalId()},scheduleConfig:e!=null?e:void 0,type:"sendAppData"}},sendBumpMsg:function(t,n,r,a){var e=_(a);return{args:{args:n,chatJid:t,externalId:r!=null?r:o("MAWExternalId").generateExternalId()},scheduleConfig:e!=null?e:void 0,type:"sendBumpMsg"}},sendGroupInviteMsg:function(t,n,r){var e=_(r);return{args:{args:t,externalId:n!=null?n:o("MAWExternalId").generateExternalId()},scheduleConfig:e!=null?e:void 0,type:"sendGroupInviteMsg"}},sendMediaMsg:function(t,n,r,a,i,l,s,u,c,d,m,p,f,g,h,y,C,b,v,S,R,L){var e=_(C);return{args:{args:{duration:c,ephemeralSetting:m,filename:v,height:l,isFirstMsg:h,isForwarded:g,isPtt:d,jpegThumbnail:a,jpegThumbnailHeight:u,jpegThumbnailWidth:s,mediaGroupMetadata:L,offlineAttachmentId:S,openMessageOtid:f,quote:p,s2sInstanceKey:r,source:b,width:i},attachmentType:R,chatJid:t,externalId:y!=null?y:o("MAWExternalId").generateExternalId(),file:n},scheduleConfig:e!=null?e:void 0,type:"sendMediaMsg"}},sendMediaMsgV2:function(t,n,r,a,i,l,s,u,c,d,m,p,f,g,h,y,C,b,v,S,R,L,E){var e=_(C);return{args:{args:{duration:c,ephemeralSetting:m,filename:v,height:l,isFirstMsg:h,isForwarded:g,isPtt:d,jpegThumbnail:a,jpegThumbnailHeight:u,jpegThumbnailWidth:s,mediaGroupMetadata:E,offlineAttachmentId:S,openMessageOtid:f,quote:p,s2sInstanceKey:R,source:b,width:i},attachmentType:L,chatJid:t,externalId:y!=null?y:o("MAWExternalId").generateExternalId(),mimeType:n,plaintext:r},scheduleConfig:e!=null?e:void 0,type:"sendMediaMsgV2"}},sendWrittenAppData:function(t,n){var e=_(n);return{args:{appDataExternalId:t},scheduleConfig:e!=null?e:void 0,type:"sendWrittenAppData"}},setGroupMemberAddMode:function(t,n,r){var e=_(r);return{args:{groupJid:t,memberAddMode:n},scheduleConfig:e!=null?e:void 0,type:"setGroupMemberAddMode"}},setGroupSubject:function(t,n,r){var e=_(r);return{args:{group:t,subject:n},scheduleConfig:e!=null?e:void 0,type:"setGroupSubject"}},startInstamadilloDYI:function(t,n){var e=_(n);return{args:{qplInstanceKey:t},scheduleConfig:e!=null?e:void 0,type:"startInstamadilloDYI"}},updateBackupEntFbidForMedia:function(t,n,r,o){var e=_(o);return{args:{backupEntFbid:n,deliveryObjectId:t,traceId:r},scheduleConfig:e!=null?e:void 0,type:"updateBackupEntFbidForMedia"}}};function m(e,t){return p(e,t)}function p(e,t){var n=t.scheduleConfig,r=babelHelpers.objectWithoutPropertiesLoose(t,s),a={args:{},scheduleConfig:n,type:e};return t.externalIdJob&&(a.args.externalId=o("MAWExternalId").generateExternalId()),a.args=babelHelpers.extends({},a.args,r),t.uniqueJob&&(a.uniqKey=e),a}function _(e){if(e!=null)return{jobId:e.jobId,maxTimeoutMs:e.maxTimeoutMs,priority:e.priority}}function f(e){return{otid:e.toplevelProtobuf.messageId,supplementalProtobufs:new Map(e.supplementalProtobufs.entries().map(function(e){var t=e[0],n=e[1];return[t,{decryptedProtobuf:n.payload,protobufTimestampMS:n.timestampMs}]})),tags:e.tags,toplevelProtobuf:{decryptedProtobuf:e.toplevelProtobuf.payload,protobufTimestampMS:e.toplevelProtobuf.timestampMs}}}l.toThreadJidPrimaryId=u,l.toEncodedEchoMessage=c,l.jobSerializers=d,l.createStartJobInfo=m,l.createStartJobInfoGeneric=p,l.serializeJobScheduledConfig=_,l.mpsMessageToEncryptedBackupsMessage=f}),98);
__d("MAWMediaDownloadStatus",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["DOWNLOADING","SUCCESS","NOT_MANUAL_RETRYABLE_FAILURE","MANUAL_RETRYABLE_FAILURE","MISSING_FILE","RETRYING","AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE"]),l=e;i.default=l}),66);
__d("MAWMediaGalleryEBTaggingUtils",["LSThreadMediaGalleryGroup","MAWMpsGating","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("13725")}function s(e){return u(e)!=null}function u(e){return e===r("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS?r("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS:e===r("LSThreadMediaGalleryGroup").FILES_ONLY&&o("MAWMpsGating").isMpsMediaGalleryEnabled()?r("LSThreadMediaGalleryGroup").FILES_ONLY:void 0}l.isMediaGalleryEBTaggingRestoreEnabled=e,l.isMediaGalleryGroupSupportedForTaggedRestore=s,l.toMediaGalleryGroupForTaggedRestore=u}),98);
__d("MAWMsg",["$InternalEnum","I64","LSBitFlag","LSIntEnum","LSMessagingThreadTypeUtil","LSReplyMessageAttachmentType","MAWMsgType","MsgrWebGating","WAArmadilloXMA.pb"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(e,t,n,r,a,i,l){return e===o("MAWMsgType").MSG_TYPE.TEXT?t?(u||(u=o("LSIntEnum"))).ofNumber(8192):(u||(u=o("LSIntEnum"))).ofNumber(1):e===o("MAWMsgType").MSG_TYPE.VIDEO&&l===!0?(u||(u=o("LSIntEnum"))).ofNumber(16384):e===o("MAWMsgType").MSG_TYPE.IMAGE||e===o("MAWMsgType").MSG_TYPE.VIDEO||e===o("MAWMsgType").MSG_TYPE.RAVEN?(u||(u=o("LSIntEnum"))).ofNumber(2):e===o("MAWMsgType").MSG_TYPE.PTT?(u||(u=o("LSIntEnum"))).ofNumber(4):e===o("MAWMsgType").MSG_TYPE.FUTUREPROOF?m(a):e===o("MAWMsgType").MSG_TYPE.CIPHERTEXT?(u||(u=o("LSIntEnum"))).ofNumber(65536):e===o("MAWMsgType").MSG_TYPE.UNAVAILABLE?(u||(u=o("LSIntEnum"))).ofNumber(262144):e===o("MAWMsgType").MSG_TYPE.GIF?(u||(u=o("LSIntEnum"))).ofNumber(16384):e===o("MAWMsgType").MSG_TYPE.STICKER?(u||(u=o("LSIntEnum"))).ofNumber(4096):e===o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE?(u||(u=o("LSIntEnum"))).ofNumber(64):e===o("MAWMsgType").MSG_TYPE.XMA?n!=null&&n?(u||(u=o("LSIntEnum"))).ofNumber(256):i===o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH?(u||(u=o("LSIntEnum"))).ofNumber(536870912):(u||(u=o("LSIntEnum"))).ofNumber(1024):e===o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE?r?(u||(u=o("LSIntEnum"))).ofNumber(1):(u||(u=o("LSIntEnum"))).ofNumber(33554432):e===o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH?(u||(u=o("LSIntEnum"))).ofNumber(134217728):(u||(u=o("LSIntEnum"))).ofNumber(1)}function m(e){switch(e){case"liveLocationMessage":return(u||(u=o("LSIntEnum"))).ofNumber(4294967296);case"locationMessage":return(u||(u=o("LSIntEnum"))).ofNumber(524288);case"pollCreationMessage":return(u||(u=o("LSIntEnum"))).ofNumber(1048576);case"contactShareMessage":return(u||(u=o("LSIntEnum"))).ofNumber(2097152);case"storyMentionMessage":return(u||(u=o("LSIntEnum"))).ofNumber(4194304);case"postMentionMessage":return(u||(u=o("LSIntEnum"))).ofNumber(2147483648);case"metaAiMessage":return(u||(u=o("LSIntEnum"))).ofNumber(8388608);case"bumpMessage":return(u||(u=o("LSIntEnum"))).ofNumber(16777216);case"stickerReceiverFetchMessage":return(u||(u=o("LSIntEnum"))).ofNumber(67108864);case"noteMention":return(u||(u=o("LSIntEnum"))).ofNumber(1073741824);case"messengerMemory":return(u||(u=o("LSIntEnum"))).ofNumber(8589934592);case"rtcMessage":return(u||(u=o("LSIntEnum"))).ofNumber(17179869184);default:return(u||(u=o("LSIntEnum"))).ofNumber(131072)}}function p(e){var t=e.displayedContentTypes;return(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(2))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(4))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(16384))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(16))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(64))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(4096))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(134217728))}function _(e,t){var n=e.replyAttachmentType;if(n==null)return!1;var a=o("LSMessagingThreadTypeUtil").isArmadilloSecure(t);return a&&e.replyAttachmentId==null&&(!o("MsgrWebGating").isQuotedMessagesInLsEnabled()||e.replyAttachmentPlaintextHash==null)?!1:(c||(c=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO))||(c||(c=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").GIF))||(c||(c=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").AUDIO))||(c||(c=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER))||(c||(c=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO))}function f(e){return(c||(c=o("I64"))).equal(e.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(134217728))}function g(e){return o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(536870912),e.displayedContentTypes)}function h(e){var t=e.displayedContentTypes;return!!(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(32))}function y(e){return(c||(c=o("I64"))).lt(e.sendStatusV2,(u||(u=o("LSIntEnum"))).ofNumber(2))}function C(e){var t=e.displayedContentTypes;return o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1024),t)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(536870912),t)}function b(e){var t=e.displayedContentTypes;return(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(65536))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(131072))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(524288))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(4294967296))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(1048576))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(2097152))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(4194304))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(2147483648))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(8388608))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(16777216))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(1073741824))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(8589934592))?!0:(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(262144))}var v=(s=n("$InternalEnum"))({PLAYED:0,SCREENSHOTTED:1,FORCE_DISABLED:2}),S=s({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4}),R=s({VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2}),L=s({IMAGE:0,VIDEO:1});l.text=(e=o("MAWMsgType")).MSG_TYPE.TEXT,l.image=e.MSG_TYPE.IMAGE,l.video=e.MSG_TYPE.VIDEO,l.ptt=e.MSG_TYPE.PTT,l.unsent=e.MSG_TYPE.REVOKED,l.gif=e.MSG_TYPE.GIF,l.bumpExistingMessage=e.MSG_TYPE.BUMP_EXISTING_MESSAGE,l.getDisplayedContentTypes=d,l.isMediaMsg=p,l.isMediaReplyAttachmentType=_,l.isReceiverFetchMsg=f,l.isReceiverFetchXMAMsg=g,l.isAdminMsg=h,l.isOptimistic=y,l.isXMAMsg=C,l.isPlaceholder=b,l.MAWRavenActionNotifType=v,l.MAWRavenMsgEphemeralMediaState=S,l.MAWRavenMsgEphemeralType=R,l.MAWRavenMsgMediaType=L}),98);
__d("MWXMAV2IsDataclassLiveLocationXMA",["MSGDataclassTypes.flow","justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s(e)!=null}function s(e){if(e!=null){var t=e.content;if(!(t==null||(t==null?void 0:t.__typename)!=="XMSGXmaSingleContent")){var n=t.custom_template_data;if(!(n==null||(n==null?void 0:n.__typename)!=="XMSGXmaLocationTemplateData")){var r=n.location_metadata;if(!(r==null||(r==null?void 0:r.__typename)!=="XMSGXmaLiveLocationMetadata"))return r}}}}var u=1e3;function c(e,t){var n,a=r("justknobx")._("4207"),i=Math.floor(Date.now()/u)-a;return t!=null&&t<i&&((n=s(e))==null?void 0:n.session_state)===o("MSGDataclassTypes.flow").XmsgXmaLiveLocationSessionState.Started}l.isDataclassLiveLocationXMA=e,l.getLiveLocationMetadata=s,l.isExpiredLiveLocationStarted=c}),98);
__d("MAWParseCollapsibleIdFromXMADataClass",["FBLogger","MWXMAV2IsDataclassLiveLocationXMA"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)throw r("FBLogger")("messenger_web").mustfixThrow("xmaDataclass is missing or invalid");var t=o("MWXMAV2IsDataclassLiveLocationXMA").getLiveLocationMetadata(e);if(t!=null)return parseInt(t.session_id,10);if((e==null?void 0:e.layout_config)==null||typeof(e==null?void 0:e.layout_config.collapsible_id)!="number")throw r("FBLogger")("messenger_web").mustfixThrow("Layout config or collapsible_id is missing or invalid");return e.layout_config.collapsible_id}l.parseCollapsibleIdFromXMADataClass=e}),98);
__d("MWXMAV2XmaDataClass",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e!=null)try{return JSON.parse(e)}catch(e){r("FBLogger")("messenger_web_sharing").mustfix("Error parsing xma dataclass")}}l.parseXmaDataClass=e}),98);
__d("MAWParseXMAUnsupportedMessageType",["MWXMAV2IsDataclassLiveLocationXMA","MWXMAV2XmaDataClass","WAArmadilloXMA.pb"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){if(n===void 0&&(n=!1),e==null)return null;if(n)return"paymentsTransactionMessage";switch(e){case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:return o("MWXMAV2IsDataclassLiveLocationXMA").isDataclassLiveLocationXMA(o("MWXMAV2XmaDataClass").parseXmaDataClass(t))?"liveLocationMessage":"locationMessage";case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return"contactShareMessage";case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return"storyMentionMessage";case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:return"postMentionMessage";case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:return"messengerMemory";case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_AUDIO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_VIDEO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:return"rtcMessage";default:return null}}l.getXMAUnsupportedMessageType=e}),98);
__d("WAArmadilloBackupCommon.pb",["WAProtoConst"],(function(t,n,r,o,a,i,l){var e={};e.name="Subprotocol",e.internalSpec={payload:[1,o("WAProtoConst").TYPES.BYTES],version:[2,o("WAProtoConst").TYPES.INT32]},l.SubprotocolSpec=e}),98);
__d("WAArmadilloBackupMessage.pb",["WAArmadilloBackupCommon.pb","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s={},u={},c={};s.name="BackupMessage",s.internalSpec={metadata:[1,(e=o("WAProtoConst")).TYPES.MESSAGE,u],encryptedTransportMessage:[2,e.TYPES.BYTES],encryptedTransportEvent:[5,e.TYPES.MESSAGE,o("WAArmadilloBackupCommon.pb").SubprotocolSpec],encryptedTransportLocallyTransformedMessage:[6,e.TYPES.MESSAGE,o("WAArmadilloBackupCommon.pb").SubprotocolSpec],miTransportAdminMessage:[7,e.TYPES.MESSAGE,o("WAArmadilloBackupCommon.pb").SubprotocolSpec],__oneofs__:{payload:["encryptedTransportMessage","encryptedTransportEvent","encryptedTransportLocallyTransformedMessage","miTransportAdminMessage"]}},u.name="BackupMessage$Metadata",u.internalSpec={senderId:[1,e.TYPES.STRING],messageId:[2,e.TYPES.STRING],timestampMs:[3,e.TYPES.INT64],frankingMetadata:[4,e.TYPES.MESSAGE,c],payloadVersion:[5,e.TYPES.INT32],futureProofBehavior:[6,e.TYPES.INT32],threadTypeTag:[7,e.TYPES.INT32],clientTimestampMs:[8,e.TYPES.INT64]},c.name="BackupMessage$Metadata$FrankingMetadata",c.internalSpec={frankingTag:[3,e.TYPES.BYTES],reportingTag:[4,e.TYPES.BYTES]},l.BackupMessageSpec=s,l.BackupMessage$MetadataSpec=u,l.BackupMessage$Metadata$FrankingMetadataSpec=c}),98);
__d("WAArmadilloLocallyTransformedMessage.pb",["WAProtoConst"],(function(t,n,r,o,a,i,l){var e={},s={};e.name="LocallyTransformedMessage",e.internalSpec={pollUpdateMessage:[1,o("WAProtoConst").TYPES.MESSAGE,s],__oneofs__:{content:["pollUpdateMessage"]}},s.name="LocallyTransformedMessage$PollUpdateAdminMessage",s.internalSpec={pollCreationMessageId:[1,o("WAProtoConst").TYPES.STRING],pollUpdateMessageId:[2,o("WAProtoConst").TYPES.STRING]},l.LocallyTransformedMessageSpec=e,l.LocallyTransformedMessage$PollUpdateAdminMessageSpec=s}),98);
__d("WAArmadilloMiTransportAdminMessage.pb",["$InternalEnum","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s,u=(s=n("$InternalEnum"))({UNSET:0,DISABLED:1,ENABLED:2}),c=s({UNSET:0,CHANGED:1,REMOVED:2}),d=s({UNSET:0,PINNED:1,UNPINNED:2}),m=s({UNSET:0,ALL_MEMBERS:1,ADMINS_ONLY:2}),p=s({UNSET:0,ADDED:1,REMOVED:2}),_=s({UNSET:0,ADDED:1,REMOVED:2}),f={},g={},h={},y={},C={},b={},v={},S={},R={},L={},E={},k={},I={},T={},D={},x={},$={},P={},N={},M={},w={},A={},F={},O={},B={},W={},q={},U={},V={},H={},G={},z={},j={},K={},Q={},X={};f.name="MiTransportAdminMessage",f.internalSpec={skipBumpThread:[34,(e=o("WAProtoConst")).TYPES.BOOL],skipSnippetUpdate:[35,e.TYPES.BOOL],chatThemeChanged:[1,e.TYPES.MESSAGE,X],nicknameChanged:[2,e.TYPES.MESSAGE,Q],groupParticipantChanged:[3,e.TYPES.MESSAGE,K],groupAdminChanged:[4,e.TYPES.MESSAGE,j],groupNameChanged:[5,e.TYPES.MESSAGE,z],groupMembershipAddModeChanged:[6,e.TYPES.MESSAGE,G],messagePinned:[7,e.TYPES.MESSAGE,H],groupImageChanged:[8,e.TYPES.MESSAGE,V],quickReactionChanged:[9,e.TYPES.MESSAGE,U],linkCta:[10,e.TYPES.MESSAGE,W],iconChanged:[11,e.TYPES.MESSAGE,B],disappearingSettingChanged:[12,e.TYPES.MESSAGE,O],limitSharingChanged:[13,e.TYPES.MESSAGE,F],xmatDisappearingSetting:[14,e.TYPES.MESSAGE,A],xmatFriendRequestConfirmedEncrypted:[15,e.TYPES.MESSAGE,w],xmatInstantGameEncryptedDynamicCustomUpdate:[16,e.TYPES.MESSAGE,M],xmatLinkCta:[17,e.TYPES.MESSAGE,N],xmatMagicWords:[18,e.TYPES.MESSAGE,P],xmatMessagingLimitSharing:[19,e.TYPES.MESSAGE,$],xmatMessengerQrCodeScanned:[20,e.TYPES.MESSAGE,x],xmatMessengerSharedAlbumAddition:[21,e.TYPES.MESSAGE,D],xmatMessengerSharedAlbumContentRemoval:[22,e.TYPES.MESSAGE,I],xmatMessengerSharedAlbumDeletion:[23,e.TYPES.MESSAGE,k],xmatMessengerSharedAlbumRename:[24,e.TYPES.MESSAGE,E],xmatMessengerSharedAlbum:[25,e.TYPES.MESSAGE,L],xmatThemeColor:[26,e.TYPES.MESSAGE,R],xmatThreadIcon:[27,e.TYPES.MESSAGE,S],xmatThreadNickname:[28,e.TYPES.MESSAGE,v],xmatThreadQuickReaction:[29,e.TYPES.MESSAGE,b],xmatUpdatePayments:[30,e.TYPES.MESSAGE,C],xmatPinMessageV2:[31,e.TYPES.MESSAGE,y],xmatUnpinMessageV2:[32,e.TYPES.MESSAGE,h],xmatGenaiTaskAdd:[33,e.TYPES.MESSAGE,g],__oneofs__:{content:["chatThemeChanged","nicknameChanged","groupParticipantChanged","groupAdminChanged","groupNameChanged","groupMembershipAddModeChanged","messagePinned","groupImageChanged","quickReactionChanged","linkCta","iconChanged","disappearingSettingChanged","limitSharingChanged","xmatDisappearingSetting","xmatFriendRequestConfirmedEncrypted","xmatInstantGameEncryptedDynamicCustomUpdate","xmatLinkCta","xmatMagicWords","xmatMessagingLimitSharing","xmatMessengerQrCodeScanned","xmatMessengerSharedAlbumAddition","xmatMessengerSharedAlbumContentRemoval","xmatMessengerSharedAlbumDeletion","xmatMessengerSharedAlbumRename","xmatMessengerSharedAlbum","xmatThemeColor","xmatThreadIcon","xmatThreadNickname","xmatThreadQuickReaction","xmatUpdatePayments","xmatPinMessageV2","xmatUnpinMessageV2","xmatGenaiTaskAdd"]}},g.name="MiTransportAdminMessage$XmatGenAITaskAdd",g.internalSpec={taskId:[1,e.TYPES.INT64]},h.name="MiTransportAdminMessage$XmatUnpinMessageV2",h.internalSpec={pinnedMessageId:[1,e.TYPES.STRING]},y.name="MiTransportAdminMessage$XmatPinMessageV2",y.internalSpec={pinnedMessageId:[1,e.TYPES.STRING]},C.name="MiTransportAdminMessage$XmatUpdatePayments",C.internalSpec={receiverName:[1,e.TYPES.STRING],senderName:[2,e.TYPES.STRING],amount:[3,e.TYPES.FLOAT],transactionId:[4,e.TYPES.INT64],transactionStatus:[5,e.TYPES.INT32]},b.name="MiTransportAdminMessage$XmatThreadQuickReaction",b.internalSpec={threadQuickReactionEmoji:[1,e.TYPES.STRING],threadQuickReactionInstructionKeyId:[2,e.TYPES.STRING]},v.name="MiTransportAdminMessage$XmatThreadNickname",v.internalSpec={participantId:[1,e.TYPES.INT64],nickname:[2,e.TYPES.STRING]},S.name="MiTransportAdminMessage$XmatThreadIcon",S.internalSpec={threadIcon:[1,e.TYPES.STRING]},R.name="MiTransportAdminMessage$XmatThemeColor",R.internalSpec={themeId:[1,e.TYPES.STRING],themeColor:[2,e.TYPES.STRING],gradient:[3,e.FLAGS.REPEATED|e.TYPES.STRING],shouldShowIcon:[4,e.TYPES.BOOL],themeType:[5,e.TYPES.INT32],accessibilityLabel:[6,e.TYPES.STRING],themeNameWithSubtitle:[7,e.TYPES.STRING],themeEmoji:[8,e.TYPES.STRING]},L.name="MiTransportAdminMessage$XmatMessengerSharedAlbum",L.internalSpec={xmaDataclass:[1,e.TYPES.STRING]},E.name="MiTransportAdminMessage$XmatMessengerSharedAlbumRename",E.internalSpec={sharedAlbumId:[1,e.TYPES.INT64],oldAlbumTitle:[2,e.TYPES.STRING],newAlbumTitle:[3,e.TYPES.STRING]},k.name="MiTransportAdminMessage$XmatMessengerSharedAlbumDeletion",k.internalSpec={sharedAlbumId:[1,e.TYPES.INT64],albumTitle:[2,e.TYPES.STRING]},I.name="MiTransportAdminMessage$XmatMessengerSharedAlbumContentRemoval",I.internalSpec={sharedAlbumId:[1,e.TYPES.INT64],removedContentMap:[2,e.FLAGS.REPEATED|e.TYPES.MESSAGE,T],removedContentCount:[3,e.TYPES.INT64],albumTitle:[4,e.TYPES.STRING]},T.name="MiTransportAdminMessage$XmatMessengerSharedAlbumContentRemoval$RemovedContentTuple",T.internalSpec={key:[1,e.TYPES.INT64],value:[2,e.TYPES.STRING]},D.name="MiTransportAdminMessage$XmatMessengerSharedAlbumAddition",D.internalSpec={sharedAlbumId:[1,e.TYPES.INT64],albumTitle:[2,e.TYPES.STRING],numOfAttachments:[3,e.TYPES.INT64],isAlbumCreation:[4,e.TYPES.BOOL]},x.name="MiTransportAdminMessage$XmatMessengerQRCodeScanned",x.internalSpec={receiverName:[1,e.TYPES.STRING],senderName:[2,e.TYPES.STRING]},$.name="MiTransportAdminMessage$XmatMessagingLimitSharing",$.internalSpec={senderName:[1,e.TYPES.STRING],senderId:[2,e.TYPES.STRING],limitSharingType:[3,e.TYPES.STRING]},P.name="MiTransportAdminMessage$XmatMagicWords",P.internalSpec={newMagicWordCount:[1,e.TYPES.INT64],removedMagicWordCount:[2,e.TYPES.INT64],magicWord:[3,e.TYPES.STRING],emojiEffect:[4,e.TYPES.STRING],isAllEdited:[5,e.TYPES.BOOL],themeName:[6,e.TYPES.STRING]},N.name="MiTransportAdminMessage$XmatLinkCTA",N.internalSpec={linkCtaXmatPrimaryText:[1,e.TYPES.STRING],linkCtaXmatCtaText:[2,e.TYPES.STRING],linkCtaXmatCtaUrl:[3,e.TYPES.STRING],linkCtaXmatCtaIosUrl:[4,e.TYPES.STRING],androidUri:[5,e.TYPES.STRING],asyncUrl:[6,e.TYPES.STRING],wwwIsAsyncUrl:[7,e.TYPES.BOOL],msiteEnabled:[8,e.TYPES.BOOL],hideUriInFallback:[9,e.TYPES.BOOL],showConfirmationDialog:[10,e.TYPES.BOOL],graphPayload:[11,e.TYPES.STRING],identifierName:[12,e.TYPES.STRING],threadId:[13,e.TYPES.STRING],hideCtaInFallback:[14,e.TYPES.BOOL],ctxAdConversationStarterInfo:[15,e.TYPES.STRING],fbmUri:[16,e.TYPES.STRING],initiatorUserId:[17,e.TYPES.STRING]},M.name="MiTransportAdminMessage$XmatInstantGameEncryptedDynamicCustomUpdate",M.internalSpec={senderName:[1,e.TYPES.STRING],muteManagementAdminTextType:[2,e.TYPES.STRING],gameName:[3,e.TYPES.STRING]},w.name="MiTransportAdminMessage$XmatFriendRequestConfirmedEncrypted",w.internalSpec={otherUserName:[1,e.TYPES.STRING],isTurnOnCohort:[2,e.TYPES.STRING],userWhoAcceptedFriendRequest:[3,e.TYPES.STRING]},A.name="MiTransportAdminMessage$XmatDisappearingSetting",A.internalSpec={disappearingSettingTime:[1,e.TYPES.INT64],oldDisappearingSettingTime:[2,e.TYPES.INT64],disappearingSettingActorFbid:[3,e.TYPES.INT64],newEphemeralityType:[4,e.TYPES.INT64],oldEphemeralityType:[5,e.TYPES.INT64]},F.name="MiTransportAdminMessage$LimitSharingChanged",F.internalSpec={sharingType:[1,e.TYPES.ENUM,u]},O.name="MiTransportAdminMessage$DisappearingSettingChanged",O.internalSpec={disappearingSettingDurationSeconds:[1,e.TYPES.INT32],oldDisappearingSettingDurationSeconds:[2,e.TYPES.INT32]},B.name="MiTransportAdminMessage$IconChanged",B.internalSpec={threadIcon:[1,e.TYPES.STRING]},W.name="MiTransportAdminMessage$LinkCta",W.internalSpec={ukOsaAdminText:[1,e.TYPES.MESSAGE,q],__oneofs__:{content:["ukOsaAdminText"]}},q.name="MiTransportAdminMessage$LinkCta$UkOsaAdminText",q.internalSpec={initiatorUserId:[2,e.TYPES.STRING]},U.name="MiTransportAdminMessage$QuickReactionChanged",U.internalSpec={emojiName:[1,e.TYPES.STRING]},V.name="MiTransportAdminMessage$GroupImageChanged",V.internalSpec={action:[1,e.TYPES.ENUM,c]},H.name="MiTransportAdminMessage$MessagePinned",H.internalSpec={action:[1,e.TYPES.ENUM,d]},G.name="MiTransportAdminMessage$GroupMembershipAddModeChanged",G.internalSpec={mode:[1,e.TYPES.ENUM,m]},z.name="MiTransportAdminMessage$GroupNameChanged",z.internalSpec={groupName:[1,e.TYPES.STRING]},j.name="MiTransportAdminMessage$GroupAdminChanged",j.internalSpec={targetUserId:[1,e.FLAGS.REPEATED|e.TYPES.STRING],action:[2,e.TYPES.ENUM,p]},K.name="MiTransportAdminMessage$GroupParticipantChanged",K.internalSpec={targetUserId:[1,e.FLAGS.REPEATED|e.TYPES.STRING],action:[2,e.TYPES.ENUM,_]},Q.name="MiTransportAdminMessage$NicknameChanged",Q.internalSpec={targetUserId:[1,e.TYPES.STRING],nickname:[2,e.TYPES.STRING]},X.name="MiTransportAdminMessage$ChatThemeChanged",X.internalSpec={themeName:[1,e.TYPES.STRING],themeEmoji:[2,e.TYPES.STRING],themeType:[3,e.TYPES.INT32]},l.MiTransportAdminMessage$LimitSharingChanged$SharingType=u,l.MiTransportAdminMessage$GroupImageChanged$Action=c,l.MiTransportAdminMessage$MessagePinned$Action=d,l.MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode=m,l.MiTransportAdminMessage$GroupAdminChanged$Action=p,l.MiTransportAdminMessage$GroupParticipantChanged$Action=_,l.MiTransportAdminMessageSpec=f,l.MiTransportAdminMessage$XmatGenAITaskAddSpec=g,l.MiTransportAdminMessage$XmatUnpinMessageV2Spec=h,l.MiTransportAdminMessage$XmatPinMessageV2Spec=y,l.MiTransportAdminMessage$XmatUpdatePaymentsSpec=C,l.MiTransportAdminMessage$XmatThreadQuickReactionSpec=b,l.MiTransportAdminMessage$XmatThreadNicknameSpec=v,l.MiTransportAdminMessage$XmatThreadIconSpec=S,l.MiTransportAdminMessage$XmatThemeColorSpec=R,l.MiTransportAdminMessage$XmatMessengerSharedAlbumSpec=L,l.MiTransportAdminMessage$XmatMessengerSharedAlbumRenameSpec=E,l.MiTransportAdminMessage$XmatMessengerSharedAlbumDeletionSpec=k,l.MiTransportAdminMessage$XmatMessengerSharedAlbumContentRemovalSpec=I,l.MiTransportAdminMessage$XmatMessengerSharedAlbumContentRemoval$RemovedContentTupleSpec=T,l.MiTransportAdminMessage$XmatMessengerSharedAlbumAdditionSpec=D,l.MiTransportAdminMessage$XmatMessengerQRCodeScannedSpec=x,l.MiTransportAdminMessage$XmatMessagingLimitSharingSpec=$,l.MiTransportAdminMessage$XmatMagicWordsSpec=P,l.MiTransportAdminMessage$XmatLinkCTASpec=N,l.MiTransportAdminMessage$XmatInstantGameEncryptedDynamicCustomUpdateSpec=M,l.MiTransportAdminMessage$XmatFriendRequestConfirmedEncryptedSpec=w,l.MiTransportAdminMessage$XmatDisappearingSettingSpec=A,l.MiTransportAdminMessage$LimitSharingChangedSpec=F,l.MiTransportAdminMessage$DisappearingSettingChangedSpec=O,l.MiTransportAdminMessage$IconChangedSpec=B,l.MiTransportAdminMessage$LinkCtaSpec=W,l.MiTransportAdminMessage$LinkCta$UkOsaAdminTextSpec=q,l.MiTransportAdminMessage$QuickReactionChangedSpec=U,l.MiTransportAdminMessage$GroupImageChangedSpec=V,l.MiTransportAdminMessage$MessagePinnedSpec=H,l.MiTransportAdminMessage$GroupMembershipAddModeChangedSpec=G,l.MiTransportAdminMessage$GroupNameChangedSpec=z,l.MiTransportAdminMessage$GroupAdminChangedSpec=j,l.MiTransportAdminMessage$GroupParticipantChangedSpec=K,l.MiTransportAdminMessage$NicknameChangedSpec=Q,l.MiTransportAdminMessage$ChatThemeChangedSpec=X}),98);
__d("WAArmadilloTransportEvent.pb",["$InternalEnum","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s=n("$InternalEnum")({NONE:0,DETECTED:1,CLEARED:2}),u=n("$InternalEnum")({NONE:0,ADDED:1,REMOVED:2,REPLACED:3}),c=n("$InternalEnum")({DECRYPTION_FAILURE:1,UNAVAILABLE_MESSAGE:2}),d={},m={},p={},_={},f={};d.name="TransportEvent",d.internalSpec={placeholder:[1,(e=o("WAProtoConst")).TYPES.MESSAGE,f],event:[2,e.TYPES.MESSAGE,m],__oneofs__:{content:["placeholder","event"]}},m.name="TransportEvent$Event",m.internalSpec={deviceChange:[1,e.TYPES.MESSAGE,_],icdcAlert:[2,e.TYPES.MESSAGE,p],__oneofs__:{event:["deviceChange","icdcAlert"]}},p.name="TransportEvent$Event$IcdcAlert",p.internalSpec={type:[1,e.TYPES.ENUM,s]},_.name="TransportEvent$Event$DeviceChange",_.internalSpec={type:[1,e.TYPES.ENUM,u],deviceName:[2,e.TYPES.STRING],devicePlatform:[3,e.TYPES.STRING],deviceModel:[4,e.TYPES.STRING]},f.name="TransportEvent$Placeholder",f.internalSpec={type:[1,e.TYPES.ENUM,c]},l.TransportEvent$Event$IcdcAlert$Type=s,l.TransportEvent$Event$DeviceChange$Type=u,l.TransportEvent$Placeholder$Type=c,l.TransportEventSpec=d,l.TransportEvent$EventSpec=m,l.TransportEvent$Event$IcdcAlertSpec=p,l.TransportEvent$Event$DeviceChangeSpec=_,l.TransportEvent$PlaceholderSpec=f}),98);
__d("WAConsumerApplication.pb",["WACommon.pb","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s,u={SMALL:1,MEDIUM:2,LARGE:3},c={SANS_SERIF:0,SERIF:1,NORICAN_REGULAR:2,BRYNDAN_WRITE:3,BEBASNEUE_REGULAR:4,OSWALD_HEAVY:5},d={NONE:0,VIDEO:1},m={},p={},_={},f={},g={},h={},y={},C={},b={},v={},S={},R={},L={},E={},k={},I={},T={},D={},x={},$={},P={},N={},M={},w={},A={},F={},O={},B={},W={},q={},U={},V={},H={};m.name="ConsumerApplication",m.internalSpec={payload:[1,(e=o("WAProtoConst")).TYPES.MESSAGE,p],metadata:[2,e.TYPES.MESSAGE,f]},p.name="ConsumerApplication$Payload",p.internalSpec={content:[1,e.TYPES.MESSAGE,y],applicationData:[2,e.TYPES.MESSAGE,h],signal:[3,e.TYPES.MESSAGE,g],subProtocol:[4,e.TYPES.MESSAGE,_],__oneofs__:{payload:["content","applicationData","signal","subProtocol"]}},_.name="ConsumerApplication$SubProtocolPayload",_.internalSpec={futureProof:[1,e.TYPES.ENUM,(s=o("WACommon.pb")).FUTURE_PROOF_BEHAVIOR]},f.name="ConsumerApplication$Metadata",f.internalSpec={specialTextSize:[1,e.TYPES.ENUM,u]},g.name="ConsumerApplication$Signal",g.internalSpec={},h.name="ConsumerApplication$ApplicationData",h.internalSpec={revoke:[1,e.TYPES.MESSAGE,I],__oneofs__:{applicationContent:["revoke"]}},y.name="ConsumerApplication$Content",y.internalSpec={messageText:[1,e.TYPES.MESSAGE,s.MessageTextSpec],imageMessage:[2,e.TYPES.MESSAGE,W],contactMessage:[3,e.TYPES.MESSAGE,P],locationMessage:[4,e.TYPES.MESSAGE,w],extendedTextMessage:[5,e.TYPES.MESSAGE,M],statusTextMessage:[6,e.TYPES.MESSAGE,N],documentMessage:[7,e.TYPES.MESSAGE,F],audioMessage:[8,e.TYPES.MESSAGE,B],videoMessage:[9,e.TYPES.MESSAGE,O],contactsArrayMessage:[10,e.TYPES.MESSAGE,$],liveLocationMessage:[11,e.TYPES.MESSAGE,x],stickerMessage:[12,e.TYPES.MESSAGE,A],groupInviteMessage:[13,e.TYPES.MESSAGE,D],viewOnceMessage:[14,e.TYPES.MESSAGE,T],reactionMessage:[16,e.TYPES.MESSAGE,k],pollCreationMessage:[17,e.TYPES.MESSAGE,L],pollUpdateMessage:[18,e.TYPES.MESSAGE,R],editMessage:[19,e.TYPES.MESSAGE,C],__oneofs__:{content:["messageText","imageMessage","contactMessage","locationMessage","extendedTextMessage","statusTextMessage","documentMessage","audioMessage","videoMessage","contactsArrayMessage","liveLocationMessage","stickerMessage","groupInviteMessage","viewOnceMessage","reactionMessage","pollCreationMessage","pollUpdateMessage","editMessage"]}},C.name="ConsumerApplication$EditMessage",C.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec],message:[2,e.TYPES.MESSAGE,s.MessageTextSpec],timestampMs:[3,e.TYPES.INT64]},b.name="ConsumerApplication$PollAddOptionMessage",b.internalSpec={pollOption:[1,e.FLAGS.REPEATED|e.TYPES.MESSAGE,E]},v.name="ConsumerApplication$PollVoteMessage",v.internalSpec={selectedOptions:[1,e.FLAGS.REPEATED|e.TYPES.BYTES],senderTimestampMs:[2,e.TYPES.INT64]},S.name="ConsumerApplication$PollEncValue",S.internalSpec={encPayload:[1,e.TYPES.BYTES],encIv:[2,e.TYPES.BYTES]},R.name="ConsumerApplication$PollUpdateMessage",R.internalSpec={pollCreationMessageKey:[1,e.TYPES.MESSAGE,s.MessageKeySpec],vote:[2,e.TYPES.MESSAGE,S],addOption:[3,e.TYPES.MESSAGE,S]},L.name="ConsumerApplication$PollCreationMessage",L.internalSpec={encKey:[1,e.TYPES.BYTES],name:[2,e.TYPES.STRING],options:[3,e.FLAGS.REPEATED|e.TYPES.MESSAGE,E],selectableOptionsCount:[4,e.TYPES.UINT32]},E.name="ConsumerApplication$Option",E.internalSpec={optionName:[1,e.TYPES.STRING]},k.name="ConsumerApplication$ReactionMessage",k.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec],text:[2,e.TYPES.STRING],groupingKey:[3,e.TYPES.STRING],senderTimestampMs:[4,e.TYPES.INT64],reactionMetadataDataclassData:[5,e.TYPES.STRING],style:[6,e.TYPES.INT32]},I.name="ConsumerApplication$RevokeMessage",I.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec]},T.name="ConsumerApplication$ViewOnceMessage",T.internalSpec={imageMessage:[1,e.TYPES.MESSAGE,W],videoMessage:[2,e.TYPES.MESSAGE,O],__oneofs__:{viewOnceContent:["imageMessage","videoMessage"]}},D.name="ConsumerApplication$GroupInviteMessage",D.internalSpec={groupJid:[1,e.TYPES.STRING],inviteCode:[2,e.TYPES.STRING],inviteExpiration:[3,e.TYPES.INT64],groupName:[4,e.TYPES.STRING],jpegThumbnail:[5,e.TYPES.BYTES],caption:[6,e.TYPES.MESSAGE,s.MessageTextSpec]},x.name="ConsumerApplication$LiveLocationMessage",x.internalSpec={location:[1,e.TYPES.MESSAGE,V],accuracyInMeters:[2,e.TYPES.UINT32],speedInMps:[3,e.TYPES.FLOAT],degreesClockwiseFromMagneticNorth:[4,e.TYPES.UINT32],caption:[5,e.TYPES.MESSAGE,s.MessageTextSpec],sequenceNumber:[6,e.TYPES.INT64],timeOffset:[7,e.TYPES.UINT32]},$.name="ConsumerApplication$ContactsArrayMessage",$.internalSpec={displayName:[1,e.TYPES.STRING],contacts:[2,e.FLAGS.REPEATED|e.TYPES.MESSAGE,P]},P.name="ConsumerApplication$ContactMessage",P.internalSpec={contact:[1,e.TYPES.MESSAGE,s.SubProtocolSpec]},N.name="ConsumerApplication$StatusTextMesage",N.internalSpec={text:[1,e.TYPES.MESSAGE,M],textArgb:[6,e.TYPES.FIXED32],backgroundArgb:[7,e.TYPES.FIXED32],font:[8,e.TYPES.ENUM,c]},M.name="ConsumerApplication$ExtendedTextMessage",M.internalSpec={text:[1,e.TYPES.MESSAGE,s.MessageTextSpec],matchedText:[2,e.TYPES.STRING],canonicalUrl:[3,e.TYPES.STRING],description:[4,e.TYPES.STRING],title:[5,e.TYPES.STRING],thumbnail:[6,e.TYPES.MESSAGE,s.SubProtocolSpec],previewType:[7,e.TYPES.ENUM,d]},w.name="ConsumerApplication$LocationMessage",w.internalSpec={location:[1,e.TYPES.MESSAGE,V],address:[2,e.TYPES.STRING]},A.name="ConsumerApplication$StickerMessage",A.internalSpec={sticker:[1,e.TYPES.MESSAGE,s.SubProtocolSpec]},F.name="ConsumerApplication$DocumentMessage",F.internalSpec={document:[1,e.TYPES.MESSAGE,s.SubProtocolSpec],fileName:[2,e.TYPES.STRING]},O.name="ConsumerApplication$VideoMessage",O.internalSpec={video:[1,e.TYPES.MESSAGE,s.SubProtocolSpec],caption:[2,e.TYPES.MESSAGE,s.MessageTextSpec]},B.name="ConsumerApplication$AudioMessage",B.internalSpec={audio:[1,e.TYPES.MESSAGE,s.SubProtocolSpec],ptt:[2,e.TYPES.BOOL]},W.name="ConsumerApplication$ImageMessage",W.internalSpec={image:[1,e.TYPES.MESSAGE,s.SubProtocolSpec],caption:[2,e.TYPES.MESSAGE,s.MessageTextSpec]},q.name="ConsumerApplication$InteractiveAnnotation",q.internalSpec={polygonVertices:[1,e.FLAGS.REPEATED|e.TYPES.MESSAGE,U],location:[2,e.TYPES.MESSAGE,V],__oneofs__:{action:["location"]}},U.name="ConsumerApplication$Point",U.internalSpec={x:[1,e.TYPES.DOUBLE],y:[2,e.TYPES.DOUBLE]},V.name="ConsumerApplication$Location",V.internalSpec={degreesLatitude:[1,e.TYPES.DOUBLE],degreesLongitude:[2,e.TYPES.DOUBLE],name:[3,e.TYPES.STRING]},H.name="ConsumerApplication$MediaPayload",H.internalSpec={protocol:[1,e.TYPES.MESSAGE,s.SubProtocolSpec]},l.CONSUMER_APPLICATION_METADATA_SPECIAL_TEXT_SIZE=u,l.CONSUMER_APPLICATION_STATUS_TEXT_MESAGE_FONT_TYPE=c,l.CONSUMER_APPLICATION_EXTENDED_TEXT_MESSAGE_PREVIEW_TYPE=d,l.ConsumerApplicationSpec=m,l.ConsumerApplication$PayloadSpec=p,l.ConsumerApplication$SubProtocolPayloadSpec=_,l.ConsumerApplication$MetadataSpec=f,l.ConsumerApplication$SignalSpec=g,l.ConsumerApplication$ApplicationDataSpec=h,l.ConsumerApplication$ContentSpec=y,l.ConsumerApplication$EditMessageSpec=C,l.ConsumerApplication$PollAddOptionMessageSpec=b,l.ConsumerApplication$PollVoteMessageSpec=v,l.ConsumerApplication$PollEncValueSpec=S,l.ConsumerApplication$PollUpdateMessageSpec=R,l.ConsumerApplication$PollCreationMessageSpec=L,l.ConsumerApplication$OptionSpec=E,l.ConsumerApplication$ReactionMessageSpec=k,l.ConsumerApplication$RevokeMessageSpec=I,l.ConsumerApplication$ViewOnceMessageSpec=T,l.ConsumerApplication$GroupInviteMessageSpec=D,l.ConsumerApplication$LiveLocationMessageSpec=x,l.ConsumerApplication$ContactsArrayMessageSpec=$,l.ConsumerApplication$ContactMessageSpec=P,l.ConsumerApplication$StatusTextMesageSpec=N,l.ConsumerApplication$ExtendedTextMessageSpec=M,l.ConsumerApplication$LocationMessageSpec=w,l.ConsumerApplication$StickerMessageSpec=A,l.ConsumerApplication$DocumentMessageSpec=F,l.ConsumerApplication$VideoMessageSpec=O,l.ConsumerApplication$AudioMessageSpec=B,l.ConsumerApplication$ImageMessageSpec=W,l.ConsumerApplication$InteractiveAnnotationSpec=q,l.ConsumerApplication$PointSpec=U,l.ConsumerApplication$LocationSpec=V,l.ConsumerApplication$MediaPayloadSpec=H}),98);
__d("WAMsgApplication.pb",["WACommon.pb","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s,u={DEFAULT:0,VANISH_MODE:1,DISAPPEARING_MESSAGES:2},c={UNKNOWN:0,SEEN_ONCE:1,SEEN_BASED_WITH_TIMER:2,SEND_BASED_WITH_TIMER:3},d={},m={},p={},_={},f={},g={},h={},y={},C={},b={};d.name="MessageApplication",d.internalSpec={payload:[1,(e=o("WAProtoConst")).TYPES.MESSAGE,f],metadata:[2,e.TYPES.MESSAGE,m]},m.name="MessageApplication$Metadata",m.internalSpec={forwardingScore:[5,e.TYPES.UINT32],isForwarded:[6,e.TYPES.BOOL],businessMetadata:[7,e.TYPES.MESSAGE,(s=o("WACommon.pb")).SubProtocolSpec],frankingKey:[8,e.TYPES.BYTES],frankingVersion:[9,e.TYPES.INT32],quotedMessage:[10,e.TYPES.MESSAGE,p],threadType:[11,e.TYPES.ENUM,u],readonlyMetadataDataclass:[12,e.TYPES.STRING],groupId:[13,e.TYPES.STRING],groupSize:[14,e.TYPES.UINT32],groupIndex:[15,e.TYPES.UINT32],botResponseId:[16,e.TYPES.STRING],collapsibleId:[17,e.TYPES.STRING],secondaryOtid:[18,e.TYPES.STRING],chatEphemeralSetting:[1,e.TYPES.MESSAGE,b],ephemeralSettingList:[2,e.TYPES.MESSAGE,_],ephemeralSharedSecret:[3,e.TYPES.BYTES],__oneofs__:{ephemeral:["chatEphemeralSetting","ephemeralSettingList","ephemeralSharedSecret"]}},p.name="MessageApplication$Metadata$QuotedMessage",p.internalSpec={stanzaId:[1,e.TYPES.STRING],remoteJid:[2,e.TYPES.STRING],participant:[3,e.TYPES.STRING],payload:[4,e.TYPES.MESSAGE,f]},_.name="MessageApplication$Metadata$EphemeralSettingMap",_.internalSpec={chatJid:[1,e.TYPES.STRING],ephemeralSetting:[2,e.TYPES.MESSAGE,b]},f.name="MessageApplication$Payload",f.internalSpec={coreContent:[1,e.TYPES.MESSAGE,C],signal:[2,e.TYPES.MESSAGE,y],applicationData:[3,e.TYPES.MESSAGE,h],subProtocol:[4,e.TYPES.MESSAGE,g],__oneofs__:{content:["coreContent","signal","applicationData","subProtocol"]}},g.name="MessageApplication$SubProtocolPayload",g.internalSpec={futureProof:[1,e.TYPES.ENUM,s.FUTURE_PROOF_BEHAVIOR],consumerMessage:[2,e.TYPES.MESSAGE,s.SubProtocolSpec],businessMessage:[3,e.TYPES.MESSAGE,s.SubProtocolSpec],paymentMessage:[4,e.TYPES.MESSAGE,s.SubProtocolSpec],multiDevice:[5,e.TYPES.MESSAGE,s.SubProtocolSpec],voip:[6,e.TYPES.MESSAGE,s.SubProtocolSpec],armadillo:[7,e.TYPES.MESSAGE,s.SubProtocolSpec],__oneofs__:{subProtocol:["consumerMessage","businessMessage","paymentMessage","multiDevice","voip","armadillo"]}},h.name="MessageApplication$ApplicationData",h.internalSpec={},y.name="MessageApplication$Signal",y.internalSpec={},C.name="MessageApplication$Content",C.internalSpec={},b.name="MessageApplication$EphemeralSetting",b.internalSpec={ephemeralExpiration:[2,e.TYPES.UINT32],ephemeralSettingTimestamp:[3,e.TYPES.INT64],ephemeralityType:[5,e.TYPES.ENUM,c],isEphemeralSettingReset:[4,e.TYPES.BOOL]},l.MESSAGE_APPLICATION_METADATA_THREAD_TYPE=u,l.MESSAGE_APPLICATION_EPHEMERAL_SETTING_EPHEMERALITY_TYPE=c,l.MessageApplicationSpec=d,l.MessageApplication$MetadataSpec=m,l.MessageApplication$Metadata$QuotedMessageSpec=p,l.MessageApplication$Metadata$EphemeralSettingMapSpec=_,l.MessageApplication$PayloadSpec=f,l.MessageApplication$SubProtocolPayloadSpec=g,l.MessageApplication$ApplicationDataSpec=h,l.MessageApplication$SignalSpec=y,l.MessageApplication$ContentSpec=C,l.MessageApplication$EphemeralSettingSpec=b}),98);
__d("WAParseMessageApplication",["decodeProtobuf"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r,a=e.payload;if(a==null)return{version:"v3",type:"error",error:"The messageApplication has no payload"};if(o("decodeProtobuf").getUnknownFields(e.payload)!=null)return{version:"v3",type:"error",error:"There are unknown fields in the message application payload"};var i=a.subProtocol;if(i==null)return{version:"v3",type:"error",error:"The messageApplication payload has no subProtocol"};if(o("decodeProtobuf").getUnknownFields(i)!=null)return{version:"v3",type:"error",error:"messageApplication subProtocol has unknown fields",futureProof:i.futureProof};var l=[],s=(t=e.payload)==null||(t=t.subProtocol)==null?void 0:t.consumerMessage,u=(n=e.payload)==null||(n=n.subProtocol)==null?void 0:n.armadillo,c=(r=e.payload)==null||(r=r.subProtocol)==null?void 0:r.multiDevice;if(s!=null){if(s.payload==null)return{version:"v3",type:"error",error:"subprotocol of type consumerMessage has no payload"};l.push({payload:new Uint8Array(s.payload),type:"success",subprotocolType:"consumerMessage"})}if(u!=null){if(u.payload==null)return{version:"v3",type:"error",error:"subprotocol of type armadillo has no payload"};l.push({payload:new Uint8Array(u.payload),type:"success",subprotocolType:"armadillo"})}if(c!=null){if(c.payload==null)return{version:"v3",type:"error",error:"subprotocol of type multiDevice has no payload"};l.push({payload:new Uint8Array(c.payload),type:"success",subprotocolType:"multiDevice"})}return l.length!==1?{version:"v3",type:"error",error:"Wrong number of subprotocols: "+l.length}:l[0]}l.parseMessageApplication=e}),98);
__d("lastx",["invariant"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=null;if(Array.isArray(e))e.length&&(t={value:e[e.length-1]});else for(var n of e)t=t||{},t.value=n;if(t)return t.value;s(0,1145)}l.default=e}),98);
__d("MultiKeyMap",["invariant","lastx"],(function(t,n,r,o,a,i,l,s){"use strict";var e=typeof WeakMap=="function",u=(function(){function t(){this.$1=this.$2(),this.$3=null}var n=t.prototype;return n.set=function(t,n){this.$4(t);for(var e=this.$1,r=0;r<t.length-1;r++){var o=t[r],a=this.$5(e,o).get(o);a==null&&(a=this.$2(),this.$5(e,o).set(o,a)),a.type==="map"||s(0,1732),e=a}var i=t[t.length-1];this.$5(e,i).set(i,{type:"value",value:n})},n.get=function(t){this.$4(t);var e=this.$6(t),n=e&&e.get(r("lastx")(t));return n==null||n.type!=="value"?void 0:n.value},n.delete=function(t){this.$4(t);var e=this.$6(t);return e?e.delete(r("lastx")(t)):!1},n.$5=function(t,n){return c(n)?t.cache:t.weakCache},n.$6=function(t){for(var e=this.$1,n=0;n<t.length-1;n++){var o,a=t[n];if(((o=e)==null?void 0:o.type)==="map")e=this.$5(e,a).get(a);else return}var i=r("lastx")(t),l=e&&this.$5(e,i);return l},n.$2=function(){return{type:"map",cache:new Map,weakCache:e?new WeakMap:new Map}},n.$4=function(t){if(this.$3==null&&(this.$3=t.length),this.$3!==t.length)throw new Error("MultiKeyMap called with different number of keys");if(t.length<1)throw new Error("MultiKeyMap called with empty array of keys")},t})();function c(e){var t=typeof e;return t==="bigint"||t==="boolean"||t==="number"||t==="string"||e==null}l.default=u}),98);
__d("memoizeWithArgsWeak",["MultiKeyMap"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){t===void 0&&(t="");var n=new(r("MultiKeyMap"));return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=n.get(r);if(a!==void 0)return a;var i=e.apply(void 0,r);return n.set(r,i),i}}l.default=e}),98);
__d("MAWProtobufDeserializers",["FBLogger","WAArmadilloApplication.pb","WAArmadilloBackupMessage.pb","WAArmadilloLocallyTransformedMessage.pb","WAArmadilloMiTransportAdminMessage.pb","WAArmadilloTransportEvent.pb","WAByteArray","WAConsumerApplication.pb","WAMediaTransport.pb","WAMsgApplication.pb","WAParseMessageApplication","decodeProtobuf","memoize","memoizeWithArgsWeak","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e){throw new TypeError('"'+e+'" is read-only')}function s(e){return e instanceof ArrayBuffer?e:o("WAByteArray").uint8ArrayToBuffer(e)}var u=function(t){var e;this.kind="imageTransport",this.payload=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").ImageTransportSpec,(e=t.image)==null?void 0:e.payload)},c=function(t){var e;this.kind="audioTransport",this.payload=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").AudioTransportSpec,(e=t.audio)==null?void 0:e.payload),this.ptt=t.ptt},d=function(t){var e;this.kind="videoTransport",this.payload=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").VideoTransportSpec,(e=t.video)==null?void 0:e.payload),this.caption=t.caption},m=function(t){var e;this.kind="documentTransport",this.payload=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").DocumentTransportSpec,(e=t.document)==null?void 0:e.payload),this.fileName=t.fileName},p=function(t){var e;this.kind="stickerTransport",this.payload=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").StickerTransportSpec,(e=t.sticker)==null?void 0:e.payload)},_=function(t){var e=this,n;this.kind="extendedContentMessage",this.favicon=(n=r("memoize"))(function(){var t,n;return((t=e.payload)==null||(t=t.favicon)==null?void 0:t.payload)==null?null:o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").ImageTransportSpec,(n=e.payload)==null||(n=n.favicon)==null?void 0:n.payload)}),this.headerImage=n(function(){var t,n;return((t=e.payload)==null||(t=t.headerImage)==null?void 0:t.payload)==null?null:o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").ImageTransportSpec,(n=e.payload)==null||(n=n.headerImage)==null?void 0:n.payload)}),this.previews=n(function(){var t,n;return(t=(n=e.payload)==null||(n=n.previews)==null?void 0:n.map(function(e){return o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").ImageTransportSpec,e.payload)}))!=null?t:[]}),this.associatedMessage=n(function(){var t=e.payload.associatedMessage;return(t==null?void 0:t.payload)==null?null:new y(t.payload)}),this.payload=t},f=function(t){var e=this;this.stickerContent=r("memoize")(function(){var t,n=(t=e.payload)==null?void 0:t.stickerContent;return n==null?null:o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").StickerTransportSpec,n.payload)}),this.videoContent=r("memoize")(function(){var t,n=(t=e.payload)==null?void 0:t.videoContent;return n==null?null:o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").VideoTransportSpec,n.payload)}),this.payload=t},g=(function(){function e(e){this.kind="armadillo",this.bytes=s(e),this.proto=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloApplication.pb").ArmadilloSpec,e),this.payload=this.proto.payload,this.metadata=this.proto.metadata}var t=e.prototype;return t.extendedContentMessage=function(){var e,t=(e=this.payload)==null||(e=e.content)==null?void 0:e.extendedContentMessage;return t==null?null:new _(t)},t.noteReply=function(){var e,t=(e=this.payload)==null||(e=e.content)==null?void 0:e.noteReplyMessage;return t==null?null:new f(t)},t.paymentsTransactionMessage=function(){var e,t=(e=this.payload)==null||(e=e.content)==null||(e=e.paymentsTransactionMessage)==null?void 0:e.extendedContentMessage;return t==null?null:new _(t)},e})(),h=(function(){function e(e){var t=this,n;this.kind="consumerApplication",this.imageMessage=(n=r("memoize"))(function(){var e,n=(e=t.payload)==null||(e=e.content)==null?void 0:e.imageMessage;if(n!=null)return new u(n)}),this.audioMessage=n(function(){var e,n=(e=t.payload)==null||(e=e.content)==null?void 0:e.audioMessage;if(n!=null)return new c(n)}),this.videoMessage=n(function(){var e,n=(e=t.payload)==null||(e=e.content)==null?void 0:e.videoMessage;if(n!=null)return new d(n)}),this.documentMessage=n(function(){var e,n=(e=t.payload)==null||(e=e.content)==null?void 0:e.documentMessage;if(n!=null)return new m(n)}),this.stickerMessage=n(function(){var e,n=(e=t.payload)==null||(e=e.content)==null?void 0:e.stickerMessage;if(n!=null)return new p(n)}),this.bytes=s(e),this.proto=o("decodeProtobuf").decodeProtobuf(o("WAConsumerApplication.pb").ConsumerApplicationSpec,e),this.payload=this.proto.payload,this.metadata=this.proto.metadata}var t=e.prototype;return t.attachmentMessage=function(){var e,t,n,r;return(e=(t=(n=(r=this.imageMessage())!=null?r:this.audioMessage())!=null?n:this.videoMessage())!=null?t:this.documentMessage())!=null?e:this.stickerMessage()},e})(),y=(function(){function e(e){var t=this;this.kind="messageApplication",this.subProtocol=r("memoize")(function(){var e=o("WAParseMessageApplication").parseMessageApplication(t.proto);if(e.payload!=null){var n=e.payload;switch(e.subprotocolType){case"consumerMessage":return new h(n);case"armadillo":return new g(n);case"businessMessage":case"paymentMessage":case"multiDevice":case"voip":break;default:e.subprotocolType}}}),this.bytes=s(e),this.proto=o("decodeProtobuf").decodeProtobuf(o("WAMsgApplication.pb").MessageApplicationSpec,e)}var t=e.prototype;return t.consumerMessage=function(){var e=this.subProtocol();return(e==null?void 0:e.kind)!=="consumerApplication"?null:e},t.armadillo=function(){var e=this.subProtocol();return(e==null?void 0:e.kind)!=="armadillo"?null:e},e})(),C=function(t){this.kind="transportEvent",this.proto=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloTransportEvent.pb").TransportEventSpec,t)},b=function(t){this.kind="locallyTransformedMessage",this.proto=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloLocallyTransformedMessage.pb").LocallyTransformedMessageSpec,t)},v=function(t){this.kind="adminMessage",this.proto=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessageSpec,t)},S="SKIP_CACHE",R=(function(){function e(e,t){var n=this;this.payload=r("memoize")(function(){if(n.proto.encryptedTransportEvent!=null)return new C(r("nullthrows")(n.proto.encryptedTransportEvent.payload));if(n.proto.encryptedTransportLocallyTransformedMessage!=null)return new b(r("nullthrows")(n.proto.encryptedTransportLocallyTransformedMessage.payload));if(n.proto.encryptedTransportMessage!=null)return new y(r("nullthrows")(n.proto.encryptedTransportMessage));if(n.proto.miTransportAdminMessage!=null)return new v(r("nullthrows")(n.proto.miTransportAdminMessage.payload));throw r("FBLogger")("messenger_web").mustfixThrow("BackupMessage proto has no payload")}),this.proto=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloBackupMessage.pb").BackupMessageSpec,e)}var t=e.prototype;return t.encryptedTransportMessage=function(){var e=this.payload();if(e.kind==="messageApplication")return e},t.encryptedTransportEvent=function(){var e=this.payload();if(e.kind==="transportEvent")return e},t.locallyTransformedMessage=function(){var e=this.payload();if(e.kind==="locallyTransformedMessage")return e},t.adminMessage=function(){var e=this.payload();if(e.kind==="adminMessage")return e},e})();R.create=r("memoizeWithArgsWeak")(function(e){return new R(e,S)}),l.DeserializedImageMessage=u,l.DeserializedAudioMessage=c,l.DeserializedVideoMessage=d,l.DeserializedDocumentMessage=m,l.DeserializedStickerMessage=p,l.DeserializedExtendedContentMessage=_,l.DeserializedNoteReply=f,l.DeserializedArmadilloApplication=g,l.DeserializedConsumerApplication=h,l.DeserializedMessageApplication=y,l.DeserializedTransportEvent=C,l.DeserializedLocallyTransformedMessage=b,l.DeserializedAdminMessage=v,l.DeserializedBackupMessage=R}),98);
__d("RavenMessagingState",[],(function(t,n,r,o,a,i){var e=Object.freeze({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});i.default=e}),66);
__d("MAWRavenUtils",["EphemeralMediaViewMode","MAWMsg","RavenMessagingState"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){switch(t){case o("MAWMsg").MAWRavenMsgEphemeralMediaState.PERMANENT:return r("RavenMessagingState").PERMANENT;case o("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN:return r("RavenMessagingState").UNSEEN;case o("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN:return r("RavenMessagingState").SEEN;case o("MAWMsg").MAWRavenMsgEphemeralMediaState.REPLAYED:return r("RavenMessagingState").REPLAYED;case o("MAWMsg").MAWRavenMsgEphemeralMediaState.EXPIRED:return r("RavenMessagingState").EXPIRED}},s=function(t){switch(t){case o("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return r("EphemeralMediaViewMode").PERMANENT;case o("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:return r("EphemeralMediaViewMode").REPLAYABLE;case o("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return r("EphemeralMediaViewMode").READ_ONCE}},u=function(t,n){return{ephemeralMediaState:n,ephemeralMediaViewMode:s(t)}};function c(t,n){switch(n){case o("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return t===o("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN?r("RavenMessagingState").SEEN:e(t);case o("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:return t===o("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN?r("RavenMessagingState").SEEN:t===o("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN?r("RavenMessagingState").REPLAYED:e(t);case o("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return e(t)}}l.getEphemeralMediaState=e,l.getEphemeralMediaViewMode=s,l.deriveRavenSettings=u,l.getNextRavenMessageEphemeralState=c}),98);
__d("MAWVaultMaterialsStorage",["MAWVaultMaterials","MWFBLogger","Promise","WebAsyncStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="mw_exchange_vm";function u(){var t=o("MAWVaultMaterials").generateNewVaultMaterials(),a="newly-generated";return new(e||(e=n("Promise")))(function(e){r("WebAsyncStorage").getOrSetItem(s,t,function(n,r){if(n!=null){var i=o("MWFBLogger").MWLogger();if(n instanceof Error)throw i.catching(n).mustfixThrow("Failed to store Vaulting Materials. %s",n.toString());i.mustfix("Failed to store Vaulting Materials.")}r!==null&&(t=r,a="storage"),e(o("MAWVaultMaterials").initializeVaultMaterials(t,a))})})}function c(){return o("MAWVaultMaterials").hasVaultBeenSetup()?(e||(e=n("Promise"))).resolve(o("MAWVaultMaterials").getVaultMaterials()):u()}l.setupVaultMaterials=c}),98);
__d("WormMemoryDriver",["Promise","WAResolvable","WormStoreFunctions","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=0;function u(){return s+=1,s}function c(){s=0}var d=(function(){function t(t){this.$2={},this.$3=(e||(e=n("Promise"))).resolve(),this.$1=t;for(var r of Object.keys(t))this.$2[r]=new Map}var r=t.prototype;return r.getSchema=function(){return this.$1},r.getDbAlias=function(){},r.runInTransaction=function(t,r,a,i){var e=this,l=new(o("WAResolvable")).Resolvable;return this.$3=this.$3.then(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n={};for(var o of Object.keys(e.$1))n[o]=new Map(e.$2[o]);var i=t.reduce(function(t,r){var o;return babelHelpers.extends({},t,(o={},o[r]=new m(n[r],e.$1[r]),o))},{}),s={abort:function(){},commit:function(){return l.promise.then(function(){})},stores:i},u=yield a(s);r==="readwrite"&&(e.$2=n),l.resolve(u)})).catch(function(e){l.reject(e)}),l.promise},r.close=function(){},r.init=function(r){return(e||(e=n("Promise"))).resolve({isNewDb:!0,isUpgraded:!1})},t})(),m=(function(){function t(t,o){var a=this;this.readIndexRange=function(t,o,i){var l=a.$2.indexes;if(l==null)throw r("err")("No indexes found");var s=l[t];if(s==null)throw r("err")("Index not found");var u=Array.from(a.$1.values());if(o!=null){var c,d,m,p;u=_(u,(c=(d=o.lessThan)!=null?d:o.lessThanOrEqual)!=null?c:o.only,o.lessThanOrEqual!=null||o.only!=null,(m=(p=o.greaterThan)!=null?p:o.greaterThanOrEqual)!=null?m:o.only,o.greaterThanOrEqual!=null||o.only!=null,s)}return(e||(e=n("Promise"))).resolve(a.$4(u,i,t))},this.$1=t,this.$2=o}var a=t.prototype;return a.bulkAdd=function(o){var t=this;for(var a of o){if(this.$2.autoIncrement===!0&&a[this.$2.primaryKey]===void 0&&(a[this.$2.primaryKey]=u()),this.$1.has(a[this.$2.primaryKey]))throw r("err")("Item with key already exists");this.$3(a),this.$1.set(a[this.$2.primaryKey],a)}return(e||(e=n("Promise"))).resolve(o.map(function(e){return e[t.$2.primaryKey]}))},a.bulkPut=function(r){var t=this;for(var o of r)this.$3(o),this.$2.autoIncrement===!0&&o[this.$2.primaryKey]===void 0&&(o[this.$2.primaryKey]=u()),this.$1.set(o[this.$2.primaryKey],o);return(e||(e=n("Promise"))).resolve(r.map(function(e){return e[t.$2.primaryKey]}))},a.$3=function(t){var e=this,n=this.$2.indexes;if(n!=null){for(var o of Object.values(n))if(!(typeof o!="object"||o==null)){var a=o.fields,i=o.unique;if(i!==!1){var l=a.map(function(e){return t[e]}).join(":"),s=function(o){if(o[e.$2.primaryKey]===t[e.$2.primaryKey])return 1;var n=a.map(function(e){return o[e]}).join(":");if(l===n)throw r("err")("ConstraintError")};for(var u of this.$1.values())s(u)}}}},a.bulkGet=function(r){var t=this;return(e||(e=n("Promise"))).resolve(r.map(function(e){return t.$1.get(e)}))},a.get=function(r){return(e||(e=n("Promise"))).resolve(this.$1.get(r))},a.getByIndex=function(t,n,r){return o("WormStoreFunctions").getByIndex(this,t,n,r)},a.readByKeyRange=function(r,o){var t,a,i=p(Array.from(this.$1.values()),(t=r.lessThan)!=null?t:r.lessThanOrEqual,r.lessThanOrEqual!=null,(a=r.greaterThan)!=null?a:r.greaterThanOrEqual,r.greaterThanOrEqual!=null,this.$2.primaryKey);return(e||(e=n("Promise"))).resolve(this.$4(i,o))},a.bulkDelete=function(r){for(var t of r)this.$1.delete(t);return(e||(e=n("Promise"))).resolve()},a.delete=function(r){return this.$1.delete(r),(e||(e=n("Promise"))).resolve()},a.bulkUpsert=function(t,n){return o("WormStoreFunctions").bulkUpsert(this,this.$2,t,n)},a.readKeysByIndexRange=function(t,n,r){var e=this;return this.readIndexRange(t,n,r).then(function(t){return t.map(function(t){return t[e.$2.primaryKey]})})},a.getIndexRangeIterator=function(t,n,r,a){return o("WormStoreFunctions").getIndexRangeIterator(this.readIndexRange,this.$2,t,n,r,a)},a.$4=function(t,n,r){var e=t;return(n==null?void 0:n.filter)!=null&&(e=e.filter(n.filter)),(n==null?void 0:n.order)!=null&&r!=null&&(e=e.sort(function(e,t){var o=e[r],a=t[r];return o===a?0:n.order==="desc"?a>o?1:-1:o>a?1:-1})),(n==null?void 0:n.limit)!=null&&(e=e.slice(0,n.limit)),e},a.readIndex=function(o,a,i){var t=this.$2.indexes;if(t==null)throw r("err")("No indexes found");var l=t[o];if(l==null)throw r("err")("Index not found");var s=Array.from(this.$1.values());return a!=null&&(s=s.filter(function(e){for(var t=0;t<l.fields.length;t++)if(e[l.fields[t]]!==a[t])return!1;return!0})),(e||(e=n("Promise"))).resolve(this.$4(s,i,o))},a.readIndexAnyOf=function(o,a,i){var t=this.$2.indexes;if(t==null)throw r("err")("No indexes found");var l=t[o];if(l==null)throw r("err")("Index not found");if(a.length===0)return(e||(e=n("Promise"))).resolve([]);var s=Array.from(this.$1.values());return s=s.filter(function(e){return a.some(function(t){for(var n=0;n<l.fields.length;n++)if(t[n]!==void 0&&e[l.fields[n]]!==t[n])return!1;return!0})}),(e||(e=n("Promise"))).resolve(this.$4(s,i,o))},a.readIndexKeys=function(t,n,r){var e=this;return this.readIndex(t,n,r).then(function(t){return t.map(function(t){return t[e.$2.primaryKey]})})},a.readAll=function(r){var t=this,o=Array.from(this.$1.values());return(r==null?void 0:r.filter)!=null&&(o=o.filter(r.filter)),(r==null?void 0:r.order)!=null&&(o=o.sort(function(e,n){var o=e[t.$2.primaryKey],a=n[t.$2.primaryKey];return o===a?0:r.order==="desc"?a>o?1:-1:o>a?1:-1})),(r==null?void 0:r.limit)!=null&&(o=o.slice(0,r.limit)),(e||(e=n("Promise"))).resolve(o)},a.readKeys=function(t){var e=this;return this.readAll(t).then(function(t){return t.map(function(t){return t[e.$2.primaryKey]})})},a.clear=function(){return this.$1.clear(),(e||(e=n("Promise"))).resolve()},a.count=function(){return(e||(e=n("Promise"))).resolve(this.$1.size)},t})();function p(e,t,n,r,o,a){return e.filter(function(e){return!(r!=null&&r>e[a]||t!=null&&t<e[a]||t!=null&&n===!1&&e[a]===t||r!=null&&o===!1&&e[a]===r)})}function _(e,t,n,r,o,a){return e.filter(function(e){for(var i=0;i<a.fields.length;i++)if(r!=null&&r[i]>e[a.fields[i]]||t!=null&&t[i]<e[a.fields[i]]||i===a.fields.length-1&&(t!=null&&n===!1&&e[a.fields[i]]===t[i]||r!=null&&o===!1&&e[a.fields[i]]===r[i]))return!1;return!0})}l.TEST_ONLY_resetPK=c,l.WormMemoryDriver=d,l.WormMemoryStore=m}),98);
__d("WormMaintenanceSchema",["MAWWormOdsLogger","WAHex","Worm","WormEAR","WormIDbDriver","WormMemoryDriver"],(function(t,n,r,o,a,i,l){"use strict";var e={autoIncrement:!0,indexes:{name:{fields:["name"],unique:!0}},nonEncryptedFields:["name","startedAtMs","finishedAtMs"],primaryKey:"pk",secure:!0},s={migrations:e};function u(e,t,n,r,a,i){var l=o("WAHex").parseHex(t),u="worm_maintenance",c=new(o("WormEAR")).WormEAR(s,u,l);return new(o("Worm")).WormDatabase(new(o("WormIDbDriver")).WormIDbDriver(e,u,s,c,o("MAWWormOdsLogger").wormOdsWorkerLogger,{blockingErrorThreshold:n,onBlockingError:r,onTransactionError:a}),i)}function c(e){return new(o("Worm")).WormDatabase(new(o("WormMemoryDriver")).WormMemoryDriver(s),e)}l.makeWormMaintenanceSchema=u,l.makeWormMaintenanceSchema_TEST_ONLY=c}),98);
__d("WormMaintenanceDb",["FBLogger","Promise","WAResolvable","WormEAR","WormMaintenanceSchema","asyncToGeneratorRuntime","err","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new(o("WAResolvable")).Resolvable;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.blockingErrorThreshold,i=t.dbName,l=t.onBlockingError,c=t.qplEvent,d=t.strEncKey;try{var m=o("WormMaintenanceSchema").makeWormMaintenanceSchema(i,d,a,l,function(t){if(t instanceof o("WormEAR").DecryptionError){var a,i,l=t;r("FBLogger")("messenger_web").mustfix("EAR decryption error in store: %s. Dropping corrupted entity",l.store),r("promiseDone")((a=(i=s)==null?void 0:i.runInTransaction([l.store],"readwrite",function(e){var t=e.stores[l.store];return l.maybeHashedPk!=null?t.delete(l.maybeHashedPk):t.clear()},"delete-corrupted-entity"))!=null?a:(e||(e=n("Promise"))).resolve())}},c);return s=m,yield m.init(),u.resolve(m),m}catch(e){throw r("FBLogger")("messenger_web").catching(r("getErrorSafe")(e)).mustfix("Error performing WORM PersistedQueue init"),e}}),d.apply(this,arguments)}function m(){if(s==null)throw r("err")("WormMaintenanceDb is not initialized");return s}function p(){return u.promise}l.makeWormMaintenanceDb=c,l.getWormMaintenanceDb=m,l.getWormMaintenanceDbPromise=p}),98);
__d("MAWWormMaintenanceDbSetup",["BackendInitLoggingUtils","MAWCurrentUser","MAWIndexedDbMetadata","MAWODSProxy","MessengerWebInitData","WAOdsEnums","WormMaintenanceDb","asyncToGeneratorRuntime","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield o("BackendInitLoggingUtils").measureMawInit("worm_maintenance_db_init",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield o("WormMaintenanceDb").makeWormMaintenanceDb({blockingErrorThreshold:r("justknobx")._("3218"),dbName:o("MAWIndexedDbMetadata").wormMaintenanceDbName(o("MAWCurrentUser").getID()),onBlockingError:function(t){o("MAWODSProxy").odsBumpEntityKey({entity:o("WAOdsEnums").Entity.WORM,key:"reverb.unrecoverable."+t})},qplEvent:r("qpl")._(1056840657,"2716"),strEncKey:r("MessengerWebInitData").accountKeyV2})}))}),s.apply(this,arguments)}l.mawWormDbMaintenanceDbSetup=e}),98);
__d("MAWWriteLimitSharingAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r;return t?(n=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED,r=n===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED?[e]:[]):(n=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED,r=n===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED?[e]:[]),{adminMsgContent:r,adminType:n,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWritePinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_PINNED_MESSAGE:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE,n=t===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE?[e]:[];return{adminMsgContent:n,adminType:t,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWriteThreadHotlikeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e===o("MAWCurrentUser").getID(),r=n?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE,a=[];return r===o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE?a.push(t):a.push(e,t),{adminMsgContent:a,adminType:r,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWriteThreadNicknameCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=o("MAWCurrentUser").getID(),a=e===r&&e!==t,i=t===r&&t!==e,l=t===e&&r===t,s=t===e&&r!==t,u;l&&n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:l&&n.length===0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:s&&n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:s&&n.length===0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:a&&n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:a&&n.length===0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:i&&n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:i&&n.length===0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME;var c=[];switch(u){case o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:c.push(t,n);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:c.push(e,n);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:c.push(n);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:c.push(t);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:c.push(e);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:c.push(e,t,n);break;default:break}return{adminMsgContent:c,adminType:u,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWriteThreadPhotoCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO,n=t===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO?[e]:[];return{adminMsgContent:n,adminType:t,version:1}}l.getAdminMsgContent=e}),98);
__d("MessengerThreadThemeType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({COLOR_GRADIENT:1,THEME:2,THIRD_PARTY:3,INTERACTIVE:4,IGD_CHANNEL_CUSTOMIZED_THEME:5,AI_AGENT:6,AI_GENERATED_THEME:7,AI_STUDIO_GENERATED_THEME:8,AI_INTERACTIVE_THEME:9,AI_INTERACTIVE_THEME_GENERATED:10,MSGR_CUSTOM_THEME:11,AI_SCROLLABLE_THEME:12}),l=e;i.default=l}),66);
__d("MAWWriteThreadThemeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser","MessengerThreadThemeType","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r){var a=e===o("MAWCurrentUser").getID(),i=u(a,r),l=[];return i===o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME||i===o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME?l.push(n):l.push(e,n),t!=null&&l.push(t),{adminMsgContent:l,adminType:i,version:1}}function u(t,n){if(n!=null)try{var a=r("MessengerThreadThemeType").cast(parseInt(n,10))===7;if(a)return t?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Unable to convert theme type to integer: ",""])),t)}return t?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_THEME}l.getAdminMsgContent=s}),98);
__d("MAWWriteUKOSAAdminMsgContent",["MAWAdminMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("MAWAdminMsgType").ADMIN_MSG_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE,n=[e];return{adminMsgContent:n,adminType:t,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWriteUnpinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_UNPINNED_MESSAGE:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE,n=t===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE?[e]:[];return{adminMsgContent:n,adminType:t,version:1}}l.getAdminMsgContent=e}),98);
__d("MWChatEncryptedBackupsQPLEvents",["qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=r("qpl"))._(521476140,"378"),u=e._(521472542,"295"),c=e._(521484256,"3212"),d=e._(521473384,"31"),m=e._(521482085,"409"),p=e._(521485406,"272"),_=e._(521482763,"296"),f=e._(521484295,"1460"),g=e._(521482969,"1519"),h=e._(521479124,"1939"),y=e._(521474385,"263"),C=e._(521476098,"504"),b=e._(521482858,"1290"),v=e._(521473194,"1331"),S=e._(521471024,"2275");l.pinCodeChangeQplEvent=s,l.optOutQplEvent=u,l.resetBackupQplEvent=c,l.ebResetObserverQplEvent=d,l.backupSetupQplEvent=m,l.mobileOnboardingQplEvent=p,l.restoreQplEvent=_,l.restoreDeviceAuthQplEvent=f,l.messageRestoreQplEvent=g,l.restoreWithAutoRestoreConsentQplEvent=h,l.hsmFleetMigrationQplEvent=y,l.virtualDeviceRevocationQplEvent=C,l.onboardingAuthQplEvent=b,l.processBackupIdsQPLEvent=v,l.fetchBackupIdsQPLEvent=S}),98);
__d("MWXMAV2IsCollapsibleXMA",["MWXMAV2IsDataclassLiveLocationXMA"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t;return!(e==null||((t=e.layout_config)==null?void 0:t.collapsible_id)==null&&!o("MWXMAV2IsDataclassLiveLocationXMA").isDataclassLiveLocationXMA(e))}l.isCollapsibleXMA=e}),98);
__d("MpsAdminMsgToBridge",["FBLogger","MAWAckLevel","MAWAdminAddParticipantMsg","MAWAdminMsgHelpers","MAWAdminRemoveParticipantMsg","MAWAdminWriteGroupNameChangeAdminMsgContent","MAWEphemeralUtils","MAWJids","MAWWriteLimitSharingAdminMsgContent","MAWWritePinMessageAdminMsgContent","MAWWriteThreadHotlikeCustomizationAdminMsgContent","MAWWriteThreadNicknameCustomizationAdminMsgContent","MAWWriteThreadPhotoCustomizationAdminMsgContent","MAWWriteThreadThemeCustomizationAdminMsgContent","MAWWriteUKOSAAdminMsgContent","MAWWriteUnpinMessageAdminMsgContent","WAArmadilloMiTransportAdminMessage.pb","WAMsgType","err","getErrorSafe","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=["$$unknownFieldCount","skipBumpThread","skipSnippetUpdate"],s=["type"],u=["type"],c=["type"],d=["type"],m=["type"],p=["type"],_=["type"],f=["type"],g=["type"],h=["type"],y=["type"],C=["type"],b=["type"],v=["type"],S=["type"],R=["type"],L=["type"],E=["type"],k=["type"],I=["type"];function T(e,t){return o("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(e,r("nullthrows")(t.emojiName,"emojiName is null"))}function D(e,t){return o("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(e,r("nullthrows")(t.threadIcon,"threadIcon is null"))}function x(e,t){var n;return o("MAWWriteThreadThemeCustomizationAdminMsgContent").getAdminMsgContent(e,t.themeEmoji,r("nullthrows")(t.themeName,"themeName is null"),""+((n=t.themeType)!=null?n:""))}function $(e,t){return t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.PINNED?o("MAWWritePinMessageAdminMsgContent").getAdminMsgContent(e):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNPINNED?o("MAWWriteUnpinMessageAdminMsgContent").getAdminMsgContent(e):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNSET||t.action===null||t.action===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.action)})()}function P(e,t){return o("MAWWriteThreadNicknameCustomizationAdminMsgContent").getAdminMsgContent(e,r("nullthrows")(t.targetUserId,"targetUserId is null"),r("nullthrows")(t.nickname,"nickname is null"))}function N(e){var t;return o("MAWWriteUKOSAAdminMsgContent").getAdminMsgContent(r("nullthrows")((t=e.ukOsaAdminText)==null?void 0:t.initiatorUserId,"initiatorUserId is null"))}function M(e,t){var n,r;return o("MAWEphemeralUtils").getEphemeralSettingChangeData(o("MAWJids").toUserJid(e),(n=t.disappearingSettingDurationSeconds)!=null?n:0,((r=t.oldDisappearingSettingDurationSeconds)!=null?r:0)===0,!1)}function w(e,t){return t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.CHANGED||t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.REMOVED?o("MAWWriteThreadPhotoCustomizationAdminMsgContent").getAdminMsgContent(e):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.UNSET||t.action===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.action)})()}function A(e,t){return t.sharingType===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.ENABLED?o("MAWWriteLimitSharingAdminMsgContent").getAdminMsgContent(e,!0):t.sharingType===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.DISABLED?o("MAWWriteLimitSharingAdminMsgContent").getAdminMsgContent(e,!1):t.sharingType===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.UNSET||t.sharingType===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.sharingType)})()}function F(e,t){return t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.ADDED?o("MAWAdminAddParticipantMsg").createAddParticipantsAdminMessage(o("MAWJids").toUserJid(e),(t.targetUserId||[]).map(function(e){return o("MAWJids").toUserJid(e)})):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.REMOVED?o("MAWAdminRemoveParticipantMsg").createRemoveParticipantsAdminMessage(o("MAWJids").toUserJid(e),(t.targetUserId||[]).map(function(e){return o("MAWJids").toUserJid(e)})):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.UNSET||t.action===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.action)})()}function O(e,t){return o("MAWAdminWriteGroupNameChangeAdminMsgContent").getAdminMsgContent(o("MAWJids").toUserJid(e),r("nullthrows")(t.groupName))}function B(e,t){var n,a;return t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.ADDED?o("MAWAdminMsgHelpers").createParticipantPromoteAdminMessage(o("MAWJids").toUserJid(r("nullthrows")((n=t.targetUserId)==null?void 0:n[0])),o("MAWJids").toUserJid(e)):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.REMOVED?o("MAWAdminMsgHelpers").createParticipantDemoteAdminMessage(o("MAWJids").toUserJid(r("nullthrows")((a=t.targetUserId)==null?void 0:a[0])),o("MAWJids").toUserJid(e)):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.UNSET||t.action===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.action)})()}function W(e,t){return t.mode===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.ADMINS_ONLY?o("MAWAdminMsgHelpers").createMemberAddModeChangeAdminMessage(o("MAWJids").toUserJid(e),"admin_add"):t.mode===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.ALL_MEMBERS?o("MAWAdminMsgHelpers").createMemberAddModeChangeAdminMessage(o("MAWJids").toUserJid(e),"all_member_add"):t.mode===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.UNSET||t.mode===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.mode)})()}function q(e,t){return M(e,{disappearingSettingDurationSeconds:t.disappearingSettingTime!=null?Number(t.disappearingSettingTime):0,oldDisappearingSettingDurationSeconds:t.oldDisappearingSettingTime!=null?Number(t.oldDisappearingSettingTime):0})}function U(e){return e.initiatorUserId!=null?N({ukOsaAdminText:{initiatorUserId:e.initiatorUserId}}):null}function V(e,t){return A(e,{sharingType:t.limitSharingType==="disabled"?o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.DISABLED:t.limitSharingType==="enabled"?o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.ENABLED:o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.UNSET})}function H(e){return $(e,{action:o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.PINNED})}function G(e){return $(e,{action:o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNPINNED})}function z(e,t){return x(e,{themeEmoji:t.themeEmoji,themeName:t.themeNameWithSubtitle,themeType:t.themeType})}function j(e,t){return t.threadIcon!=null?D(e,{threadIcon:t.threadIcon}):null}function K(e,t){return t.participantId!=null&&t.nickname!=null?P(e,{nickname:t.nickname,targetUserId:""+t.participantId}):null}function Q(e,t){return t.threadQuickReactionEmoji!=null?T(e,{emojiName:t.threadQuickReactionEmoji}):null}function X(e){var t=Object.keys(e);if(t.length!==1)throw r("err")("Expected exactly one key");var n=t[0];return babelHelpers.extends({type:n},e[n])}function Y(t,n){var r=n.$$unknownFieldCount,o=n.skipBumpThread,a=n.skipSnippetUpdate,i=babelHelpers.objectWithoutPropertiesLoose(n,e),l=X(i);return(function(e){if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="quickReactionChanged"){var n=e.type,r=babelHelpers.objectWithoutPropertiesLoose(e,s);return T(t,r)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="iconChanged"){var o=e.type,a=babelHelpers.objectWithoutPropertiesLoose(e,u);return D(t,a)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="chatThemeChanged"){var i=e.type,l=babelHelpers.objectWithoutPropertiesLoose(e,c);return x(t,l)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="messagePinned"){var X=e.type,Y=babelHelpers.objectWithoutPropertiesLoose(e,d);return $(t,Y)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="nicknameChanged"){var J=e.type,Z=babelHelpers.objectWithoutPropertiesLoose(e,m);return P(t,Z)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="linkCta"){var ee=e.type,te=babelHelpers.objectWithoutPropertiesLoose(e,p);return N(te)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="disappearingSettingChanged"){var ne=e.type,re=babelHelpers.objectWithoutPropertiesLoose(e,_);return M(t,re)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupImageChanged"){var oe=e.type,ae=babelHelpers.objectWithoutPropertiesLoose(e,f);return w(t,ae)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="limitSharingChanged"){var ie=e.type,le=babelHelpers.objectWithoutPropertiesLoose(e,g);return A(t,le)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupParticipantChanged"){var se=e.type,ue=babelHelpers.objectWithoutPropertiesLoose(e,h);return F(t,ue)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupNameChanged"){var ce=e.type,de=babelHelpers.objectWithoutPropertiesLoose(e,y);return O(t,de)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupAdminChanged"){var me=e.type,pe=babelHelpers.objectWithoutPropertiesLoose(e,C);return B(t,pe)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupMembershipAddModeChanged"){var _e=e.type,fe=babelHelpers.objectWithoutPropertiesLoose(e,b);return W(t,fe)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatDisappearingSetting"){var ge=e.type,he=babelHelpers.objectWithoutPropertiesLoose(e,v);return q(t,he)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatLinkCta"){var ye=e.type,Ce=babelHelpers.objectWithoutPropertiesLoose(e,S);return U(Ce)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessagingLimitSharing"){var be=e.type,ve=babelHelpers.objectWithoutPropertiesLoose(e,R);return V(t,ve)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatPinMessageV2")return H(t);if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatUnpinMessageV2")return G(t);if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatThemeColor"){var Se=e.type,Re=babelHelpers.objectWithoutPropertiesLoose(e,L);return z(t,Re)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatThreadIcon"){var Le=e.type,Ee=babelHelpers.objectWithoutPropertiesLoose(e,E);return j(t,Ee)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatThreadNickname"){var ke=e.type,Ie=babelHelpers.objectWithoutPropertiesLoose(e,k);return K(t,Ie)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatThreadQuickReaction"){var Te=e.type,De=babelHelpers.objectWithoutPropertiesLoose(e,I);return Q(t,De)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatFriendRequestConfirmedEncrypted"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatInstantGameEncryptedDynamicCustomUpdate"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMagicWords"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerQrCodeScanned"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbumAddition"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbumContentRemoval"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbumDeletion"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbumRename"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbum"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatGenaiTaskAdd"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatUpdatePayments")return null;throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})(l)}function J(e){var t,n,a,i,l=(t=e.deserialize().adminMessage())==null?void 0:t.proto;if(l!=null){var s;try{s=Y(e.message.senderId,l)}catch(e){r("FBLogger")("mps").catching(r("getErrorSafe")(e)).warn("Failed to get admin message content")}var u={ack:o("MAWAckLevel").ACK.received,adminContent:(n=s)==null?void 0:n.adminMsgContent,adminType:(a=s)==null?void 0:a.adminType,adminVersion:(i=s)==null?void 0:i.version,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:u}}}l.getMessageContent=Y,l.adminMsgToBridgeMsg=J}),98);
__d("MpsToBridgeMessageId",["MAWJidUtils","MpsTypes","WAJids","WAStanzaUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("MAWJidUtils").formatProtocolMsgIdFromExternalId(o("WAJids").unsafeCoerceToChatJid(e),o("WAStanzaUtils").toStanzaId(t))}function s(e){var t=e.lastIndexOf("."),n=e.substring(0,t),r=e.substring(t+1);return{messageId:o("MpsTypes").toMessageId(r),threadId:o("MpsTypes").toThreadId(n)}}l.mpsToBridgeMsgId=e,l.bridgeMsgIdToMps=s}),98);
__d("MpsBumpMessageToBridgeMsg",["MAWAckLevel","MAWMsgType","MpsToBridgeMessageId","MpsTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r,a=e.deserialize().encryptedTransportMessage(),i=a==null||(t=a.armadillo())==null||(t=t.proto.payload)==null||(t=t.content)==null?void 0:t.bumpExistingMessage;if(i==null||((n=i.key)==null?void 0:n.id)==null||a==null)return null;var l=o("MpsTypes").toMessageId(i.key.id),s={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),replyContent:{isBumpMsg:!0,replyToMsgId:o("MpsToBridgeMessageId").mpsToBridgeMsgId(e.message.threadId,l),replyType:"MESSAGE"},replySourceId:(r=i.key)==null?void 0:r.id,sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE};return{kind:"bridgeMsg",value:s}}l.bumpMessageToBridgeMsg=e}),98);
__d("MpsEditToBridge",["LSMessageSendStatus","MAWDbEditMsgHistory","MAWMpsGating","WAJids","WAStanzaUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("MAWDbEditMsgHistory").convertToEditMsgHistoryId64(o("MAWDbEditMsgHistory").unsafeCoerceToEditMsgHistoryId(Number(e.getExternalId()))),a=e.topLevelMetadata(),i={author:e.getAuthor(),editExternalId:o("WAStanzaUtils").toStanzaId(e.getExternalId()),editMsgHistoryId:n,editTs:e.getUnixTs(),msgContent:t,originalMsgExternalId:o("WAStanzaUtils").toStanzaId(a.getExternalId()),originalMsgId:a.getMsgId(),sendStatus:r("LSMessageSendStatus").SENDING_TO_SERVER,threadJid:e.getChatJid()};return{kind:"bridgeEditHistoryMsg",value:i}}function s(t){var n,r,a=(n=t.deserialize().encryptedTransportMessage())==null||(n=n.consumerMessage())==null||(n=n.payload)==null||(n=n.content)==null||(n=n.editMessage)==null?void 0:n.message;if(a!=null)return e(t,{commands:a==null?void 0:a.commands,content:((r=a==null?void 0:a.text)!=null?r:"")+(o("MAWMpsGating").isFullMpsEnabled()?" *":""),mentionedJids:a==null?void 0:a.mentionedJid.map(o("WAJids").validateUserJid).filter(Boolean)})}function u(t){var n,r,o,a,i=t.supplementals,l=t.topLevel;if(l.kind!=="bridgeMsg")return t;var s=i.map(function(e){return e.kind==="bridgeEditHistoryMsg"?e.value:null}).filter(Boolean).sort(function(e,t){return t.editTs-e.editTs});if(s.length===0)return t;i.push(e(t.message,{commands:l.value.commands&&[].concat(l.value.commands),content:(n=l.value.content)!=null?n:"",mentionedJids:l.value.mentionedJids&&[].concat(l.value.mentionedJids)}));var u=s[0].msgContent;return l.value=babelHelpers.extends({},l.value,{commands:(r=u.commands)!=null?r:l.value.commands,content:(o=u.content)!=null?o:l.value.content,editCount:s.length,mentionedJids:(a=u.mentionedJids)!=null?a:l.value.mentionedJids}),babelHelpers.extends({},t,{supplementals:i,topLevel:l})}l.editMessageToBridgeMsg=s,l.processEditedMessage=u}),98);
__d("MpsEphemeralMessageToBridge",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.supplementals,r=e.topLevel,a=(t=e.message.deserialize().encryptedTransportMessage())==null||(t=t.proto.metadata)==null||(t=t.chatEphemeralSetting)==null?void 0:t.ephemeralExpiration;if(a==null||a===0)return e;var i=o("WATimeUtils").castToUnixTime(e.message.getUnixTs()+a),l=o("WATimeUtils").cappedMillisecondsUntil(i);return l<=0?e:(r.kind==="bridgeMsg"&&(r.value=babelHelpers.extends({},r.value,{ephemeralDurationInSec:a})),e.supplementals.push({kind:"bridgeMsgsStartCountdown",value:{msgs:[{countdownTs:i,millisecondsUntilCountdownTs:l,msgId:e.message.getMsgId(),threadJid:e.message.getChatJid(),ts:e.message.getUnixTs()}]}}),babelHelpers.extends({},e,{supplementals:n,topLevel:r}))}l.processEphemeralMessage=e}),98);
__d("MpsForwardToBridge",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t,n,r,o,a,i=e.message,l=e.topLevel,s=i.deserialize().encryptedTransportMessage();return s==null||l.kind!=="bridgeMsg"||((t=s.proto.metadata)==null?void 0:t.isForwarded)!==!0||(l.value=babelHelpers.extends({},l.value,{forwardingScore:(n=(r=s.proto.metadata)==null?void 0:r.forwardingScore)!=null?n:0,isForwarded:(o=(a=s.proto.metadata)==null?void 0:a.isForwarded)!=null?o:!1,replyContent:{replyType:"FORWARD"}})),e}i.processForwarding=e}),66);
__d("MpsFutureproofToBridge",["MAWAckLevel","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.FUTUREPROOF};return{kind:"bridgeMsg",value:t}}l.futureproofBridgeMsg=e}),98);
__d("MpsLogger",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return r("FBLogger")("mps",t)};l.MpsLogger=e}),98);
__d("MpsReceiverFetchInfoToBridge",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r,a,i,l=e.ancillary,s=e.integral,u=(n=s==null?void 0:s.receiverFetchId)!=null?n:l==null?void 0:l.receiverFetchId,c=s==null||(r=s.transport)==null||(r=r.ancillary)==null?void 0:r.mimetype;if(!(u==null||c==null)){var d=(a=l==null?void 0:l.width)!=null?a:0,m=(i=l==null?void 0:l.height)!=null?i:0;return{accessibilitySummaryText:l==null?void 0:l.accessibilityLabel,mimetype:c,msgId:t.getMsgId(),previewHeight:m,previewWidth:d,receiverFetchId:u,sortOrderMs:o("WATimeUtils").castLongIntToMillisTime(t.message.timestampMs),threadJid:t.getChatJid(),transportKey:"WhatsApp",type:"sticker"}}}function s(t,n){var r,o=(r=t.stickerMessage())==null?void 0:r.payload;if(o!=null)return e(o,n)}function u(e){var t,n=(t=e.message.deserialize().encryptedTransportMessage())==null?void 0:t.consumerMessage();if(n==null)return e;var r=s(n,e.message);return r==null||e.supplementals.push({kind:"bridgeReceiverFetchInfo",value:r}),e}l.getReceiverFetchInfoForAttachmentTransport=e,l.getReceiverFetchInfoFromConsumerMessage=s,l.processReceiverFetchInfo=u}),98);
__d("getMediaTypeFromConsumerMessage",["MAWEncodeMediaTransportProtocol","WAMediaTransport.pb","decodeProtobuf"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r,a=((t=e.ancillary)==null?void 0:t.gifPlayback)===!0||((n=e.ancillary)==null?void 0:n.gifAttribution)!=null,i=(r=e.integral)==null||(r=r.transport)==null||(r=r.ancillary)==null?void 0:r.mimetype;return a&&i===o("MAWEncodeMediaTransportProtocol").GIF_MIME_TYPE?"gif":"video"}function s(t){var n,r=t==null||(n=t.payload)==null?void 0:n.content;if((r==null?void 0:r.audioMessage)!=null)return"ptt";if((r==null?void 0:r.videoMessage)!=null){var a,i=r==null||(a=r.videoMessage)==null||(a=a.video)==null?void 0:a.payload,l=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").VideoTransportSpec,i);return e(l)}if((r==null?void 0:r.documentMessage)!=null)return"document";if((r==null?void 0:r.stickerMessage)!=null)return"sticker";if((r==null?void 0:r.imageMessage)!=null)return"image";if((r==null?void 0:r.extendedContentMessage)!=null)return"xma-image"}l.getMediaTypeForVideo=e,l.getMediaTypeFromConsumerMessage=s}),98);
__d("MpsMediaToBridge",["FBLogger","MAWAckLevel","MAWAudioUtils","MAWDbMedia","MAWImageUtils","MAWMsgType","MpsReceiverFetchInfoToBridge","WAHashUtils","WALongInt","WATimeUtils","decodeProtobuf","getMediaTypeFromConsumerMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r,a,i,l,s,u;if(!(e!=null&&(t=e.integral)!=null&&t.transport))return!1;var c=(n=e.integral)==null?void 0:n.transport;return!(o("decodeProtobuf").getUnknownFields(c.integral)!=null||((r=c.integral)==null?void 0:r.fileSha256)==null||((a=c.integral)==null?void 0:a.fileEncSha256)==null||((i=c.integral)==null?void 0:i.mediaKey)==null||((l=c.integral)==null?void 0:l.directPath)==null||((s=c.integral)==null?void 0:s.mediaKeyTimestamp)==null||((u=c.ancillary)==null?void 0:u.objectId)==null)}function s(e){var t=o("getMediaTypeFromConsumerMessage").getMediaTypeFromConsumerMessage(e.proto);if(t!=null)return u(t)}function u(e){return e==="ptt"?o("MAWMsgType").MSG_TYPE.PTT:e==="image"?o("MAWMsgType").MSG_TYPE.IMAGE:e==="video"?o("MAWMsgType").MSG_TYPE.VIDEO:e==="gif"?o("MAWMsgType").MSG_TYPE.GIF:e==="sticker"?o("MAWMsgType").MSG_TYPE.STICKER:e==="document"?o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:e==="xma-image"?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}function c(e){var t,n,r,a,i=e.deserialize().encryptedTransportMessage(),l=i==null?void 0:i.consumerMessage();if(!(i==null||l==null)){var u=s(l);if(u!=null){var c=u;if(u===o("MAWMsgType").MSG_TYPE.STICKER){var d,m,p,_=(d=l.stickerMessage())==null?void 0:d.payload;if(_==null)return;var f=((m=_.integral)==null?void 0:m.receiverFetchId)!=null||((p=_.ancillary)==null?void 0:p.receiverFetchId)!=null;if(f){var g=o("MpsReceiverFetchInfoToBridge").getReceiverFetchInfoForAttachmentTransport(_,e);if(g==null)return;c=o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH}}var h=(t=l.attachmentMessage())==null||(t=t.payload)==null||(t=t.ancillary)==null?void 0:t.gifPlayback,y={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,gifPlayback:h,groupId:(n=i.proto.metadata)==null?void 0:n.groupId,groupIndex:(r=i.proto.metadata)==null?void 0:r.groupIndex,groupSize:(a=i.proto.metadata)==null?void 0:a.groupSize,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:c};return{kind:"bridgeMsg",value:y}}}}function d(e,t,n){var r,a,i={height:n==null||(r=n.transport)==null||(r=r.ancillary)==null||(r=r.thumbnail)==null?void 0:r.thumbnailHeight,width:n==null||(a=n.transport)==null||(a=a.ancillary)==null||(a=a.thumbnail)==null?void 0:a.thumbnailWidth},l={height:t==null?void 0:t.height,width:t==null?void 0:t.width};if(e==="Sticker"){var s;i=(s=o("MAWImageUtils")).boundHeightWidth(i.height,i.width,s.STICKER_THUMBNAIL_MAX_SIZE),l=s.boundHeightWidth(l.height,l.width,s.STICKER_THUMBNAIL_MAX_SIZE)}return{previewHeight:i.height,previewHeightLarge:l.height,previewWidth:i.width,previewWidthLarge:l.width}}function m(e,t,n,r){var a,i,l,s,u,c,m,p,_,f=e.ancillary,g=e.integral;if(!(f==null||g==null)&&!(f.receiverFetchId!=null||(g==null?void 0:g.receiverFetchId)!=null)){var h=n.getMsgId(),y=g==null||(a=g.transport)==null||(a=a.integral)==null?void 0:a.mediaKeyTimestamp,C=g==null||(i=g.transport)==null||(i=i.integral)==null?void 0:i.fileSha256,b=C!=null?o("WAHashUtils").toPlaintextHash(C):void 0,v=f.waveform!=null?o("MAWAudioUtils").serializeWaveform(f.waveform):void 0;return babelHelpers.extends({accessibilitySummaryText:f.accessibilityLabel,defaultFilename:r,duration:((l=f.seconds)!=null?l:0)*1e3,filenames:r!=null?(s={},s[h]=r,s):void 0,filesize:o("WALongInt").numberOrThrowIfTooLarge((u=g==null||(c=g.transport)==null||(c=c.ancillary)==null?void 0:c.fileLength)!=null?u:0),gifPlayback:f.gifPlayback,hasMedia:!0,hasPreviewMedia:(g==null||(m=g.transport)==null||(m=m.ancillary)==null?void 0:m.thumbnail)!=null},f.hdType!=null?{hdTypes:(p={},p[h]=f.hdType,p)}:{},{mediaId:o("MAWDbMedia").convertNumberToMediaId(0),mediaType:t,messagesSortOrderMs:(_={},_[h]=n.topLevel.timestampMs,_),msgIds:[h],offlineAttachmentId:b,plaintextHash:b},d(t,f,g),{sortOrderMs:y!=null?o("WATimeUtils").castLongIntToMillisTime(y):void 0,threadJid:n.getChatJid(),transportKey:"WhatsApp",ts:n.getUnixTs(),waveformData:v})}}function p(t,n){var o,a,i=(o=t.documentMessage())==null?void 0:o.fileName,l=(a=t.attachmentMessage())==null?void 0:a.payload;if(l!=null){var u=s(t);if(u==null){r("FBLogger")("mps").mustfix("media type is null for attachment message");return}if(!e(l)){r("FBLogger")("mps").debug("attachment is not valid, mediatype: %s",u);return}return m(l,u,n,i)}}function _(e){var t,n=(t=e.message.deserialize().encryptedTransportMessage())==null?void 0:t.consumerMessage();if(n==null)return e;var r=p(n,e.message);return r==null||e.supplementals.push({kind:"bridgeMedia",value:r}),e}l.isAttachmentValid=e,l.getMediaTypeForMessage=s,l.getMediaTypeForServerMediaType=u,l.mediaToBridge=c,l.getBridgeFromAttachmentTransport=m,l.getBridgeMediaFromConsumerMessage=p,l.processAttachment=_}),98);
__d("maybeConvertMessageTextMentionsV2ToV1",["WACommon.pb"],(function(t,n,r,o,a,i,l){function e(e){if(e==null||e.text==null||e.mentions==null||e.mentions.length===0)return e;var t=e.text,n=[],r=[],a=0;for(var i of e.mentions){var l=i.offset,s=i.length,u=i.mentionedJid,c=i.mentionType;c!==o("WACommon.pb").MENTION_MENTION_TYPE.PROFILE||l==null||s==null||u==null||(r.push(u+"@msgr"),n.push(t.substring(a,l)),n.push("@"+u+"@msgr"),a=l+s)}return r.length===0?e:(n.push(t.substring(a)),babelHelpers.extends({},e,{text:n.join(""),mentionedJid:r,mentions:[]}))}l.default=e}),98);
__d("mwv2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","ReStoreVaulting"],(function(t,n,r,o,a,i,l){"use strict";var e=/^[ \r\n\s]*$/;function s(t,n){if(t==null)return!1;var r=o("ReStoreVaulting").maybeUnvault(t),a=o("EmojiRenderer").parse(r).map(function(e){return{length:e.length,offset:e.offset}}),i=n?o("EmoticonRenderer").parse(r).map(function(e){return{length:e.chars.length,offset:e.offset}}):[],l=a.concat(i);if(l.length===0)return!1;var s=l.sort(function(e,t){return e.offset-t.offset|0}),u={contents:0},c={contents:0},d=s.some(function(t){u.contents===t.offset?(u.contents=u.contents+t.length|0,c.contents=u.contents):c.contents=t.offset;var n=r.substring(u.contents,c.contents);return u.contents=t.offset+t.length|0,e.test(n)===!1}),m=u.contents!==r.length&&!e.test(r.substring(c.contents));return d?!1:!m}l.default=s}),98);
__d("MpsMessageTextToBridge",["MAWAckLevel","MAWMpsGating","MAWVault","WAJids","WAMsgType","maybeConvertMessageTextMentionsV2ToV1","mwv2MessageIsEmojiOnly"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,a,i,l,s=e.deserialize().encryptedTransportMessage(),u=s==null?void 0:s.consumerMessage(),c=(u==null||(t=u.payload)==null||(t=t.content)==null?void 0:t.messageText)&&r("maybeConvertMessageTextMentionsV2ToV1")(u==null||(n=u.payload)==null||(n=n.content)==null?void 0:n.messageText);if(!(u==null||c==null||s==null)){var d=(a=c.text)!=null?a:"";o("MAWMpsGating").isFullMpsEnabled()&&!r("mwv2MessageIsEmojiOnly")(d,!0)&&(d+="*"),d=o("MAWVault").vault(d);var m={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),commands:c.commands,content:d,externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,mentionedJids:c.mentionedJid.map(o("WAJids").validateUserJid).filter(Boolean),msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,specialTextSize:(i=(l=u.metadata)==null?void 0:l.specialTextSize)!=null?i:void 0,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.TEXT};return{kind:"bridgeMsg",value:m}}}l.messageTextToBridgeMsg=e}),98);
__d("MpsMessageToBridgeWrapper",["MAWProtobufDeserializers","MAWUserJidWrapper","MpsToBridgeMessageId","WAJids","WATimeUtils","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=o("WAJids").createJidUtils({platform:"msgr"}),s=(function(){function t(e,t){this.message=e,this.topLevel=t}t.fromTopLevel=function(n){return new t(n,n)},t.fromSupplemental=function(n,a){var e,i=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(n.payload),l={messageId:n.messageId,payload:n.payload,senderId:r("nullthrows")((e=i.proto.metadata)==null?void 0:e.senderId),threadId:a.threadId,timestampMs:n.timestampMs};return new t(l,a)};var n=t.prototype;return n.getChatJid=function(){return o("WAJids").unsafeCoerceToChatJid(this.message.threadId)},n.getExternalId=function(){return this.message.messageId},n.getMsgId=function(){return o("MpsToBridgeMessageId").mpsToBridgeMsgId(this.message.threadId,this.message.messageId)},n.getSenderJid=function(){return e.toUserJid(this.message.senderId)},n.topLevelMetadata=function(){return t.fromTopLevel(this.topLevel)},n.isAuthorMe=function(){return o("WAJids").userIdFromJid(o("MAWUserJidWrapper").getMyUserJid())===this.message.senderId},n.getAuthor=function(){return this.isAuthorMe()?o("WAJids").AUTHOR_ME:this.getSenderJid()},n.getUnixTs=function(){return o("WATimeUtils").castMilliSecondsToUnixTime(this.message.timestampMs)},n.deserialize=function(){return o("MAWProtobufDeserializers").DeserializedBackupMessage.create(this.message.payload)},t})();l.MpsMessageToBridgeWrapper=s}),98);
__d("WAMedia",[],(function(t,n,r,o,a,i){"use strict";var e="Image",l="Video",s="Ptt",u="Gif",c="Sticker",d="DocumentFile",m={IMAGE:e,VIDEO:l,PTT:s,GIF:u,STICKER:c,DOCUMENT_FILE:d};i.IMAGE=e,i.VIDEO=l,i.PTT=s,i.GIF=u,i.STICKER=c,i.DOCUMENT_FILE=d,i.MEDIA_TYPE=m}),66);
__d("MpsXmaToBridge",["MAWAckLevel","MAWBridgeXMA","MAWDbMedia","MAWDbXMA","MAWParseCollapsibleIdFromXMADataClass","MAWXMAUtils","MWXMAV2IsCollapsibleXMA","MWXMAV2XmaDataClass","MpsMediaToBridge","MpsReceiverFetchInfoToBridge","WAArmadilloXMA.pb","WAHashUtils","WAJids","WALongInt","WAMedia","WATimeUtils","maybeConvertMessageTextMentionsV2ToV1","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=["actionContentBlob"];function s(e){var t,n,o;if(((t=(n=e.payload.messageText)==null?void 0:n.length)!=null?t:0)>0)return r("maybeConvertMessageTextMentionsV2ToV1")({commands:e.payload.commands,mentionedJid:e.payload.mentionedJid,mentions:e.payload.mentions,text:e.payload.messageText});var a=(o=e.associatedMessage())==null||(o=o.consumerMessage())==null||(o=o.payload)==null||(o=o.content)==null?void 0:o.messageText;if(a!=null&&a.text!=null)return r("maybeConvertMessageTextMentionsV2ToV1")(a)}function u(e){if(e!=null){var t=o("WATimeUtils").castLongIntToUnixTime(e);if(t!=null){var n=o("WATimeUtils").cappedMillisecondsUntil(t);if(n!=null){var r=n<=0;return{countdownTs:t,isExpiredXmaMsg:r,millisecondsUntilCountdownTs:n}}}}}function c(e){var t,n=e.deserialize().encryptedTransportMessage(),r=n==null||(t=n.armadillo())==null?void 0:t.extendedContentMessage();if(!(n==null||r==null||o("MAWXMAUtils").isXMAStoryReply(r.payload.targetType))){var a,i=o("MWXMAV2XmaDataClass").parseXmaDataClass(r.payload.xmaDataclass);o("MWXMAV2IsCollapsibleXMA").isCollapsibleXMA(i)&&(a=o("MAWParseCollapsibleIdFromXMADataClass").parseCollapsibleIdFromXMADataClass(i));var l=s(r),c=u(r==null?void 0:r.payload.targetExpiringAtSec),d=babelHelpers.extends({ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid()},a!=null?{collapsibleId:a}:{},{commands:l==null?void 0:l.commands,content:l==null?void 0:l.text,externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isExpiredXmaMsg:c==null?void 0:c.isExpiredXmaMsg,isFBPostMention:o("MAWXMAUtils").isFBXMAPostMention(r.payload.targetType),isFBStoryMention:o("MAWXMAUtils").isFBXMAStoryMention(r.payload.targetType),isForwarded:!1,isIGStoryMention:o("MAWXMAUtils").isIGXMAStoryMention(r.payload.targetType),isIGXMAPostShare:o("MAWXMAUtils").isIGXMAPostShare(r.payload.targetType),isIGXMAStoryShare:o("MAWXMAUtils").isIGXMAStoryShare(r.payload.targetType),isMsgHighlightsTabFriendUpdatesReply:o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(r.payload.targetType),isPostPrivateReply:o("MAWXMAUtils").isXMAPostPrivateReply(r.payload.targetType),isStoryHighlightShare:o("MAWXMAUtils").isXMAStoryHighlightShare(r.payload.targetType),isStoryProducerReply:o("MAWXMAUtils").isXMAStoryProducerReply(r.payload.targetType),isStoryReaction:o("MAWXMAUtils").isXMAStoryReaction(r.payload.targetType),isStoryReply:o("MAWXMAUtils").isXMAStoryReply(r.payload.targetType),isStoryShare:o("MAWXMAUtils").isXMAStoryShare(r.payload.targetType),mentionedJids:l==null?void 0:l.mentionedJid.map(o("WAJids").validateUserJid).filter(Boolean),msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:"XMA",xmaMessageType:r.payload.targetType});return{kind:"bridgeMsg",value:d}}}function d(t){var n,a,i,l,s,u,c,d,m,p,_=t.message,f=t.topLevel;if(f.value.type_!=="XMA")return t;var g=_.deserialize().encryptedTransportMessage(),h=g==null||(n=g.armadillo())==null?void 0:n.extendedContentMessage();if(g==null||h==null)return t;var y=h.payload.ctas.map(function(t){var n=t.actionContentBlob,r=babelHelpers.objectWithoutPropertiesLoose(t,e);return r}),C=r("nullthrows")(h.payload.targetType),b=C===o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT,v=b?[null,h.previews().at(0)]:[h.previews().at(0),h.favicon()],S=v[0],R=v[1],L=S==null||(a=S.integral)==null||(a=a.transport)==null||(a=a.integral)==null?void 0:a.fileSha256,E=L!=null?o("WAHashUtils").toPlaintextHash(L):void 0,k=R==null||(i=R.integral)==null||(i=i.transport)==null||(i=i.integral)==null?void 0:i.fileSha256,I=k!=null?o("WAHashUtils").toPlaintextHash(k):void 0,T=(l=h.headerImage())==null||(l=l.integral)==null||(l=l.transport)==null||(l=l.integral)==null?void 0:l.fileSha256,D=T!=null?o("WAHashUtils").toPlaintextHash(T):void 0,x=o("WAMedia").MEDIA_TYPE.IMAGE,$=o("MAWBridgeXMA").mediaTypeToMimeType(x),P={author:_.getAuthor(),contentRef:h.payload.contentRef,ctas:y.slice(1),defaultCTA:y.at(0),defaultPreviewMediaId:o("MAWDbMedia").convertNumberToMediaId(0),defaultPreviewMediaPlaintextHash:E,duration:null,faviconMediaId:o("MAWDbMedia").convertNumberToMediaId(0),faviconPlaintextHash:I,filesize:o("WALongInt").numberOrThrowIfTooLarge((s=S==null||(u=S.integral)==null||(u=u.transport)==null||(u=u.ancillary)==null?void 0:u.fileLength)!=null?s:0),hasMedia:E!=null,hasXmaFaviconMedia:k!=null,hasXmaHeaderMedia:T!=null,headerMediaId:o("MAWDbMedia").convertNumberToMediaId(0),headerMediaPlaintextHash:D,headerTitle:h.payload.headerTitle,maxSubtitleNumOfLines:h.payload.maxSubtitleNumOfLines,maxTitleNumOfLines:h.payload.maxTitleNumOfLines,mediaType:x,msgId:t.message.getMsgId(),offlineAttachmentId:E,overlayIconGlyph:h.payload.overlayIconGlyph,overlayTitle:h.payload.overlayTitle,playableUrlMimeType:$,previewHeight:S==null||(c=S.integral)==null||(c=c.transport)==null||(c=c.ancillary)==null||(c=c.thumbnail)==null?void 0:c.thumbnailHeight,previewHeightLarge:S==null||(d=S.ancillary)==null?void 0:d.height,previewUrlMimeType:$,previewWidth:S==null||(m=S.integral)==null||(m=m.transport)==null||(m=m.ancillary)==null||(m=m.thumbnail)==null?void 0:m.thumbnailWidth,previewWidthLarge:S==null||(p=S.ancillary)==null?void 0:p.width,subtitleText:h.payload.subtitleText,targetId:h.payload.targetId,targetType:C,targetUsername:h.payload.targetUsername,threadJid:t.message.getChatJid(),titleText:h.payload.titleText,ts:t.message.getUnixTs(),xmaDataclass:h.payload.xmaDataclass,xmaId:o("MAWDbXMA").convertNumberToXMAId(0),xmaLayoutType:h.payload.xmaLayoutType};return t.supplementals.push({kind:"bridgeXMA",value:P}),t}function m(e){var t,n,r=e.message.deserialize().encryptedTransportMessage(),a=r==null||(t=r.armadillo())==null?void 0:t.extendedContentMessage(),i=a==null||(n=a.associatedMessage())==null?void 0:n.consumerMessage();if(i==null)return e;var l=o("MpsMediaToBridge").getBridgeMediaFromConsumerMessage(i,e.message);l!=null&&e.supplementals.push({kind:"bridgeMedia",value:l});var s=o("MpsReceiverFetchInfoToBridge").getReceiverFetchInfoFromConsumerMessage(i,e.message);return s!=null&&e.supplementals.push({kind:"bridgeReceiverFetchInfo",value:s}),e}function p(e){var t,n=e.message.deserialize().encryptedTransportMessage(),r=n==null||(t=n.armadillo())==null?void 0:t.extendedContentMessage(),o=u(r==null?void 0:r.payload.targetExpiringAtSec);if(o==null)return e;var a=o.countdownTs,i=o.millisecondsUntilCountdownTs;return e.supplementals.push({kind:"bridgeXMAStartCountdown",value:{msgs:[{countdownTs:a,millisecondsUntilCountdownTs:i,msgId:e.message.getMsgId(),threadJid:e.message.getChatJid(),ts:e.message.getUnixTs()}]}}),e}l.computeXmaContent=s,l.getExpiredXMAParams=u,l.xmaToBridge=c,l.processXmaAttachment=d,l.processXmaAssociatedMessageAttachment=m,l.processXmaExpiration=p}),98);
__d("MpsNoteReplyToBridge",["MAWAckLevel","MAWVault","MpsMediaToBridge","MpsReceiverFetchInfoToBridge","MpsXmaToBridge","WALongInt","WATimeUtils","getMediaTypeFromConsumerMessage","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e==null?void 0:e.videoContent(),n=e==null?void 0:e.stickerContent(),a=t!=null?t:n;if(a!=null){var i=t!=null?o("getMediaTypeFromConsumerMessage").getMediaTypeForVideo(t):void 0,l=n!=null?"sticker":void 0,s=r("nullthrows")(i!=null?i:l);return o("MpsMediaToBridge").getMediaTypeForServerMediaType(s)}}function s(t){var n,r,a=t.deserialize().encryptedTransportMessage(),i=a==null||(n=a.armadillo())==null?void 0:n.noteReply();if(!(a==null||i==null)){var l=i.payload,s=l.noteText,u=l.noteTimestampMs,c=l.textContent,d=i.payload.noteTimestampMs!=null?o("WATimeUtils").castMilliSecondsToUnixTime(o("WALongInt").numberOrThrowIfTooLarge(i.payload.noteTimestampMs)):void 0,m=o("MpsXmaToBridge").getExpiredXMAParams(d),p=t.message.senderId,_=e(i),f={ack:o("MAWAckLevel").ACK.received,chatJid:t.getChatJid(),content:(c==null?void 0:c.text)==null?void 0:o("MAWVault").vault(c.text),editCount:0,externalId:t.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:t.isAuthorMe(),isExpiredMsg:!1,isForwarded:!1,isNoteReply:!0,msgId:t.getMsgId(),replyContent:{noteContent:m!=null&&m.isExpiredXmaMsg?void 0:o("MAWVault").vault((r=s==null?void 0:s.text)!=null?r:""),replyMediaExpirationTimestampMs:u!=null?o("WATimeUtils").castToMillisTime(o("WALongInt").numberOrThrowIfTooLarge(u)):void 0,replyToMsgId:t.getMsgId(),replyToUserId:p,replyType:"LIGHTWEIGHT_STATUS"},sender:p,sortOrderMs:t.message.timestampMs,ts:t.getUnixTs(),type_:_!=null?_:"Text"};return{kind:"bridgeMsg",value:f}}}function u(e){var t,n=e.message.deserialize().encryptedTransportMessage(),r=n==null||(t=n.armadillo())==null||(t=t.payload)==null||(t=t.content)==null?void 0:t.noteReplyMessage;if(n==null||r==null)return e;var a=r.noteTimestampMs!=null?o("WATimeUtils").castMilliSecondsToUnixTime(o("WALongInt").numberOrThrowIfTooLarge(r.noteTimestampMs)):void 0,i=o("MpsXmaToBridge").getExpiredXMAParams(a);if(i==null)return e;var l=i.countdownTs,s=i.millisecondsUntilCountdownTs;return e.supplementals.push({kind:"bridgeNoteReplyStartCountdown",value:{msgs:[{countdownTs:l,millisecondsUntilCountdownTs:s,msgId:e.message.getMsgId(),threadJid:e.message.getChatJid(),ts:e.message.getUnixTs()}]}}),e}function c(t){var n,r=t.message,a=r.deserialize().encryptedTransportMessage(),i=a==null||(n=a.armadillo())==null?void 0:n.noteReply(),l=i==null?void 0:i.videoContent(),s=i==null?void 0:i.stickerContent(),u=l!=null?l:s,c=e(i);if(u==null||c==null)return t;var d=o("MpsMediaToBridge").getBridgeFromAttachmentTransport(u,c,r);if(d!=null&&t.supplementals.push({kind:"bridgeMedia",value:d}),s!=null){var m=o("MpsReceiverFetchInfoToBridge").getReceiverFetchInfoForAttachmentTransport(s,r);m!=null&&t.supplementals.push({kind:"bridgeReceiverFetchInfo",value:m})}return t}l.noteReplyToBridge=s,l.processNoteReply=u,l.processNoteReplyAttachment=c}),98);
__d("MpsRavenToBridge",["EphemeralMediaViewMode","FBLogger","MAWAckLevel","MAWDbMedia","MAWProtobufDeserializers","RavenMessagingState","WAArmadilloApplication.pb","WAHashUtils","WAMsgType","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r=(t=e.deserialize().encryptedTransportMessage())==null||(t=t.armadillo())==null||(t=t.payload)==null?void 0:t.content,o=(n=r==null?void 0:r.ravenMessage)!=null?n:r==null?void 0:r.ravenMessageMsgr;return!!o}function s(t){if(e(t)){var n={ack:o("MAWAckLevel").ACK.received,chatJid:t.getChatJid(),content:"",externalId:t.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:t.isAuthorMe(),isForwarded:!1,msgId:t.getMsgId(),sender:t.message.senderId,sortOrderMs:t.message.timestampMs,ts:t.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.RAVEN};return{kind:"bridgeMsg",value:n}}}function u(e){var t,n,a,i=e.message,l=(t=i.deserialize().encryptedTransportMessage())==null||(t=t.armadillo())==null||(t=t.payload)==null?void 0:t.content,s=(n=l==null?void 0:l.ravenMessage)!=null?n:l==null?void 0:l.ravenMessageMsgr;if(s==null)return e;var u,c;e.supplementalMessages.forEach(function(e){var t,n,r=(t=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(e.payload).encryptedTransportMessage())==null||(t=t.armadillo())==null||(t=t.payload)==null?void 0:t.content;u=(n=r==null?void 0:r.ravenMessage)!=null?n:r==null?void 0:r.ravenMessageMsgr,c=r==null?void 0:r.ravenActionNotifMessage});var d=(typeof u=="object"&&u!==null||typeof u=="function")&&(typeof u.videoMessage=="object"&&u.videoMessage!==null||typeof u.videoMessage=="function")?o("WAMsgType").MSG_TYPE.VIDEO:(typeof u=="object"&&u!==null||typeof u=="function")&&(typeof u.imageMessage=="object"&&u.imageMessage!==null||typeof u.imageMessage=="function")?o("WAMsgType").MSG_TYPE.IMAGE:null;if(d==null&&c==null)return r("FBLogger")("mps").mustfix("Unsupported Raven type"),e;var m=e.message.getMsgId(),p=s.ephemeralType===o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.VIEW_ONCE?r("EphemeralMediaViewMode").READ_ONCE:s.ephemeralType===o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.ALLOW_REPLAY?r("EphemeralMediaViewMode").REPLAYABLE:s.ephemeralType===o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.KEEP_IN_CHAT?r("EphemeralMediaViewMode").PERMANENT:s.ephemeralType===void 0?void 0:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+s.ephemeralType)})(),_={duration:null,ephemeralMediaState:c==null?r("RavenMessagingState").UNSEEN:r("RavenMessagingState").SEEN,ephemeralMediaViewMode:p,filesize:100,hasMedia:!1,hasPreviewMedia:!1,mediaId:o("MAWDbMedia").convertNumberToMediaId(0),mediaType:d||o("WAMsgType").MSG_TYPE.IMAGE,messagesSortOrderMs:(a={},a[m]=e.message.topLevel.timestampMs,a),msgIds:[e.message.getMsgId()],plaintextHash:o("WAHashUtils").stringToPlaintextHash("aaa"),previewHeight:1,previewHeightLarge:1,previewWidth:1,previewWidthLarge:1,sortOrderMs:o("WATimeUtils").castLongIntToMillisTime(e.message.topLevel.timestampMs),threadJid:e.message.getChatJid(),ts:e.message.getUnixTs()};return e.supplementals.push({kind:"bridgeMedia",value:_}),e}l.isRavenMsg=e,l.ravenToBridge=s,l.processRavenAttachment=u}),98);
__d("MpsReactionToBridge",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r=(t=e.deserialize().encryptedTransportMessage())==null||(t=t.consumerMessage())==null||(t=t.payload)==null||(t=t.content)==null?void 0:t.reactionMessage;if(r!=null){var a=r.senderTimestampMs!=null?o("WATimeUtils").castMilliSecondsToUnixTime(o("WATimeUtils").castLongIntToMillisTime(r.senderTimestampMs)):e.getUnixTs(),i=(n=r.text)!=null?n:"",l=i===""?{reaction:{actorId:e.message.senderId,chatJid:e.getChatJid(),messageId:e.topLevelMetadata().getMsgId()},type:"delete"}:{reaction:{actorId:e.message.senderId,chatJid:e.getChatJid(),messageId:e.topLevelMetadata().getMsgId(),reaction:i,ts:a},type:"upsert"};return{kind:"bridgeReactionAction",value:l}}}l.reactionMessageToBridgeMsg=e}),98);
__d("MpsReplyToBridge",["MpsToBridgeMessageId","MpsTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.message,r=e.topLevel,a=n.deserialize().encryptedTransportMessage();if(r.kind!=="bridgeMsg"||a==null)return e;var i=(t=a.proto.metadata)==null?void 0:t.quotedMessage;if(i==null||i.stanzaId==null||r.value.replyContent!=null)return e;var l=o("MpsTypes").toMessageId(i.stanzaId);return r.value=babelHelpers.extends({},r.value,{replyContent:{isBumpMsg:!1,replyToMsgId:o("MpsToBridgeMessageId").mpsToBridgeMsgId(n.message.threadId,l),replyType:"MESSAGE"}}),babelHelpers.extends({},e,{topLevel:r})}l.processReplyMessage=e}),98);
__d("MpsRevokeMessageToBridgeMsg",["MAWAckLevel","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.deserialize().encryptedTransportMessage(),r=n==null||(t=n.consumerMessage())==null||(t=t.payload)==null||(t=t.applicationData)==null?void 0:t.revoke;if(!(n==null||r==null))return{kind:"bridgeMsg",value:{ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.REVOKED}}}l.revokeMessageToBridgeMsg=e}),98);
__d("MpsScreenshotActionToBridgeMsg",["MAWAckLevel","MAWEphemeralUtils","WAArmadilloApplication.pb","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r=e.deserialize().encryptedTransportMessage(),a=r==null||(t=r.armadillo())==null||(t=t.proto.payload)==null||(t=t.content)==null?void 0:t.screenshotAction;if(!(a==null||r==null)){var i=o("MAWEphemeralUtils").getEphemeralScreenshotActionData((n=a.screenshotType)!=null?n:o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE,e.getSenderJid(),e.isAuthorMe()),l={ack:o("MAWAckLevel").ACK.received,adminContent:i.ephemeralScreenshotActionContent,adminType:i.ephemeralScreenshotActionType,adminVersion:1,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:l}}}l.screenshotActionToBridgeMsg=e}),98);
__d("WAParseReadOnlyMetadataDataclassUtils",["err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if((e==null?void 0:e.readonlyMetadataDataclass)!=null)try{var t=JSON.parse(e==null?void 0:e.readonlyMetadataDataclass);return t}catch(e){throw r("err")("Failed to parse readonly metadata dataclass JSON")}return null}function s(t){var n,r=e(t);return(r==null||(n=r.power_up)==null?void 0:n.power_up_style)!=null}function u(t){var n,r=e(t);return(r==null||(n=r.note_metadata)==null?void 0:n.message_type)==="MENTION"}l.isPowerUp=s,l.isNoteMention=u}),98);
__d("MpsUnsupportedMessagesToBridge",["MAWAckLevel","MAWParseXMAFBConfig","MAWParseXMAUnsupportedMessageType","WACommon.pb","WAMsgType","WAParseReadOnlyMetadataDataclassUtils","gkx","maybeConvertMessageTextMentionsV2ToV1"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,a,i,l,s,u=e.deserialize().encryptedTransportMessage();if(u!=null){var c=u==null?void 0:u.consumerMessage(),d={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.FUTUREPROOF},m=(c==null||(t=c.payload)==null||(t=t.content)==null?void 0:t.messageText)&&r("maybeConvertMessageTextMentionsV2ToV1")(c==null||(n=c.payload)==null||(n=n.content)==null?void 0:n.messageText);if(m!=null){var p,_=((p=m.commands)==null?void 0:p.some(function(e){return e.commandType===o("WACommon.pb").COMMAND_COMMAND_TYPE.AI}))===!0;if(_&&!r("gkx")("12661"))return{kind:"bridgeMsg",value:babelHelpers.extends({},d,{unsupportedType:"metaAiMessage"})}}var f=u==null||(a=u.armadillo())==null?void 0:a.paymentsTransactionMessage(),g=f!=null?f:u==null||(i=u.armadillo())==null?void 0:i.extendedContentMessage();if(g!=null){var h=g.payload,y=h.targetType,C=h.xmaDataclass;if(y==null||!o("MAWParseXMAFBConfig").isFBSupportedTargetType({fbTargetType:y,xmaDataclass:C})){var b=f!=null;return{kind:"bridgeMsg",value:babelHelpers.extends({},d,{unsupportedType:o("MAWParseXMAUnsupportedMessageType").getXMAUnsupportedMessageType(y,C,b)})}}}var v=c==null||(l=c.documentMessage())==null?void 0:l.payload;if(v!=null&&r("gkx")("23924"))return{kind:"bridgeMsg",value:babelHelpers.extends({},d)};if(o("WAParseReadOnlyMetadataDataclassUtils").isNoteMention(u.proto.metadata))return{kind:"bridgeMsg",value:babelHelpers.extends({},d,{unsupportedType:"noteMention"})};var S=c==null||(s=c.payload)==null||(s=s.content)==null?void 0:s.pollCreationMessage;if(S!=null)return{kind:"bridgeMsg",value:babelHelpers.extends({},d,{unsupportedType:"pollCreationMessage"})}}}l.unsupportedMessagesBridgeMsg=e}),98);
__d("MpsWaAdminMsgToBridge",["MAWAckLevel","MAWGetUserDeviceChangeAdminType","MAWJids","MAWLocalizationType","MAWUserJidWrapper","WAArmadilloTransportEvent.pb","WAJids","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r,a=e.deserialize(),i=(t=a.encryptedTransportEvent())==null?void 0:t.proto.event;if(i){var l=i.deviceChange,s=i.icdcAlert;if(((n=a.proto.metadata)==null?void 0:n.senderId)!=null){var u=o("WAJids").unsafeCoerceToUserJid((r=a.proto.metadata)==null?void 0:r.senderId),c=o("MAWJids").toUserJid(u),d=c===o("MAWUserJidWrapper").getMyUserJid()?[]:[o("WAJids").userIdFromJid(c)];if(s)return{kind:"bridgeMsg",value:{ack:o("MAWAckLevel").ACK.received,adminContent:d,adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE,adminVersion:1,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.ICDC_ALERT}};if(l){var m,p,_=(typeof l=="object"&&l!==null||typeof l=="function")&&"type"in l&&l.type===o("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.ADDED?"add":(typeof l=="object"&&l!==null||typeof l=="function")&&"type"in l&&l.type===o("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.REMOVED?"remove":typeof l=="object"&&l!==null||typeof l=="function"?"update":(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+l)})();if(((m=a.proto.metadata)==null?void 0:m.senderId)==null)return;var f=o("WAJids").unsafeCoerceToUserJid((p=a.proto.metadata)==null?void 0:p.senderId),g=o("MAWJids").toUserJid(f),h=o("MAWGetUserDeviceChangeAdminType").getUserDeviceAdminType(_,g===o("MAWUserJidWrapper").getMyUserJid()),y={ack:o("MAWAckLevel").ACK.received,adminContent:d,adminType:h,adminVersion:1,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:y}}}}}l.waAdminMsgToBridgeMsg=e}),98);
__d("MpsWaPlaceholderToBridge",["MAWAckLevel","WAArmadilloTransportEvent.pb","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.deserialize().encryptedTransportEvent(),r=n==null||(t=n.proto.placeholder)==null?void 0:t.type;if(!(n==null||r==null)){var a={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:r===o("WAArmadilloTransportEvent.pb").TransportEvent$Placeholder$Type.UNAVAILABLE_MESSAGE?o("WAMsgType").MSG_TYPE.UNAVAILABLE:o("WAMsgType").MSG_TYPE.CIPHERTEXT};return{kind:"bridgeMsg",value:a}}}l.waPlaceholderToBridgeMsg=e}),98);
__d("MpsXmaMentionToBridge",["MAWUserJidWrapper","MAWXMAUtils","WAJids","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.message,r=e.topLevel,a=n.deserialize().encryptedTransportMessage(),i=a==null||(t=a.armadillo())==null?void 0:t.extendedContentMessage(),l=i==null?void 0:i.payload.targetType,s=o("MAWXMAUtils").isXMAStoryMention(l)||o("MAWXMAUtils").isFBXMAPostMention(l);if(a==null||i==null||!s||r.kind!=="bridgeMsg")return e;var u=o("MAWXMAUtils").isFBXMAPostMention(l),c=o("WAJids").interpretAsUserJid(n.getChatJid()),d=o("WAJids").extractUserId(o("MAWUserJidWrapper").getMyUserJid()),m=c==null?d:o("WAJids").userIdFromJid(c),p={mentionedUserId:m!=null?m:d,timestampMs:o("WATimeUtils").castToMillisTime(n.message.timestampMs)},_=u?babelHelpers.extends({},p,{replyType:"FB_POST_MENTION"}):babelHelpers.extends({},p,{replyType:"FB_STORY_MENTION"});return r.value=babelHelpers.extends({},r.value,{replyContent:_}),e}l.processXmaMention=e}),98);
__d("MpsXmaStoryReplyToBridge",["MAWAckLevel","MAWDbMedia","MAWMsgType","MAWUserJidWrapper","MAWXMAUtils","MpsMediaToBridge","MpsXmaToBridge","WAHashUtils","WAJids","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r=(n=o("WAJids").interpretAsUserJid(t.getChatJid()))!=null?n:t.getSenderJid(),a=o("MAWUserJidWrapper").getMyUserJid();return o("MAWXMAUtils").isXMAStoryProducerReply(e.targetType)?t.isAuthorMe()?a:r:t.isAuthorMe()?r:a}function s(t){var n,r,a,i,l=t.deserialize().encryptedTransportMessage(),s=l==null||(n=l.armadillo())==null?void 0:n.extendedContentMessage();if(!(l==null||s==null||!o("MAWXMAUtils").isXMAStoryReply(s.payload.targetType))){var u=o("MpsXmaToBridge").computeXmaContent(s),c=s.previews().at(0),d=c==null||(r=c.integral)==null||(r=r.transport)==null||(r=r.integral)==null?void 0:r.fileSha256,m=d!=null?o("WAHashUtils").toPlaintextHash(d):void 0,p=(a=s.payload.ctas.at(0))==null?void 0:a.nativeUrl,_=e(s.payload,t),f=o("MAWXMAUtils").isXMAStoryProducerReply(s.payload.targetType),g=(i=s.associatedMessage())==null?void 0:i.consumerMessage(),h=g!=null?o("MpsMediaToBridge").getMediaTypeForMessage(g):null,y=o("MpsXmaToBridge").getExpiredXMAParams(s==null?void 0:s.payload.targetExpiringAtSec),C=f?{replyType:"FB_PRODUCER_STORY_REPLY",storyMediaId:o("MAWDbMedia").convertNumberToMediaId(1),storyMediaPlaintextHash:y!=null&&y.isExpiredXmaMsg?void 0:m,storyMsgType:o("MAWMsgType").MSG_TYPE.IMAGE,storyOwnerId:o("WAJids").extractUserId(_),storyUrl:p!=null?p:"",timestampMs:o("WATimeUtils").castToMillisTime(t.message.timestampMs)}:{replyType:"STORY",storyMediaPlaintextHash:y!=null&&y.isExpiredXmaMsg?void 0:m,storyOwnerId:o("WAJids").extractUserId(_),storyUrl:p!=null?p:"",timestampMs:o("WATimeUtils").castToMillisTime(t.message.timestampMs)},b={ack:o("MAWAckLevel").ACK.received,chatJid:t.getChatJid(),commands:u==null?void 0:u.commands,content:u==null?void 0:u.text,externalId:t.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:t.isAuthorMe(),isForwarded:!1,isStoryReply:!0,mentionedJids:u==null?void 0:u.mentionedJid.map(o("WAJids").validateUserJid).filter(Boolean),msgId:t.getMsgId(),replyContent:C,sender:t.message.senderId,sortOrderMs:t.message.timestampMs,ts:t.getUnixTs(),type_:h!=null?h:"Text"};return{kind:"bridgeMsg",value:b}}}l.storyReplyToBridge=s}),98);
__d("WAGetPlatformFromStanzaId",["WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){try{if(t.startsWith("3EB0"))return"web";var n=31,r=BigInt(n<<17),a=BigInt(0),i=BigInt(1<<17),l=BigInt(t)&r;return l===a?"web":l===i?"mobile":"unknown"}catch(n){return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse stanza id "," for platform: ",""])),t,n),"error"}}l.getPlatformFromStanzaId=s}),98);
__d("MpsMessageToBridge",["FBLogger","MAWMsgType","MpsAdminMsgToBridge","MpsBumpMessageToBridgeMsg","MpsEditToBridge","MpsEphemeralMessageToBridge","MpsForwardToBridge","MpsFutureproofToBridge","MpsMediaToBridge","MpsMessageTextToBridge","MpsMessageToBridgeWrapper","MpsNoteReplyToBridge","MpsRavenToBridge","MpsReactionToBridge","MpsReceiverFetchInfoToBridge","MpsReplyToBridge","MpsRevokeMessageToBridgeMsg","MpsScreenshotActionToBridgeMsg","MpsUnsupportedMessagesToBridge","MpsWaAdminMsgToBridge","MpsWaPlaceholderToBridge","MpsXmaMentionToBridge","MpsXmaStoryReplyToBridge","MpsXmaToBridge","WAGetPlatformFromStanzaId","WAJids","WAStanzaUtils","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[o("MpsUnsupportedMessagesToBridge").unsupportedMessagesBridgeMsg,o("MpsMessageTextToBridge").messageTextToBridgeMsg,o("MpsMediaToBridge").mediaToBridge,o("MpsAdminMsgToBridge").adminMsgToBridgeMsg,o("MpsScreenshotActionToBridgeMsg").screenshotActionToBridgeMsg,o("MpsRevokeMessageToBridgeMsg").revokeMessageToBridgeMsg,o("MpsBumpMessageToBridgeMsg").bumpMessageToBridgeMsg,o("MpsWaAdminMsgToBridge").waAdminMsgToBridgeMsg,(e=o("MpsXmaToBridge")).xmaToBridge,o("MpsXmaStoryReplyToBridge").storyReplyToBridge,o("MpsRavenToBridge").ravenToBridge,o("MpsNoteReplyToBridge").noteReplyToBridge,o("MpsWaPlaceholderToBridge").waPlaceholderToBridgeMsg,o("MpsFutureproofToBridge").futureproofBridgeMsg],u=[o("MpsEditToBridge").editMessageToBridgeMsg,o("MpsReactionToBridge").reactionMessageToBridgeMsg],c=[o("MpsEditToBridge").processEditedMessage,o("MpsReplyToBridge").processReplyMessage,o("MpsMediaToBridge").processAttachment,o("MpsEphemeralMessageToBridge").processEphemeralMessage,o("MpsReceiverFetchInfoToBridge").processReceiverFetchInfo,e.processXmaAttachment,e.processXmaAssociatedMessageAttachment,o("MpsXmaMentionToBridge").processXmaMention,o("MpsRavenToBridge").processRavenAttachment,o("MpsForwardToBridge").processForwarding,o("MpsNoteReplyToBridge").processNoteReply,o("MpsNoteReplyToBridge").processNoteReplyAttachment,e.processXmaExpiration];function d(e,t){for(var n of e)try{var a=n(t);if(a!=null)return a}catch(e){var i=o("WAStanzaUtils").toStanzaId(t.getExternalId()),l=o("WAJids").interpretAsGroupJid(t.getChatJid())!=null;throw r("FBLogger")("mps").catching(r("getErrorSafe")(e)).mustfixThrow("mpsMessagetoBridge failed to create a bridge object for message from platform: %s, is_group: %s",o("WAGetPlatformFromStanzaId").getPlatformFromStanzaId(i),l)}}function m(e){var t=o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(e.toplevelProtobuf),n=d(s,t);if(n!=null&&!(n.kind==="bridgeMsg"&&n.value.type_===o("MAWMsgType").MSG_TYPE.ADMIN&&n.value.adminType==null)){if(n.kind==="bridgeMsg"&&n.value.type_===o("MAWMsgType").MSG_TYPE.FUTUREPROOF)return{supplementals:[],topLevel:n};var r=e.supplementalProtobufs.values().toArray().map(function(t){return d(u,o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromSupplemental(t,e.toplevelProtobuf))}).filter(Boolean),a=c.reduce(function(e,t){return t(e)},{message:t,supplementalMessages:e.supplementalProtobufs,supplementals:r,topLevel:n});return{supplementals:a.supplementals,topLevel:a.topLevel}}}l.mpsFullMessagetoBridge=m}),98);
__d("MpsTags",["FBLogger","MAWProtobufDeserializers","MSGDataclassTypes.flow","getErrorSafe","getMediaTypeFromConsumerMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e){try{var t,n=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(e),a=(t=n.encryptedTransportMessage())==null||(t=t.consumerMessage())==null?void 0:t.proto,i=o("getMediaTypeFromConsumerMessage").getMediaTypeFromConsumerMessage(a);return s(i)}catch(e){var l=r("getErrorSafe")(e);return r("FBLogger")("wmi").tags(["mps","mps-tags"]).catching(l).mustfix("Failed to get the tag from the protobuf"),null}}function s(e){return e==="image"?o("MSGDataclassTypes.flow").MpsMessageTag.Photo:e==="video"?o("MSGDataclassTypes.flow").MpsMessageTag.Video:e==="gif"?o("MSGDataclassTypes.flow").MpsMessageTag.Gif:e==="ptt"?o("MSGDataclassTypes.flow").MpsMessageTag.Audio:e==="document"?o("MSGDataclassTypes.flow").MpsMessageTag.File:e==="sticker"||e==="md-app-state"||e==="xma-image"||e===void 0||e===null?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}l.getTagFromProto=e,l.getMpsMessageTagFromMediaType=s}),98);
__d("WebMpsReverbWrites",["asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){"use strict";function e(e,t,r,o,a,i,l){var s=[a,o,r];return l((function(){var l=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var l,u=yield n.stores.supplemental.getByIndex("[threadId+topLevelMessageId+supplementalKey]",s);if(!(((l=u==null?void 0:u.timestampMs)!=null?l:0)>=i)){var c={messageId:e,payload:t,supplementalKey:r,threadId:a,timestampMs:i,topLevelMessageId:o};yield n.stores.supplemental.bulkUpsert("[threadId+topLevelMessageId+supplementalKey]",[{item:c,selector:s}])}});return function(e){return l.apply(this,arguments)}})())}function l(e,t,r){var o=e.messageId,a=e.threadId;return r((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var r,i=yield n.stores.message.getByIndex("[threadId+messageId]",[a,o]);if(!(i!=null&&!i.isTransportErrorPlaceholder)&&!(i!=null&&i.isTransportErrorPlaceholder&&t.isTransportErrorPlaceholder)){var l=yield n.stores.deleted.getByIndex("[threadId+deletedMessageId]",[e.threadId,e.messageId]),s=babelHelpers.extends({},e,{debugFlags:t.debugFlags,expiryTimestampMs:t.expiryTimestampMs,isLocalOnlyMessage:t.isLocalOnly,isTransportErrorPlaceholder:t.isTransportErrorPlaceholder,timestampMs:(r=i==null?void 0:i.timestampMs)!=null?r:e.timestampMs});if(l)l.payload=s.payload,yield n.stores.deleted.bulkPut([l]),i!=null&&(i.timestampMs=e.timestampMs,yield n.stores.message.bulkPut([i]));else{var u=yield n.stores.message.bulkUpsert("[threadId+messageId]",[{item:s,selector:[a,o]}]),c=u[0],d=yield n.stores.tags.readIndexRange("[threadId+messageId+tag]",{only:[a,o]});d.length>0&&(yield n.stores.tags.bulkDelete(d.map(function(e){return e.pk}))),t.tags.length>0&&(yield n.stores.tags.bulkAdd(t.tags.map(function(e){return{messageId:s.messageId,messagePk:c,tag:e,threadId:s.threadId,timestampMs:s.timestampMs}})))}}});return function(e){return r.apply(this,arguments)}})())}i.upsertSupplementalToReverb=e,i.upsertTopLevelToReverb=l}),66);
__d("WebReverbSchema",["FBLogger","MAWWormOdsLogger","WAHex","Worm","WormEAR","WormIDbDriver","WormMemoryDriver"],(function(t,n,r,o,a,i,l){"use strict";var e={autoIncrement:!0,indexes:{"[threadId+messageId]":{fields:["threadId","messageId"],unique:!0},"[threadId+timestampMs+messageId]":{fields:["threadId","timestampMs","messageId"],unique:!1},expiryTimestampMs:{fields:["expiryTimestampMs"],unique:!1},messageId:{fields:["messageId"],unique:!1},timestampMs:{fields:["timestampMs"],unique:!1}},nonEncryptedFields:["timestampMs","expiryTimestampMs","messageId","debugFlags"],primaryKey:"pk",secure:!0},s={autoIncrement:!0,indexes:{"[threadId+topLevelMessageId+supplementalKey]":{fields:["threadId","topLevelMessageId","supplementalKey"],unique:!0}},nonEncryptedFields:["topLevelMessageId"],primaryKey:"pk",secure:!0},u={autoIncrement:!0,indexes:{"[threadId+deletedMessageId]":{fields:["threadId","deletedMessageId"],unique:!0},"[threadId+timestampMs+deletedMessageId]":{fields:["threadId","timestampMs","deletedMessageId"],unique:!0},"[threadId+topLevelMessageId+supplementalKey]":{fields:["threadId","topLevelMessageId","supplementalKey"],unique:!1},deletionTimestampMs:{fields:["deletionTimestampMs"],unique:!1}},nonEncryptedFields:["topLevelMessageId","deletionTimestampMs"],primaryKey:"pk",secure:!0},c={autoIncrement:!0,indexes:{"[threadId+messageId+tag]":{fields:["threadId","messageId","tag"],unique:!0},"[threadId+tag+timestampMs]":{fields:["threadId","tag","timestampMs"],unique:!1}},nonEncryptedFields:["messageId","timestampMs","messagePk","tag"],primaryKey:"pk",secure:!0},d={autoIncrement:!1,indexes:{},primaryKey:"pk",secure:!0},m={dbMetadata:d,deleted:u,message:e,supplemental:s,tags:c};function p(e,t,n,a,i){var l=o("WAHex").parseHex(t),s="reverb",u=new(o("WormEAR")).WormEAR(m,s,l),c=new(o("Worm")).WormDatabase(new(o("WormIDbDriver")).WormIDbDriver(e,s,m,u,o("MAWWormOdsLogger").wormOdsWorkerLogger,{blockingErrorThreshold:n,onBlockingError:a,onTransactionError:function(t){if(t instanceof o("WormEAR").DecryptionError){var e=t;r("FBLogger")("mps").mustfix("EAR decryption error in store: %s. Dropping corrupted entity %s",e.store,e.maybeHashedPk),c.runInTransaction([e.store],"readwrite",function(t){var n=t.stores[e.store];return e.maybeHashedPk!=null?n.delete(e.maybeHashedPk):n.clear()},"delete-corrupted-entity")}}}),i);return c}function _(e){return new(o("Worm")).WormDatabase(new(o("WormMemoryDriver")).WormMemoryDriver(m),e)}l.schema=m,l.makeWebReverbSchema=p,l.makeInMemoryReverbSchema_TEST_ONLY=_}),98);
__d("WebReverbDB",["MpsLogger","WAResolvable","WebReverbSchema","asyncToGeneratorRuntime","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new(o("WAResolvable")).Resolvable;function u(e,t,n,r,o){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a,i,l){var u;try{var c=o("WebReverbSchema").makeWebReverbSchema(t,n,a,i,l);return e=c,u=yield c.init(),s.resolve(c),u}catch(e){throw o("MpsLogger").MpsLogger().catching(r("getErrorSafe")(e)).mustfix("Error performing WebReverb init"),e}}),c.apply(this,arguments)}function d(){if(e==null)throw r("err")("Reverb DB is not initialized");return e}function m(){return s.promise}function p(e){return"WebReverb - "+e}l.makeWebReverb=u,l.getWebReverbDB=d,l.getDbPromise=m,l.mpsOp=p}),98);
__d("WebMpsMigrationReverbTxns",["FBLogger","MpsTags","MpsTypes","Promise","WebMpsReverbWrites","WebReverbDB","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return r("FBLogger")("mps").tags(["mps_migration"])};function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){try{yield o("WebReverbDB").getWebReverbDB().runInTransaction(["message","supplemental","deleted","tags","dbMetadata"],"readwrite",function(r){var o=function(t){return t(r)};return(e||(e=n("Promise"))).all(t.map(function(e){return d(e,o)}))},"mps-persist-messages-migrated-from-maw-db")}catch(e){throw r.endFail("reverb_write_failure"),e}}),c.apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){var a=[],i=[],l=o("MpsTags").getTagFromProto(t.toplevelProtobuf.payload);a.push(o("WebMpsReverbWrites").upsertTopLevelToReverb(t.toplevelProtobuf,{actionType:o("MpsTypes").ActionType.UpsertTopLevel,debugFlags:["MAW_Migration"],isLocalOnly:!0,isTransportErrorPlaceholder:!1,tags:l!=null?[l]:[],targetMessageId:t.toplevelProtobuf.messageId},r));for(var u of t.supplementalsToInsert.entries()){var c=u[0],d=u[1];a.push(o("WebMpsReverbWrites").upsertSupplementalToReverb(d.messageId,d.payload,c,t.toplevelProtobuf.messageId,t.toplevelProtobuf.threadId,d.timestampMs,r))}var m=yield(e||(e=n("Promise"))).allSettled(a),p=m.filter(function(e){return e.status==="rejected"});for(var _ of p)s().mustfix("Failed to upsert a row into Reverb: %s",_.reason);if(p.length>0)throw s().mustfixThrow("Reverb upsert failed");var f=function*(){var e=g[0],o=g[1];i.push(r((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var r=[t.toplevelProtobuf.threadId,t.toplevelProtobuf.messageId,e],o=yield n.stores.supplemental.getByIndex("[threadId+topLevelMessageId+supplementalKey]",r);o!=null&&(yield n.stores.supplemental.bulkDelete([o.pk]))});return function(e){return r.apply(this,arguments)}})()))};for(var g of t.supplementalsToDelete.entries())yield*f();var h=yield e.allSettled(i),y=h.filter(function(e){return e.status==="rejected"});for(var C of y)s().mustfix("Failed to delete a row from Reverb: %s",C.reason);if(y.length>0)throw s().mustfixThrow("Reverb delete failed")}),m.apply(this,arguments)}function p(){return o("WebReverbDB").getWebReverbDB().runInTransaction(["dbMetadata"],"readonly",function(e){return e.stores.dbMetadata.get("db-info")},"mps-get-db-metadata")}function _(e,t){try{return o("WebReverbDB").getWebReverbDB().runInTransaction(["dbMetadata"],"readwrite",(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){yield t.stores.dbMetadata.bulkAdd([babelHelpers.extends({},e,{pk:"db-info"})])});return function(e){return t.apply(this,arguments)}})(),"mps-set-db-metadata")}catch(e){throw t.endFail("migration_state_write_failure"),e}}function f(e,t){try{return o("WebReverbDB").getWebReverbDB().runInTransaction(["dbMetadata"],"readwrite",(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n,r,o,a,i=yield t.stores.dbMetadata.get("db-info");if(i==null)throw s().mustfixThrow("DB Metadata row does not exist, cannot update the cursor");var l=i,u=babelHelpers.extends({},l,{mawDBMigrationCurrentMessageId:(n=e.mawDBMigrationCurrentMessageId)!=null?n:l.mawDBMigrationCurrentMessageId,mawDBMigrationCurrentThread:(r=e.mawDBMigrationCurrentThread)!=null?r:l.mawDBMigrationCurrentThread,mawDBMigrationStartMs:(o=e.mawDBMigrationStartMs)!=null?o:l.mawDBMigrationStartMs,mawDBMigrationState:(a=e.mawDBMigrationState)!=null?a:l.mawDBMigrationState});yield t.stores.dbMetadata.bulkPut([u])});return function(e){return t.apply(this,arguments)}})(),"mps-update-db-metadata")}catch(e){throw t.endFail("migration_state_write_failure"),e}}l.persistMigratedMessagesFromMawDb=u,l.getMawMpsMigrationState=p,l.setInitialMawMpsMigrationState=_,l.setMawMpsMigrationState=f}),98);
__d("WAWaitForUserUnblocked",["WAResolvable","WorkerScheduler"],(function(t,n,r,o,a,i,l){"use strict";var e=12e4,s=new(o("WAResolvable")).Resolvable,u=o("WorkerScheduler").makeScheduler("offline-queue",{concurrency:1,maxTaskLimit:1,defaultSamplingRate:1e3,timeoutMs:e});function c(){s.resolveWasCalled()&&(s=new(o("WAResolvable")).Resolvable,d())}function d(){u.runTask({name:"offline-queue",fn:function(){return s.promise},priority:o("WorkerScheduler").BLOCKING_PRIORITY})}function m(){return s.promise}function p(){s.resolve()}function _(){return!s.resolveWasCalled()}l.maybeResetWaitForUserUnblocked=c,l.markOfflineQueueAsStarted=d,l.waitForUserUnblocked=m,l.unblockUser=p,l.isStillWaitingForUserUnblocked=_}),98);
__d("WebMpsPopulateMediaTagsDBMigration",["MpsTags","MpsTypes","WebReverbDB","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=20,s=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var r=t!=null?o("MpsTypes").toTimestamp(parseInt(t,10)):null,a=yield o("WebReverbDB").getWebReverbDB().runInTransaction(["message"],"readonly",function(t){return t.stores.message.readIndexRange("timestampMs",{greaterThan:[r!=null?r:o("MpsTypes").toTimestamp(0)]},{limit:e,order:"asc"})},"get-message-batch-after-timestamp");if(n.addPoint("messages_fetched_from_reverb",{int:{messageCount:a.length}}),a.length===0)return{hasMore:!1};var i=a.map(function(e){var t=o("MpsTags").getTagFromProto(e.payload);if(t==null)return null;var n=t;return{item:{messageId:e.messageId,messagePk:e.pk,tag:n,threadId:e.threadId,timestampMs:e.timestampMs},selector:[e.threadId,e.messageId,n]}}).filter(Boolean);return n.addPoint("tags_generated",{int:{tagCount:i.length}}),yield o("WebReverbDB").getWebReverbDB().runInTransaction(["tags"],"readwrite",function(e){return e.stores.tags.bulkUpsert("[threadId+messageId+tag]",i)},"upsert-tags"),n.addPoint("tags_updated"),{hasMore:!0,nextCursor:a[a.length-1].timestampMs.toString()}});return function(n,r){return t.apply(this,arguments)}})();l.WebMpsPopulateMediaTagsMigrationTask=s}),98);
__d("WormDbMigrationScheduler",["FBLogger","MpsTypes","ODS","QPLFlow","WAWaitForUserUnblocked","WebMpsPopulateMediaTagsDBMigration","WorkerScheduler","WormMaintenanceDb","asyncToGeneratorRuntime","getErrorSafe","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=function(){return r("FBLogger")("wmi").tags(["worm_db_migration"])},d=null,m={concurrency:1,maxTaskLimit:1,maxThrottleMs:r("justknobx")._("3546"),timeoutMs:r("justknobx")._("3614")},p={"reverb-populate-media-tags":o("WebMpsPopulateMediaTagsDBMigration").WebMpsPopulateMediaTagsMigrationTask},_=new Map;function f(e,t){return e+":"+(t!=null?t:"null")}function g(e){var t;return(t=_.get(e))!=null?t:0}function h(e){_.set(e,g(e)+1)}function y(){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield o("WAWaitForUserUnblocked").waitForUserUnblocked(),b(p)}),C.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(!r("justknobx")._("3720")){c().info("DB Migrations are disabled");return}if(d!=null){c().info("DB Migrations are already running");return}var t=!1,n=!1,o;try{for(var a=babelHelpers.asyncIterator(Object.entries(e)),i;t=!(i=yield a.next()).done;t=!1){var l=i.value,s=l[0],u=l[1];yield S(s,u)}}catch(e){n=!0,o=e}finally{try{t&&a.return!=null&&(yield a.return())}finally{if(n)throw o}}}),v.apply(this,arguments)}function S(e,t){return R.apply(this,arguments)}function R(){return R=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a=o("QPLFlow").startQPLFlow(r("qpl")._(767107656,"1154"),{annotations:{string:{migrationName:t}}}),i=yield L(t),l;if(i==null?(a.addPoint("migration_state_not_found"),l=yield E(t),(u||(u=o("ODS"))).bumpEntityKey(9819,"worm.db_migration",t+".started"),a.addPoint("initial_migration_state_set")):(a.addPoint("migration_state_retrieved"),l=i),l.finishedAtMs!=null){c().info("Migration "+t+" is already complete"),(u||(u=o("ODS"))).bumpEntityKey(9819,"worm.db_migration",t+".skipped"),a.addPoint("migration_already_complete"),a.endSuccess();return}var p=f(t,l.currentCursor),_=g(p);if(_>r("justknobx")._("2141")){c().INFO(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Migration "," has exceeded the max retry count"])),t),(u||(u=o("ODS"))).bumpEntityKey(9819,"worm.db_migration",t+".stuck"),a.addPoint("retry_count_exceeded"),a.endSuccess();return}d=o("WorkerScheduler").makeScheduler("WormDbMigrations",m).task({fn:function(){return n(l.currentCursor,a)},name:"worm_db_migration_"+t,priority:o("WorkerScheduler").BACKGROUND_PRIORITY});try{var y=yield d.run();a.addPoint("migration_task_complete"),d=null,y.hasMore?(yield k(babelHelpers.extends({},l,{currentCursor:y.nextCursor})),a.addPoint("migration_state_updated"),S(t,n)):(yield k(babelHelpers.extends({},l,{currentCursor:void 0,finishedAtMs:o("MpsTypes").toTimestamp(Date.now())})),(u||(u=o("ODS"))).bumpEntityKey(9819,"worm.db_migration",t+".complete"),a.addPoint("migration_complete")),a.endSuccess()}catch(e){d=null;var C=r("getErrorSafe")(e);c().FATAL(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Runtime error when running migration ",": ",""])),t,C.message),a.endFail("runtime_error",{string:{errorMessage:C.message}}),h(p),S(t,n)}}),R.apply(this,arguments)}function L(e){return o("WormMaintenanceDb").getWormMaintenanceDb().runInTransaction(["migrations"],"readonly",function(t){return t.stores.migrations.getByIndex("name",[e])},"mps-get-migration-by-name")}function E(e){return o("WormMaintenanceDb").getWormMaintenanceDb().runInTransaction(["migrations"],"readwrite",(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n={name:e,startedAtMs:o("MpsTypes").toTimestamp(Date.now())},r=yield t.stores.migrations.bulkAdd([n]),a=r[0];return babelHelpers.extends({},n,{pk:a})});return function(e){return t.apply(this,arguments)}})(),"mps-add-initial-migration-state")}function k(e){return o("WormMaintenanceDb").getWormMaintenanceDb().runInTransaction(["migrations"],"readwrite",(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){yield t.stores.migrations.bulkPut([e])});return function(e){return t.apply(this,arguments)}})(),"mps-set-migration-state")}l.runAllDbMigrations=y,l.getDbMigrationStateByName=L}),98);
__d("MpsReverbInit",["BrowserLockManager","MAWMpsMigrationStatus","MAWWormMaintenanceDbSetup","MpsTypes","Promise","WebMpsMigrationReverbTxns","WebReverbDB","WormDbMigrationScheduler","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s="wmi_mps_m4_non_migrated_status_lock",u="wmi_mps_new_db_status_lock",c,d=["reverb-populate-media-tags"],m=new Map(d.map(function(e){return[e,null]}));function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=yield o("WebReverbDB").makeWebReverb(t.name,t.strEncKey,t.blockingErrorThreshold,t.onBlockingError,t.qplEvent),i=a.isNewDb;yield o("MAWWormMaintenanceDbSetup").mawWormDbMaintenanceDbSetup();var l,p=[];if(i)l=!0,p=d.map(function(e){return{migrationName:e,ready:!0}});else{var _=yield o("WebMpsMigrationReverbTxns").getMawMpsMigrationState();l=(_==null?void 0:_.mawDBMigrationState)===o("MpsTypes").MawDBMigrationState.Completed,p=yield(e||(e=n("Promise"))).all(d.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("WormDbMigrationScheduler").getDbMigrationStateByName(e);return{migrationName:e,ready:(t==null?void 0:t.finishedAtMs)!=null}});return function(t){return e.apply(this,arguments)}})()))}if(r("BrowserLockManager")==null){o("MAWMpsMigrationStatus").setStatus(l),p.forEach(function(e){o("MAWMpsMigrationStatus").setDbMigrationState(e.migrationName,e.ready)});return}var f=yield r("BrowserLockManager").query(),g=f.held.some(function(e){return e.name===u});if(g){o("MAWMpsMigrationStatus").setStatus(!0),d.forEach(function(e){o("MAWMpsMigrationStatus").setDbMigrationState(e,!0)});return}if(l===!0){var h=f.held.some(function(e){return e.name===s})||f.pending.some(function(e){return e.name===s});h?l=!1:i===!0&&(c=r("BrowserLockManager").request(u,function(){return new(e||(e=n("Promise")))(function(){})}))}l||(c=r("BrowserLockManager").request(s,function(){return new(e||(e=n("Promise")))(function(){})})),o("MAWMpsMigrationStatus").setStatus(l),p.forEach(function(t){var a="LOCK_NOT_READY_MIGRATION-"+t.migrationName;if(t.ready){var i=f.held.some(function(e){return e.name===a})||f.pending.some(function(e){return e.name===a});i?o("MAWMpsMigrationStatus").setDbMigrationState(t.migrationName,!1):o("MAWMpsMigrationStatus").setDbMigrationState(t.migrationName,!0)}else o("MAWMpsMigrationStatus").setDbMigrationState(t.migrationName,!1),m.set(t.migrationName,r("BrowserLockManager").request(a,function(){return new(e||(e=n("Promise")))(function(){})}))})}),_.apply(this,arguments)}l.initReverb=p}),98);
__d("WAJobOrchestratorTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({SKIP:"SKIP_PRIORITIZATION",UI_ACTION:"UI_ACTION",LOW:"LOW",HIGH:"HIGH",OFFLINE:"OFFLINE",HISTORY_SYNC:"HISTORY_SYNC",BEST_EFFORT:"BEST_EFFORT"}),l=1,s=e.LOW,u=10*1e3;i.JOB_PRIORITY=e,i.DEFAULT_CONCURRENCY=l,i.DEFAULT_JOB_PRIORITY=s,i.DEFAULT_JOB_TIMEOUT_MS=u}),66);
__d("WAMediaQplHelper",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e==null||e<0||e>1e3*1024*1024?"invalid_size":e===0?"size equal to 0KB":e<=1*1024?"size lower than 1 KB":e<=50*1024?"size between 1 KB and 50 KB":e<=100*1024?"size between 50 KB and 100 KB":e<=500*1024?"size between 100 KB and 500 KB":e<=1*1024*1024?"size between 500 KB and 1 MB":e<=2*1024*1024?"size between 1 MB and 2 MB":e<=5*1024*1024?"size between 2 MB and 5 MB":e<=10*1024*1024?"size between 5 MB and 10 MB":e<=20*1024*1024?"size between 10 MB and 20 MB":e<=25*1024*1024?"size between 20 MB and 25 MB":e<=30*1024*1024?"size between 25 MB and 30 MB":e<=50*1024*1024?"size between 30 MB and 50 MB":e<=75*1024*1024?"size between 50 MB and 75 MB":e<=100*1024*1024?"size between 75 MB and 100 MB":"size above 100 MB"}i.convertIntegerSizeToStringBucket=e}),66);
__d("WAOfflineUtils",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["INIT","OFFLINE_RESUME","ONLINE"]),l=n("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});i.ServerRPCMode=e,i.WAClientInfraOfflineProgress=l}),66);
__d("groupBy",[],(function(t,n,r,o,a,i){function e(e,t){return e.reduce(function(e,n){return(e[t(n)]=e[t(n)]||[]).push(n),e},{})}i.default=e}),66);
__d("isGroupInvitesEnabled",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("125")===!0}l.default=e}),98);